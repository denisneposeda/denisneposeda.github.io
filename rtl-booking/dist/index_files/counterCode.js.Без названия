"use strict";function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw r}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Primegate=function(e,t){var n="https:"===t.location.protocol?"https://":"http://",o="PG_Lead_test",i=navigator.userAgent||"",r={version:(i.match(/.+(?:me|ox|on|rv|it|era|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],opera:/opera/i.test(i),msie:/msie/i.test(i)&&!/opera/i.test(i),msie6:/msie 6/i.test(i)&&!/opera/i.test(i),msie7:/msie 7/i.test(i)&&!/opera/i.test(i),msie8:/msie 8/i.test(i)&&!/opera/i.test(i),msie9:/msie 9/i.test(i)&&!/opera/i.test(i),msie10:/msie 10/i.test(i)&&!/opera/i.test(i),mozilla:/firefox/i.test(i),chrome:/chrome/i.test(i),safari:!/chrome/i.test(i)&&/webkit|safari|khtml/i.test(i),iphone:/iphone/i.test(i),ipod:/ipod/i.test(i),iphone4:/iphone.*OS 4/i.test(i),ipod4:/ipod.*OS 4/i.test(i),ipad:/ipad/i.test(i),ios:/ipad|ipod|iphone/i.test(i),android:/android/i.test(i),bada:/bada/i.test(i),mobile:/iphone|ipod|ipad|android|blackberry|opera mini|opera mobi|skyfire|maemo|windows phone|palm|iemobile|symbian|symbianos|fennec/i.test(i.toLowerCase()),bot:/bot|googlebot|crawler|spider|facebot|robot|crawling|addthis|facebookexternalhit|vkshare|exabot|applebot|yandexbot|twitterbot|googleplusshare|mail\.ru_bot/i.test(i),msie_mobile:/iemobile/i.test(i),safari_mobile:/iphone|ipod|ipad/i.test(i),opera_mobile:/opera mini|opera mobi/i.test(i),opera_mini:/opera mini/i.test(i),mac:/mac/i.test(i),webkit:/webkit/i.test(i),android_version:parseFloat(i.slice(i.indexOf("Android")+8))||0},a=!0,s="primegate_calltracking",l="primegate_calltracking_pull_settings",c="primegate_lead_genny_1_is_open",d="primegate_lead_genny_2_is_open",g="primegate_chat_last_msg_date",u="primegate_emailtracking_settings",p='/**\n * @fileoverview\n * - Using the \'QRCode for Javascript library\'\n * - Fixed dataset of \'QRCode for Javascript library\' for support full-spec.\n * - this library has no dependencies.\n *\n * @author davidshimjs\n * @see <a href="http://www.d-project.com/" target="_blank">http://www.d-project.com/</a>\n * @see <a href="http://jeromeetienne.github.com/jquery-qrcode/" target="_blank">http://jeromeetienne.github.com/jquery-qrcode/</a>\n */\nvar QRCode;\n\n(function () {\n    //---------------------------------------------------------------------\n    // QRCode for JavaScript\n    //\n    // Copyright (c) 2009 Kazuhiko Arase\n    //\n    // URL: http://www.d-project.com/\n    //\n    // Licensed under the MIT license:\n    //   http://www.opensource.org/licenses/mit-license.php\n    //\n    // The word "QR Code" is registered trademark of\n    // DENSO WAVE INCORPORATED\n    //   http://www.denso-wave.com/qrcode/faqpatent-e.html\n    //\n    //---------------------------------------------------------------------\n    function QR8bitByte(data) {\n        this.mode = QRMode.MODE_8BIT_BYTE;\n        this.data = data;\n        this.parsedData = [];\n\n        // Added to support UTF-8 Characters\n        for (var i = 0, l = this.data.length; i < l; i++) {\n            var byteArray = [];\n            var code = this.data.charCodeAt(i);\n\n            if (code > 0x10000) {\n                byteArray[0] = 0xF0 | ((code & 0x1C0000) >>> 18);\n                byteArray[1] = 0x80 | ((code & 0x3F000) >>> 12);\n                byteArray[2] = 0x80 | ((code & 0xFC0) >>> 6);\n                byteArray[3] = 0x80 | (code & 0x3F);\n            } else if (code > 0x800) {\n                byteArray[0] = 0xE0 | ((code & 0xF000) >>> 12);\n                byteArray[1] = 0x80 | ((code & 0xFC0) >>> 6);\n                byteArray[2] = 0x80 | (code & 0x3F);\n            } else if (code > 0x80) {\n                byteArray[0] = 0xC0 | ((code & 0x7C0) >>> 6);\n                byteArray[1] = 0x80 | (code & 0x3F);\n            } else {\n                byteArray[0] = code;\n            }\n\n            this.parsedData.push(byteArray);\n        }\n\n        this.parsedData = Array.prototype.concat.apply([], this.parsedData);\n\n        if (this.parsedData.length != this.data.length) {\n            this.parsedData.unshift(191);\n            this.parsedData.unshift(187);\n            this.parsedData.unshift(239);\n        }\n    }\n\n    QR8bitByte.prototype = {\n        getLength: function (buffer) {\n            return this.parsedData.length;\n        },\n        write: function (buffer) {\n            for (var i = 0, l = this.parsedData.length; i < l; i++) {\n                buffer.put(this.parsedData[i], 8);\n            }\n        }\n    };\n\n    function QRCodeModel(typeNumber, errorCorrectLevel) {\n        this.typeNumber = typeNumber;\n        this.errorCorrectLevel = errorCorrectLevel;\n        this.modules = null;\n        this.moduleCount = 0;\n        this.dataCache = null;\n        this.dataList = [];\n    }\n\n    QRCodeModel.prototype={addData:function(data){var newData=new QR8bitByte(data);this.dataList.push(newData);this.dataCache=null;},isDark:function(row,col){if(row<0||this.moduleCount<=row||col<0||this.moduleCount<=col){throw new Error(row+","+col);}\n            return this.modules[row][col];},getModuleCount:function(){return this.moduleCount;},make:function(){this.makeImpl(false,this.getBestMaskPattern());},makeImpl:function(test,maskPattern){this.moduleCount=this.typeNumber*4+17;this.modules=new Array(this.moduleCount);for(var row=0;row<this.moduleCount;row++){this.modules[row]=new Array(this.moduleCount);for(var col=0;col<this.moduleCount;col++){this.modules[row][col]=null;}}\n            this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(test,maskPattern);if(this.typeNumber>=7){this.setupTypeNumber(test);}\n            if(this.dataCache==null){this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList);}\n            this.mapData(this.dataCache,maskPattern);},setupPositionProbePattern:function(row,col){for(var r=-1;r<=7;r++){if(row+r<=-1||this.moduleCount<=row+r)continue;for(var c=-1;c<=7;c++){if(col+c<=-1||this.moduleCount<=col+c)continue;if((0<=r&&r<=6&&(c==0||c==6))||(0<=c&&c<=6&&(r==0||r==6))||(2<=r&&r<=4&&2<=c&&c<=4)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}},getBestMaskPattern:function(){var minLostPoint=0;var pattern=0;for(var i=0;i<8;i++){this.makeImpl(true,i);var lostPoint=QRUtil.getLostPoint(this);if(i==0||minLostPoint>lostPoint){minLostPoint=lostPoint;pattern=i;}}\n            return pattern;},createMovieClip:function(target_mc,instance_name,depth){var qr_mc=target_mc.createEmptyMovieClip(instance_name,depth);var cs=1;this.make();for(var row=0;row<this.modules.length;row++){var y=row*cs;for(var col=0;col<this.modules[row].length;col++){var x=col*cs;var dark=this.modules[row][col];if(dark){qr_mc.beginFill(0,100);qr_mc.moveTo(x,y);qr_mc.lineTo(x+cs,y);qr_mc.lineTo(x+cs,y+cs);qr_mc.lineTo(x,y+cs);qr_mc.endFill();}}}\n            return qr_mc;},setupTimingPattern:function(){for(var r=8;r<this.moduleCount-8;r++){if(this.modules[r][6]!=null){continue;}\n            this.modules[r][6]=(r%2==0);}\n            for(var c=8;c<this.moduleCount-8;c++){if(this.modules[6][c]!=null){continue;}\n                this.modules[6][c]=(c%2==0);}},setupPositionAdjustPattern:function(){var pos=QRUtil.getPatternPosition(this.typeNumber);for(var i=0;i<pos.length;i++){for(var j=0;j<pos.length;j++){var row=pos[i];var col=pos[j];if(this.modules[row][col]!=null){continue;}\n            for(var r=-2;r<=2;r++){for(var c=-2;c<=2;c++){if(r==-2||r==2||c==-2||c==2||(r==0&&c==0)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}}}},setupTypeNumber:function(test){var bits=QRUtil.getBCHTypeNumber(this.typeNumber);for(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=mod;}\n            for(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=mod;}},setupTypeInfo:function(test,maskPattern){var data=(this.errorCorrectLevel<<3)|maskPattern;var bits=QRUtil.getBCHTypeInfo(data);for(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<6){this.modules[i][8]=mod;}else if(i<8){this.modules[i+1][8]=mod;}else{this.modules[this.moduleCount-15+i][8]=mod;}}\n            for(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<8){this.modules[8][this.moduleCount-i-1]=mod;}else if(i<9){this.modules[8][15-i-1+1]=mod;}else{this.modules[8][15-i-1]=mod;}}\n            this.modules[this.moduleCount-8][8]=(!test);},mapData:function(data,maskPattern){var inc=-1;var row=this.moduleCount-1;var bitIndex=7;var byteIndex=0;for(var col=this.moduleCount-1;col>0;col-=2){if(col==6)col--;while(true){for(var c=0;c<2;c++){if(this.modules[row][col-c]==null){var dark=false;if(byteIndex<data.length){dark=(((data[byteIndex]>>>bitIndex)&1)==1);}\n            var mask=QRUtil.getMask(maskPattern,row,col-c);if(mask){dark=!dark;}\n            this.modules[row][col-c]=dark;bitIndex--;if(bitIndex==-1){byteIndex++;bitIndex=7;}}}\n            row+=inc;if(row<0||this.moduleCount<=row){row-=inc;inc=-inc;break;}}}}};QRCodeModel.PAD0=0xEC;QRCodeModel.PAD1=0x11;QRCodeModel.createData=function(typeNumber,errorCorrectLevel,dataList){var rsBlocks=QRRSBlock.getRSBlocks(typeNumber,errorCorrectLevel);var buffer=new QRBitBuffer();for(var i=0;i<dataList.length;i++){var data=dataList[i];buffer.put(data.mode,4);buffer.put(data.getLength(),QRUtil.getLengthInBits(data.mode,typeNumber));data.write(buffer);}\n        var totalDataCount=0;for(var i=0;i<rsBlocks.length;i++){totalDataCount+=rsBlocks[i].dataCount;}\n        if(buffer.getLengthInBits()>totalDataCount*8){throw new Error("code length overflow. ("\n            +buffer.getLengthInBits()\n            +">"\n            +totalDataCount*8\n            +")");}\n        if(buffer.getLengthInBits()+4<=totalDataCount*8){buffer.put(0,4);}\n        while(buffer.getLengthInBits()%8!=0){buffer.putBit(false);}\n        while(true){if(buffer.getLengthInBits()>=totalDataCount*8){break;}\n            buffer.put(QRCodeModel.PAD0,8);if(buffer.getLengthInBits()>=totalDataCount*8){break;}\n            buffer.put(QRCodeModel.PAD1,8);}\n        return QRCodeModel.createBytes(buffer,rsBlocks);};QRCodeModel.createBytes=function(buffer,rsBlocks){var offset=0;var maxDcCount=0;var maxEcCount=0;var dcdata=new Array(rsBlocks.length);var ecdata=new Array(rsBlocks.length);for(var r=0;r<rsBlocks.length;r++){var dcCount=rsBlocks[r].dataCount;var ecCount=rsBlocks[r].totalCount-dcCount;maxDcCount=Math.max(maxDcCount,dcCount);maxEcCount=Math.max(maxEcCount,ecCount);dcdata[r]=new Array(dcCount);for(var i=0;i<dcdata[r].length;i++){dcdata[r][i]=0xff&buffer.buffer[i+offset];}\n        offset+=dcCount;var rsPoly=QRUtil.getErrorCorrectPolynomial(ecCount);var rawPoly=new QRPolynomial(dcdata[r],rsPoly.getLength()-1);var modPoly=rawPoly.mod(rsPoly);ecdata[r]=new Array(rsPoly.getLength()-1);for(var i=0;i<ecdata[r].length;i++){var modIndex=i+modPoly.getLength()-ecdata[r].length;ecdata[r][i]=(modIndex>=0)?modPoly.get(modIndex):0;}}\n        var totalCodeCount=0;for(var i=0;i<rsBlocks.length;i++){totalCodeCount+=rsBlocks[i].totalCount;}\n        var data=new Array(totalCodeCount);var index=0;for(var i=0;i<maxDcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<dcdata[r].length){data[index++]=dcdata[r][i];}}}\n        for(var i=0;i<maxEcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<ecdata[r].length){data[index++]=ecdata[r][i];}}}\n        return data;};var QRMode={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3};var QRErrorCorrectLevel={L:1,M:0,Q:3,H:2};var QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:(1<<10)|(1<<8)|(1<<5)|(1<<4)|(1<<2)|(1<<1)|(1<<0),G18:(1<<12)|(1<<11)|(1<<10)|(1<<9)|(1<<8)|(1<<5)|(1<<2)|(1<<0),G15_MASK:(1<<14)|(1<<12)|(1<<10)|(1<<4)|(1<<1),getBCHTypeInfo:function(data){var d=data<<10;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)>=0){d^=(QRUtil.G15<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)));}\n            return((data<<10)|d)^QRUtil.G15_MASK;},getBCHTypeNumber:function(data){var d=data<<12;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)>=0){d^=(QRUtil.G18<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)));}\n            return(data<<12)|d;},getBCHDigit:function(data){var digit=0;while(data!=0){digit++;data>>>=1;}\n            return digit;},getPatternPosition:function(typeNumber){return QRUtil.PATTERN_POSITION_TABLE[typeNumber-1];},getMask:function(maskPattern,i,j){switch(maskPattern){case QRMaskPattern.PATTERN000:return(i+j)%2==0;case QRMaskPattern.PATTERN001:return i%2==0;case QRMaskPattern.PATTERN010:return j%3==0;case QRMaskPattern.PATTERN011:return(i+j)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(i/2)+Math.floor(j/3))%2==0;case QRMaskPattern.PATTERN101:return(i*j)%2+(i*j)%3==0;case QRMaskPattern.PATTERN110:return((i*j)%2+(i*j)%3)%2==0;case QRMaskPattern.PATTERN111:return((i*j)%3+(i+j)%2)%2==0;default:throw new Error("bad maskPattern:"+maskPattern);}},getErrorCorrectPolynomial:function(errorCorrectLength){var a=new QRPolynomial([1],0);for(var i=0;i<errorCorrectLength;i++){a=a.multiply(new QRPolynomial([1,QRMath.gexp(i)],0));}\n            return a;},getLengthInBits:function(mode,type){if(1<=type&&type<10){switch(mode){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+mode);}}else if(type<27){switch(mode){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+mode);}}else if(type<41){switch(mode){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+mode);}}else{throw new Error("type:"+type);}},getLostPoint:function(qrCode){var moduleCount=qrCode.getModuleCount();var lostPoint=0;for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount;col++){var sameCount=0;var dark=qrCode.isDark(row,col);for(var r=-1;r<=1;r++){if(row+r<0||moduleCount<=row+r){continue;}\n            for(var c=-1;c<=1;c++){if(col+c<0||moduleCount<=col+c){continue;}\n                if(r==0&&c==0){continue;}\n                if(dark==qrCode.isDark(row+r,col+c)){sameCount++;}}}\n            if(sameCount>5){lostPoint+=(3+sameCount-5);}}}\n            for(var row=0;row<moduleCount-1;row++){for(var col=0;col<moduleCount-1;col++){var count=0;if(qrCode.isDark(row,col))count++;if(qrCode.isDark(row+1,col))count++;if(qrCode.isDark(row,col+1))count++;if(qrCode.isDark(row+1,col+1))count++;if(count==0||count==4){lostPoint+=3;}}}\n            for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount-6;col++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row,col+1)&&qrCode.isDark(row,col+2)&&qrCode.isDark(row,col+3)&&qrCode.isDark(row,col+4)&&!qrCode.isDark(row,col+5)&&qrCode.isDark(row,col+6)){lostPoint+=40;}}}\n            for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount-6;row++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row+1,col)&&qrCode.isDark(row+2,col)&&qrCode.isDark(row+3,col)&&qrCode.isDark(row+4,col)&&!qrCode.isDark(row+5,col)&&qrCode.isDark(row+6,col)){lostPoint+=40;}}}\n            var darkCount=0;for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount;row++){if(qrCode.isDark(row,col)){darkCount++;}}}\n            var ratio=Math.abs(100*darkCount/moduleCount/moduleCount-50)/5;lostPoint+=ratio*10;return lostPoint;}};var QRMath={glog:function(n){if(n<1){throw new Error("glog("+n+")");}\n            return QRMath.LOG_TABLE[n];},gexp:function(n){while(n<0){n+=255;}\n            while(n>=256){n-=255;}\n            return QRMath.EXP_TABLE[n];},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i=0;i<8;i++){QRMath.EXP_TABLE[i]=1<<i;}\n    for(var i=8;i<256;i++){QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];}\n    for(var i=0;i<255;i++){QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;}\n    function QRPolynomial(num,shift){if(num.length==undefined){throw new Error(num.length+"/"+shift);}\n        var offset=0;while(offset<num.length&&num[offset]==0){offset++;}\n        this.num=new Array(num.length-offset+shift);for(var i=0;i<num.length-offset;i++){this.num[i]=num[i+offset];}}\n    QRPolynomial.prototype={get:function(index){return this.num[index];},getLength:function(){return this.num.length;},multiply:function(e){var num=new Array(this.getLength()+e.getLength()-1);for(var i=0;i<this.getLength();i++){for(var j=0;j<e.getLength();j++){num[i+j]^=QRMath.gexp(QRMath.glog(this.get(i))+QRMath.glog(e.get(j)));}}\n            return new QRPolynomial(num,0);},mod:function(e){if(this.getLength()-e.getLength()<0){return this;}\n            var ratio=QRMath.glog(this.get(0))-QRMath.glog(e.get(0));var num=new Array(this.getLength());for(var i=0;i<this.getLength();i++){num[i]=this.get(i);}\n            for(var i=0;i<e.getLength();i++){num[i]^=QRMath.gexp(QRMath.glog(e.get(i))+ratio);}\n            return new QRPolynomial(num,0).mod(e);}};function QRRSBlock(totalCount,dataCount){this.totalCount=totalCount;this.dataCount=dataCount;}\n    QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(typeNumber,errorCorrectLevel){var rsBlock=QRRSBlock.getRsBlockTable(typeNumber,errorCorrectLevel);if(rsBlock==undefined){throw new Error("bad rs block @ typeNumber:"+typeNumber+"/errorCorrectLevel:"+errorCorrectLevel);}\n        var length=rsBlock.length/3;var list=[];for(var i=0;i<length;i++){var count=rsBlock[i*3+0];var totalCount=rsBlock[i*3+1];var dataCount=rsBlock[i*3+2];for(var j=0;j<count;j++){list.push(new QRRSBlock(totalCount,dataCount));}}\n        return list;};QRRSBlock.getRsBlockTable=function(typeNumber,errorCorrectLevel){switch(errorCorrectLevel){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+3];default:return undefined;}};function QRBitBuffer(){this.buffer=[];this.length=0;}\n    QRBitBuffer.prototype={get:function(index){var bufIndex=Math.floor(index/8);return((this.buffer[bufIndex]>>>(7-index%8))&1)==1;},put:function(num,length){for(var i=0;i<length;i++){this.putBit(((num>>>(length-i-1))&1)==1);}},getLengthInBits:function(){return this.length;},putBit:function(bit){var bufIndex=Math.floor(this.length/8);if(this.buffer.length<=bufIndex){this.buffer.push(0);}\n            if(bit){this.buffer[bufIndex]|=(0x80>>>(this.length%8));}\n            this.length++;}};var QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];\n\n    function _isSupportCanvas() {\n        return typeof CanvasRenderingContext2D != "undefined";\n    }\n\n    // android 2.x doesn\'t support Data-URI spec\n    function _getAndroid() {\n        var android = false;\n        var sAgent = navigator.userAgent;\n\n        if (/android/i.test(sAgent)) { // android\n            android = true;\n            var aMat = sAgent.toString().match(/android ([0-9].[0-9])/i);\n\n            if (aMat && aMat[1]) {\n                android = parseFloat(aMat[1]);\n            }\n        }\n\n        return android;\n    }\n\n    var svgDrawer = (function() {\n\n        var Drawing = function (el, htOption) {\n            this._el = el;\n            this._htOption = htOption;\n        };\n\n        Drawing.prototype.draw = function (oQRCode) {\n            var _htOption = this._htOption;\n            var _el = this._el;\n            var nCount = oQRCode.getModuleCount();\n            var nWidth = Math.floor(_htOption.width / nCount);\n            var nHeight = Math.floor(_htOption.height / nCount);\n\n            this.clear();\n\n            function makeSVG(tag, attrs) {\n                var el = document.createElementNS(\'http://www.w3.org/2000/svg\', tag);\n                for (var k in attrs)\n                    if (attrs.hasOwnProperty(k)) el.setAttribute(k, attrs[k]);\n                return el;\n            }\n\n            var svg = makeSVG("svg" , {\'viewBox\': \'0 0 \' + String(nCount) + " " + String(nCount), \'width\': \'100%\', \'height\': \'100%\', \'fill\': _htOption.colorLight});\n            svg.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:xlink", "http://www.w3.org/1999/xlink");\n            _el.appendChild(svg);\n\n            svg.appendChild(makeSVG("rect", {"fill": _htOption.colorLight, "width": "100%", "height": "100%"}));\n            svg.appendChild(makeSVG("rect", {"fill": _htOption.colorDark, "width": "1", "height": "1", "id": "template"}));\n\n            for (var row = 0; row < nCount; row++) {\n                for (var col = 0; col < nCount; col++) {\n                    if (oQRCode.isDark(row, col)) {\n                        var child = makeSVG("use", {"x": String(col), "y": String(row)});\n                        child.setAttributeNS("http://www.w3.org/1999/xlink", "href", "#template")\n                        svg.appendChild(child);\n                    }\n                }\n            }\n        };\n        Drawing.prototype.clear = function () {\n            while (this._el.hasChildNodes())\n                this._el.removeChild(this._el.lastChild);\n        };\n        return Drawing;\n    })();\n\n    var useSVG = document.documentElement.tagName.toLowerCase() === "svg";\n\n    // Drawing in DOM by using Table tag\n    var Drawing = useSVG ? svgDrawer : !_isSupportCanvas() ? (function () {\n        var Drawing = function (el, htOption) {\n            this._el = el;\n            this._htOption = htOption;\n        };\n\n        /**\n         * Draw the QRCode\n         *\n         * @param {QRCode} oQRCode\n         */\n        Drawing.prototype.draw = function (oQRCode) {\n            var _htOption = this._htOption;\n            var _el = this._el;\n            var nCount = oQRCode.getModuleCount();\n            var nWidth = Math.floor(_htOption.width / nCount);\n            var nHeight = Math.floor(_htOption.height / nCount);\n            var aHTML = [\'<table style="border:0;border-collapse:collapse;">\'];\n\n            for (var row = 0; row < nCount; row++) {\n                aHTML.push(\'<tr>\');\n\n                for (var col = 0; col < nCount; col++) {\n                    aHTML.push(\'<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:\' + nWidth + \'px;height:\' + nHeight + \'px;background-color:\' + (oQRCode.isDark(row, col) ? _htOption.colorDark : _htOption.colorLight) + \';"></td>\');\n                }\n\n                aHTML.push(\'</tr>\');\n            }\n\n            aHTML.push(\'</table>\');\n            _el.innerHTML = aHTML.join(\'\');\n\n            // Fix the margin values as real size.\n            var elTable = _el.childNodes[0];\n            var nLeftMarginTable = (_htOption.width - elTable.offsetWidth) / 2;\n            var nTopMarginTable = (_htOption.height - elTable.offsetHeight) / 2;\n\n            if (nLeftMarginTable > 0 && nTopMarginTable > 0) {\n                elTable.style.margin = nTopMarginTable + "px " + nLeftMarginTable + "px";\n            }\n        };\n\n        /**\n         * Clear the QRCode\n         */\n        Drawing.prototype.clear = function () {\n            this._el.innerHTML = \'\';\n        };\n\n        return Drawing;\n    })() : (function () { // Drawing in Canvas\n        function _onMakeImage() {\n            this._elImage.src = this._elCanvas.toDataURL("image/png");\n            this._elImage.style.display = "block";\n            this._elCanvas.style.display = "none";\n        }\n\n        // Android 2.1 bug workaround\n        // http://code.google.com/p/android/issues/detail?id=5141\n        if (this._android && this._android <= 2.1) {\n            var factor = 1 / window.devicePixelRatio;\n            var drawImage = CanvasRenderingContext2D.prototype.drawImage;\n            CanvasRenderingContext2D.prototype.drawImage = function (image, sx, sy, sw, sh, dx, dy, dw, dh) {\n                if (("nodeName" in image) && /img/i.test(image.nodeName)) {\n                    for (var i = arguments.length - 1; i >= 1; i--) {\n                        arguments[i] = arguments[i] * factor;\n                    }\n                } else if (typeof dw == "undefined") {\n                    arguments[1] *= factor;\n                    arguments[2] *= factor;\n                    arguments[3] *= factor;\n                    arguments[4] *= factor;\n                }\n\n                drawImage.apply(this, arguments);\n            };\n        }\n\n        /**\n         * Check whether the user\'s browser supports Data URI or not\n         *\n         * @private\n         * @param {Function} fSuccess Occurs if it supports Data URI\n         * @param {Function} fFail Occurs if it doesn\'t support Data URI\n         */\n        function _safeSetDataURI(fSuccess, fFail) {\n            var self = this;\n            self._fFail = fFail;\n            self._fSuccess = fSuccess;\n\n            // Check it just once\n            if (self._bSupportDataURI === null) {\n                var el = document.createElement("img");\n                var fOnError = function() {\n                    self._bSupportDataURI = false;\n\n                    if (self._fFail) {\n                        self._fFail.call(self);\n                    }\n                };\n                var fOnSuccess = function() {\n                    self._bSupportDataURI = true;\n\n                    if (self._fSuccess) {\n                        self._fSuccess.call(self);\n                    }\n                };\n\n                el.onabort = fOnError;\n                el.onerror = fOnError;\n                el.onload = fOnSuccess;\n                el.src = "data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg=="; // the Image contains 1px data.\n                return;\n            } else if (self._bSupportDataURI === true && self._fSuccess) {\n                self._fSuccess.call(self);\n            } else if (self._bSupportDataURI === false && self._fFail) {\n                self._fFail.call(self);\n            }\n        };\n\n        /**\n         * Drawing QRCode by using canvas\n         *\n         * @constructor\n         * @param {HTMLElement} el\n         * @param {Object} htOption QRCode Options\n         */\n        var Drawing = function (el, htOption) {\n            this._bIsPainted = false;\n            this._android = _getAndroid();\n\n            this._htOption = htOption;\n            this._elCanvas = document.createElement("canvas");\n            this._elCanvas.width = htOption.width;\n            this._elCanvas.height = htOption.height;\n            el.appendChild(this._elCanvas);\n            this._el = el;\n            this._oContext = this._elCanvas.getContext("2d");\n            this._bIsPainted = false;\n            this._elImage = document.createElement("img");\n            this._elImage.alt = "Scan me!";\n            this._elImage.style.display = "none";\n            this._el.appendChild(this._elImage);\n            this._bSupportDataURI = null;\n        };\n\n        /**\n         * Draw the QRCode\n         *\n         * @param {QRCode} oQRCode\n         */\n        Drawing.prototype.draw = function (oQRCode) {\n            var _elImage = this._elImage;\n            var _oContext = this._oContext;\n            var _htOption = this._htOption;\n\n            var nCount = oQRCode.getModuleCount();\n            var nWidth = _htOption.width / nCount;\n            var nHeight = _htOption.height / nCount;\n            var nRoundedWidth = Math.round(nWidth);\n            var nRoundedHeight = Math.round(nHeight);\n\n            _elImage.style.display = "none";\n            this.clear();\n\n            for (var row = 0; row < nCount; row++) {\n                for (var col = 0; col < nCount; col++) {\n                    var bIsDark = oQRCode.isDark(row, col);\n                    var nLeft = col * nWidth;\n                    var nTop = row * nHeight;\n                    _oContext.strokeStyle = bIsDark ? _htOption.colorDark : _htOption.colorLight;\n                    _oContext.lineWidth = 1;\n                    _oContext.fillStyle = bIsDark ? _htOption.colorDark : _htOption.colorLight;\n                    _oContext.fillRect(nLeft, nTop, nWidth, nHeight);\n\n                    // 안티 앨리어싱 방지 처리\n                    _oContext.strokeRect(\n                        Math.floor(nLeft) + 0.5,\n                        Math.floor(nTop) + 0.5,\n                        nRoundedWidth,\n                        nRoundedHeight\n                    );\n\n                    _oContext.strokeRect(\n                        Math.ceil(nLeft) - 0.5,\n                        Math.ceil(nTop) - 0.5,\n                        nRoundedWidth,\n                        nRoundedHeight\n                    );\n                }\n            }\n\n            this._bIsPainted = true;\n        };\n\n        /**\n         * Make the image from Canvas if the browser supports Data URI.\n         */\n        Drawing.prototype.makeImage = function () {\n            if (this._bIsPainted) {\n                _safeSetDataURI.call(this, _onMakeImage);\n            }\n        };\n\n        /**\n         * Return whether the QRCode is painted or not\n         *\n         * @return {Boolean}\n         */\n        Drawing.prototype.isPainted = function () {\n            return this._bIsPainted;\n        };\n\n        /**\n         * Clear the QRCode\n         */\n        Drawing.prototype.clear = function () {\n            this._oContext.clearRect(0, 0, this._elCanvas.width, this._elCanvas.height);\n            this._bIsPainted = false;\n        };\n\n        /**\n         * @private\n         * @param {Number} nNumber\n         */\n        Drawing.prototype.round = function (nNumber) {\n            if (!nNumber) {\n                return nNumber;\n            }\n\n            return Math.floor(nNumber * 1000) / 1000;\n        };\n\n        return Drawing;\n    })();\n\n    /**\n     * Get the type by string length\n     *\n     * @private\n     * @param {String} sText\n     * @param {Number} nCorrectLevel\n     * @return {Number} type\n     */\n    function _getTypeNumber(sText, nCorrectLevel) {\n        var nType = 1;\n        var length = _getUTF8Length(sText);\n\n        for (var i = 0, len = QRCodeLimitLength.length; i <= len; i++) {\n            var nLimit = 0;\n\n            switch (nCorrectLevel) {\n                case QRErrorCorrectLevel.L :\n                    nLimit = QRCodeLimitLength[i][0];\n                    break;\n                case QRErrorCorrectLevel.M :\n                    nLimit = QRCodeLimitLength[i][1];\n                    break;\n                case QRErrorCorrectLevel.Q :\n                    nLimit = QRCodeLimitLength[i][2];\n                    break;\n                case QRErrorCorrectLevel.H :\n                    nLimit = QRCodeLimitLength[i][3];\n                    break;\n            }\n\n            if (length <= nLimit) {\n                break;\n            } else {\n                nType++;\n            }\n        }\n\n        if (nType > QRCodeLimitLength.length) {\n            throw new Error("Too long data");\n        }\n\n        return nType;\n    }\n\n    function _getUTF8Length(sText) {\n        var replacedText = encodeURI(sText).toString().replace(/%[0-9a-fA-F]{2}/g, \'a\');\n        return replacedText.length + (replacedText.length != sText ? 3 : 0);\n    }\n\n    /**\n     * @class QRCode\n     * @constructor\n     * @example\n     * new QRCode(document.getElementById("test"), "http://jindo.dev.naver.com/collie");\n     *\n     * @example\n     * var oQRCode = new QRCode("test", {\n     *    text : "http://naver.com",\n     *    width : 128,\n     *    height : 128\n     * });\n     *\n     * oQRCode.clear(); // Clear the QRCode.\n     * oQRCode.makeCode("http://map.naver.com"); // Re-create the QRCode.\n     *\n     * @param {HTMLElement|String} el target element or \'id\' attribute of element.\n     * @param {Object|String} vOption\n     * @param {String} vOption.text QRCode link data\n     * @param {Number} [vOption.width=256]\n     * @param {Number} [vOption.height=256]\n     * @param {String} [vOption.colorDark="#000000"]\n     * @param {String} [vOption.colorLight="#ffffff"]\n     * @param {QRCode.CorrectLevel} [vOption.correctLevel=QRCode.CorrectLevel.H] [L|M|Q|H]\n     */\n    QRCode = function (el, vOption) {\n        this._htOption = {\n            width : 256,\n            height : 256,\n            typeNumber : 4,\n            colorDark : "#000000",\n            colorLight : "#ffffff",\n            correctLevel : QRErrorCorrectLevel.H\n        };\n\n        if (typeof vOption === \'string\') {\n            vOption\t= {\n                text : vOption\n            };\n        }\n\n        // Overwrites options\n        if (vOption) {\n            for (var i in vOption) {\n                this._htOption[i] = vOption[i];\n            }\n        }\n\n        if (typeof el == "string") {\n            el = document.getElementById(el);\n        }\n\n        if (this._htOption.useSVG) {\n            Drawing = svgDrawer;\n        }\n\n        this._android = _getAndroid();\n        this._el = el;\n        this._oQRCode = null;\n        this._oDrawing = new Drawing(this._el, this._htOption);\n\n        if (this._htOption.text) {\n            this.makeCode(this._htOption.text);\n        }\n    };\n\n    /**\n     * Make the QRCode\n     *\n     * @param {String} sText link data\n     */\n    QRCode.prototype.makeCode = function (sText) {\n        this._oQRCode = new QRCodeModel(_getTypeNumber(sText, this._htOption.correctLevel), this._htOption.correctLevel);\n        this._oQRCode.addData(sText);\n        this._oQRCode.make();\n        this._el.title = sText;\n        this._oDrawing.draw(this._oQRCode);\n        this.makeImage();\n    };\n\n    /**\n     * Make the Image from Canvas element\n     * - It occurs automatically\n     * - Android below 3 doesn\'t support Data-URI spec.\n     *\n     * @private\n     */\n    QRCode.prototype.makeImage = function () {\n        if (typeof this._oDrawing.makeImage == "function" && (!this._android || this._android >= 3)) {\n            this._oDrawing.makeImage();\n        }\n    };\n\n    /**\n     * Clear the QRCode\n     */\n    QRCode.prototype.clear = function () {\n        this._oDrawing.clear();\n    };\n\n    /**\n     * @name QRCode.CorrectLevel\n     */\n    QRCode.CorrectLevel = QRErrorCorrectLevel;\n})();',h={apiKey:"",settings:null,isNewSession:!1,pullSettings:null,lowInterval:null,normalInterval:null,highInterval:null,emailPullSettings:null,formSelectors:null,telegramData:null,chatData:{helloMessageChat:"",cf:!1,sub:!1,lastDate:!1,managers:!1,chatId:!1,wasSendWrite:!1,lastText:"",messages:[],isLabelNewMessagesViewed:!0,timeOutIsWriting:null,actionsIndicator:["load","sent","delivered","read"],filesAttach:[]},widget:{isResize:!1,offsetY:"20"}},f="",m=null,_=t.title,b=["mousemove","mousedown","mouseup","keydown","keyup","scroll"],x=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=null!=n?n:h.settings.widget.widget_text_color,i="";switch(t){case"main":switch(h.settings.widget.widget_button_icon){case"0":i='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve" width="64px" height="64px">\n                    <path d="M54.07,1H15.93C12.66,1,10,3.66,10,6.93V15H5.93C2.66,15,0,17.66,0,20.929V42.07C0,45.34,2.66,48,5.93,48H12v10   c0,0.413,0.254,0.784,0.64,0.933C12.757,58.978,12.879,59,13,59c0.276,0,0.547-0.115,0.74-0.327L23.442,48H44.07   c3.27,0,5.93-2.66,5.93-5.93V34h4.07c3.27,0,5.93-2.66,5.93-5.93V6.93C60,3.66,57.34,1,54.07,1z M48,42.07   c0,2.167-1.763,3.93-3.93,3.93H23c-0.282,0-0.551,0.119-0.74,0.327L14,55.414V47c0-0.552-0.447-1-1-1H5.93   C3.763,46,2,44.237,2,42.07V20.929C2,18.763,3.763,17,5.93,17H11h33.07c0.813,0,1.568,0.248,2.196,0.672   C47.311,18.379,48,19.575,48,20.93V33V42.07z M58,28.07c0,2.167-1.763,3.93-3.93,3.93H50V20.93v0c0-2.656-1.756-4.91-4.168-5.662   c-0.186-0.058-0.375-0.107-0.568-0.146C44.878,15.042,44.479,15,44.07,15H12V6.93C12,4.763,13.763,3,15.93,3H54.07   C56.237,3,58,4.763,58,6.93V28.07z" fill="'.concat(o,'"/>\n                    <path d="M12,27.015h14c0.553,0,1-0.448,1-1s-0.447-1-1-1H12c-0.553,0-1,0.448-1,1S11.447,27.015,12,27.015z" fill="').concat(o,'"/>\n                    <path d="M39,31.015H12c-0.553,0-1,0.448-1,1s0.447,1,1,1h27c0.553,0,1-0.448,1-1S39.553,31.015,39,31.015z" fill="').concat(o,'"/>\n                    <path d="M39,37.015H12c-0.553,0-1,0.448-1,1s0.447,1,1,1h27c0.553,0,1-0.448,1-1S39.553,37.015,39,37.015z" fill="').concat(o,'"/>\n                    </svg>');break;case"1":i='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 448.978 448.978" style="enable-background:new 0 0 448.978 448.978;" xml:space="preserve" width="512px" height="512px">\n                    <path style="fill:#4D4D4D;" d="M441.232,249.095c4.14,0,7.5,3.36,7.5,7.5c0,4.15-3.36,7.5-7.5,7.5c-5.53,0-7.88,1.51-11.42,3.8    c-4.28,2.77-9.6,6.2-19.55,6.2c-9.96,0-15.28-3.43-19.56-6.2c-3.54-2.29-5.88-3.8-11.41-3.8s-7.87,1.51-11.41,3.8    c-4.28,2.77-9.6,6.2-19.55,6.2c-9.96,0-15.28-3.43-19.56-6.2c-3.34-2.16-5.62-3.62-10.51-3.78l-142.63,142.63    c-5.52,5.52-12.78,8.28-20.03,8.28s-14.5-2.76-20.02-8.28l-80.52-80.51c-5.34-5.35-8.29-12.47-8.29-20.03    c0-7.57,2.95-14.68,8.29-20.03l21.05-21.04c-1.72-0.66-3.68-1.04-6.44-1.04c-5.53,0-7.87,1.51-11.41,3.8    c-4.28,2.77-9.6,6.2-19.55,6.2s-15.28-3.43-19.55-6.2c-3.54-2.29-5.88-3.8-11.41-3.8c-4.14,0-7.5-3.35-7.5-7.5    c0-4.14,3.36-7.5,7.5-7.5c9.95,0,15.27,3.44,19.55,6.2c3.54,2.29,5.88,3.8,11.41,3.8s7.87-1.51,11.41-3.8    c4.28-2.76,9.6-6.2,19.55-6.2c8.46,0,13.57,2.49,17.54,4.93l125.13-125.12c14.19-14.19,35.04-19.74,54.41-14.47    c14.19,3.85,29.47-0.21,39.87-10.61l9.31-9.31l-1.87-1.87c-2.93-2.92-2.93-7.67,0-10.6l27.01-27.01c2.92-2.93,7.67-2.93,10.6,0    l5.58,5.58l18.3-23.74c1.32-1.71,3.31-2.77,5.46-2.9c2.15-0.15,4.26,0.65,5.79,2.18l38.85,38.86c1.53,1.52,2.32,3.63,2.19,5.78    c-0.14,2.15-1.2,4.14-2.91,5.46l-23.74,18.3l5.58,5.58c2.93,2.93,2.93,7.68,0,10.61l-27.01,27c-1.46,1.47-3.38,2.2-5.3,2.2    s-3.84-0.73-5.3-2.2l-1.87-1.87l-9.31,9.31c-10.4,10.4-14.46,25.68-10.61,39.87c5.27,19.37-0.28,40.22-14.47,54.41l-2.27,2.27    c2.46,1.1,4.47,2.39,6.28,3.56c3.55,2.29,5.89,3.8,11.42,3.8c5.52,0,7.87-1.51,11.41-3.8c4.27-2.76,9.6-6.2,19.55-6.2    c9.95,0,15.28,3.44,19.55,6.2c3.55,2.29,5.89,3.8,11.42,3.8s7.87-1.51,11.41-3.8C425.952,252.535,431.272,249.095,441.232,249.095    z M390.502,93.865l18.51-14.28l-26.79-26.79l-14.28,18.52L390.502,93.865z M374.462,131.835l16.4-16.4l-44.49-44.49l-16.4,16.4    L374.462,131.835z M347.372,144.585l9.31-9.31l-30.15-30.15l-9.31,9.31c-14.19,14.19-35.04,19.74-54.41,14.47    c-3.54-0.96-7.15-1.43-10.74-1.43c-10.78,0-21.32,4.23-29.13,12.04l-119.41,119.41c3.58-0.45,5.66-1.78,8.51-3.63    c4.28-2.76,9.6-6.2,19.55-6.2s15.27,3.44,19.55,6.2c0.8,0.52,1.54,0.99,2.27,1.42l100.96-100.95c0-0.01,0.01-0.01,0.02-0.02    c5.77-5.76,13.44-8.94,21.59-8.94c14.31,0,25.95,11.65,25.95,25.95c0,1.99-0.79,3.9-2.2,5.31l-20.49,20.49    c0.83,0.09,1.65,0.12,2.5,0.14h0.01c7.63,0,14.79-2.97,20.18-8.35c5.38-5.39,8.35-12.55,8.35-20.18c0-2.07,0.84-3.94,2.19-5.3    c1.36-1.36,3.24-2.2,5.31-2.2c4.14,0,7.5,3.36,7.5,7.5c0,11.62-4.52,22.54-12.72,30.76c-0.01,0.01-0.02,0.02-0.03,0.03    l-49.02,49.02c5.1,1.2,8.53,3.42,11.47,5.32c3.55,2.29,5.89,3.8,11.42,3.8s7.87-1.51,11.41-3.8c3.37-2.17,7.4-4.76,13.82-5.76    l10.66-10.67c10.4-10.4,14.47-25.68,10.61-39.87C327.632,179.625,333.182,158.775,347.372,144.585z M165.022,396.135    l122.05-122.05c-0.22,0-0.44,0.01-0.67,0.01c-9.96,0-15.28-3.43-19.55-6.2c-3.55-2.29-5.89-3.8-11.42-3.8    c-3.39,0-5.57,0.57-7.58,1.54l-80.48,80.48c-8.22,8.22-19.14,12.75-30.76,12.75c-0.02,0-0.04,0-0.07,0    c-7.17,0-14.11-2.1-20.06-6.07c-10.16-6.76-16.22-18.07-16.22-30.26c-0.01-8.16,3.17-15.84,8.94-21.61l33.33-33.33    c-3.29-2.12-5.66-3.5-10.94-3.5c-5.53,0-7.87,1.51-11.41,3.8c-4.28,2.77-9.6,6.2-19.55,6.2c-4.33,0-7.78-0.65-10.66-1.61    l-24.3,24.3c-2.51,2.52-3.9,5.86-3.9,9.42s1.39,6.9,3.9,9.42l80.51,80.51c2.52,2.52,5.86,3.9,9.42,3.9    S162.512,398.655,165.022,396.135z M265.452,191.125l21.13-21.12c-1.23-4.71-5.51-8.2-10.6-8.2c-4.16,0-8.06,1.62-11,4.56    s-4.56,6.85-4.56,11C260.422,182.475,262.242,187.325,265.452,191.125z M238.782,253.495l39.93-39.93    c-6.1-0.5-11.95-2.52-17.07-5.94c-7.97-5.31-13.4-13.42-15.38-22.55l-67.24,67.24c3.54-1.77,8.04-3.22,14.5-3.22    c9.95,0,15.27,3.44,19.55,6.2c3.54,2.29,5.88,3.8,11.4,3.8c5.53,0,7.87-1.51,11.41-3.8    C236.792,254.715,237.752,254.095,238.782,253.495z M156.762,335.515l61.87-61.87c-6.36-1.01-10.36-3.58-13.7-5.75    c-3.55-2.29-5.89-3.8-11.41-3.8c-5.53,0-7.87,1.51-11.42,3.8c-4.27,2.77-9.59,6.2-19.55,6.2c-1.81,0-3.46-0.11-4.99-0.32    l-37.75,37.76c-2.94,2.93-4.55,6.84-4.55,11c0,7.16,3.56,13.8,9.53,17.78c3.49,2.32,7.55,3.55,11.77,3.55c0.01,0,0.02,0,0.03,0    C144.222,343.865,151.382,340.895,156.762,335.515z"/>\n                    <polygon style="fill:#E0974F;" points="409.012,79.585 390.502,93.865 367.942,71.315 382.222,52.795   "/>\n                    \n                    <rect x="348.821" y="69.931" transform="matrix(0.7071 -0.7071 0.7071 0.7071 33.87 284.55)" style="fill:#5DAA52;" width="23.193" height="62.918"/>\n                    <path style="fill:#77CE6F;" d="M356.682,135.275l-9.31,9.31c-14.19,14.19-19.74,35.04-14.47,54.41    c3.86,14.19-0.21,29.47-10.61,39.87l-10.66,10.67c-6.42,1-10.45,3.59-13.82,5.76c-3.54,2.29-5.88,3.8-11.41,3.8    s-7.87-1.51-11.42-3.8c-2.94-1.9-6.37-4.12-11.47-5.32l49.02-49.02c0.01-0.01,0.02-0.02,0.03-0.03    c8.2-8.22,12.72-19.14,12.72-30.76c0-4.14-3.36-7.5-7.5-7.5c-2.07,0-3.95,0.84-5.31,2.2c-1.35,1.36-2.19,3.23-2.19,5.3    c0,7.63-2.97,14.79-8.35,20.18c-5.39,5.38-12.55,8.35-20.18,8.35h-0.01c-0.85-0.02-1.67-0.05-2.5-0.14l20.49-20.49    c1.41-1.41,2.2-3.32,2.2-5.31c0-14.3-11.64-25.95-25.95-25.95c-8.15,0-15.82,3.18-21.59,8.94c-0.01,0.01-0.02,0.01-0.02,0.02    l-100.96,100.95c-0.73-0.43-1.47-0.9-2.27-1.42c-4.28-2.76-9.6-6.2-19.55-6.2s-15.27,3.44-19.55,6.2    c-2.85,1.85-4.93,3.18-8.51,3.63l119.41-119.41c7.81-7.81,18.35-12.04,29.13-12.04c3.59,0,7.2,0.47,10.74,1.43    c19.37,5.27,40.22-0.28,54.41-14.47l9.31-9.31L356.682,135.275z"/>\n                    <path style="fill:#5DAA52;" d="M287.072,274.085l-122.05,122.05c-2.51,2.52-5.86,3.9-9.42,3.9s-6.9-1.38-9.42-3.9l-80.51-80.51    c-2.51-2.52-3.9-5.86-3.9-9.42s1.39-6.9,3.9-9.42l24.3-24.3c2.88,0.96,6.33,1.61,10.66,1.61c9.95,0,15.27-3.43,19.55-6.2    c3.54-2.29,5.88-3.8,11.41-3.8c5.28,0,7.65,1.38,10.94,3.5l-33.33,33.33c-5.77,5.77-8.95,13.45-8.94,21.61    c0,12.19,6.06,23.5,16.22,30.26c5.95,3.97,12.89,6.07,20.06,6.07c0.03,0,0.05,0,0.07,0c11.62,0,22.54-4.53,30.76-12.75    l80.48-80.48c2.01-0.97,4.19-1.54,7.58-1.54c5.53,0,7.87,1.51,11.42,3.8c4.27,2.77,9.59,6.2,19.55,6.2    C286.632,274.095,286.852,274.085,287.072,274.085z"/>\n                    <path style="fill:#C6B54F;" d="M286.582,170.005l-21.13,21.12c-3.21-3.8-5.03-8.65-5.03-13.76c0-4.15,1.62-8.06,4.56-11    s6.84-4.56,11-4.56C281.072,161.805,285.352,165.295,286.582,170.005z"/>\n                    <path style="fill:#E5D665;" d="M278.712,213.565l-39.93,39.93c-1.03,0.6-1.99,1.22-2.9,1.8c-3.54,2.29-5.88,3.8-11.41,3.8    c-5.52,0-7.86-1.51-11.4-3.8c-4.28-2.76-9.6-6.2-19.55-6.2c-6.46,0-10.96,1.45-14.5,3.22l67.24-67.24    c1.98,9.13,7.41,17.24,15.38,22.55C266.762,211.045,272.612,213.065,278.712,213.565z"/>\n                    <path style="fill:#C6B54F;" d="M218.632,273.645l-61.87,61.87c-5.38,5.38-12.54,8.35-20.17,8.35c-0.01,0-0.02,0-0.03,0    c-4.22,0-8.28-1.23-11.77-3.55c-5.97-3.98-9.53-10.62-9.53-17.78c0-4.16,1.61-8.07,4.55-11l37.75-37.76    c1.53,0.21,3.18,0.32,4.99,0.32c9.96,0,15.28-3.43,19.55-6.2c3.55-2.29,5.89-3.8,11.42-3.8c5.52,0,7.86,1.51,11.41,3.8    C208.272,270.065,212.272,272.635,218.632,273.645z"/>\n                    </svg>';break;case"2":i='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 432.98 432.98" style="enable-background:new 0 0 432.98 432.98;" xml:space="preserve" width="64px" height="64px">\n                    <path d="M426.48,2.585H6.5c-3.59,0-6.5,2.91-6.5,6.5v228.56c0,3.59,2.91,6.5,6.5,6.5h132.547  c-7.076,13.99-4.478,30.991,6.764,42.273c8.332,8.362,13.701,13.127,17.386,15.883c-1.982,11.825-4.759,23.521-8.335,35.019  c-4.323,13.899-2.107,28.773,6.077,40.811l6.861,10.089c7.183,10.564,10.98,22.9,10.98,35.674c0,3.59,2.91,6.5,6.5,6.5  s6.5-2.91,6.5-6.5c0-15.392-4.575-30.256-13.23-42.984l-6.861-10.089c-5.944-8.742-7.553-19.545-4.414-29.64  c8.35-26.848,12.584-54.717,12.584-82.834v-51.489c0-14.71,11.968-26.678,26.678-26.678c14.709,0,26.677,11.968,26.677,26.678  v50.105c0,18.956,4.346,38.005,12.568,55.087c1.556,3.234,5.438,4.595,8.676,3.038c3.234-1.557,4.595-5.441,3.037-8.676  c-7.38-15.334-11.281-32.434-11.281-49.45v-12.818h59.914c14.63,13.925,21.296,34.676,17.438,54.585l-35.867,119.094  c-1.035,3.438,0.912,7.063,4.35,8.098c0.625,0.188,1.256,0.278,1.877,0.278c2.793,0,5.374-1.815,6.221-4.627l35.96-119.4  c0.021-0.072,11.916-43.712,11.916-43.712c1.294-4.755,1.453-9.629,0.533-14.316h77.926c3.59,0,6.5-2.91,6.5-6.5V9.085  C432.98,5.496,430.07,2.585,426.48,2.585z M267.465,123.366L419.98,21.262v204.21L267.465,123.366z M13,22.242l151.053,101.126  L13,224.492V22.242z M26.426,15.585h378.665L215.758,142.338L26.426,15.585z M155.02,277.243c-7.703-7.73-9.115-19.623-3.433-28.92  l2.553-4.177h12.719v14.202c0,9.629-0.53,19.227-1.566,28.762C162.703,284.77,159.348,281.586,155.02,277.243z M206.536,167.181  c-21.878,0-39.677,17.799-39.677,39.678v24.287H26.433l149.304-99.956l36.405,24.372c1.094,0.732,2.355,1.099,3.616,1.099  c1.261,0,2.522-0.366,3.616-1.099l36.407-24.373l149.306,99.957H246.214v-24.287C246.214,184.98,228.414,167.181,206.536,167.181z   M335.479,255.045l-2.13,7.813c-2.384-6.656-5.726-12.973-9.954-18.713h11.72C336.329,247.63,336.472,251.397,335.479,255.045z" fill="'.concat(o,'"/>\n                    </svg>');break;case"3":i='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 488.532 488.532" style="enable-background:new 0 0 488.532 488.532;" xml:space="preserve" width="32px" height="32px">\n                    <path d="M363.06,209.3c-2.1,0.5-3.6,2.1-5.7,2.6c-2.6,1-4.7,1.6-7.3,2.1c-3.1,0.5-5.2-1.6-6.2-4.2c-0.5-2.6-1-4.7-0.5-7.3    c0.5-4.7,1.6-9.4,2.6-14.1c2.6-14.1,5.2-28.6,7.8-42.7c0.5-3.6,1.6-7.8,1-11.5c0-4.7-3.1-6.8-7.8-6.8c-6.2,0-13,0-19.3,0    s-12.5,0-18.2,0c-1.6,0-3.1,0-4.7,0.5c-2.6,0.5-4.2,2.1-4.7,4.2c0,1.6,1,3.6,3.6,4.7c2.1,0.5,4.2,1,6.8,1c5.2,0.5,6.8,2.6,6.8,7.8    c0,1,0,1.6,0,2.6c-2.1,12.5-4.2,25-6.8,37.5c-1,7.3-2.1,14.6-3.1,21.3c-1.6,10.4,8.9,20.3,16.7,21.3c4.7,0.5,9.9,1,14.6,1    c10.4,0,19.3-4.7,26.6-12c1-1,2.6-3.1,2.6-4.7C368.26,209.9,366.16,207.8,363.06,209.3z" fill="'.concat(o,'"/>\n                    <path d="M443.26,45.3c-59.9-60.4-157.3-60.4-217.1,0c-57.8,57.8-59.9,150-6.2,210.4l1,1c-5.7,12.5-16.1,28.1-31.8,35.9    c-5.2,2.6-4.2,10.4,1.6,11.5c17.7,2.6,42.7,0,65.6-17.7l0.5,0.5c58.8,34.4,135.9,26.6,186.4-24    C503.16,202.6,503.16,105.2,443.26,45.3z M334.96,271.8c-65.1,0-117.7-52.6-117.7-117.7s52.6-117.6,117.7-117.6    s117.7,52.6,117.7,117.7S400.06,271.8,334.96,271.8z" fill="').concat(o,'"/>\n                    <path d="M288.56,359.3c-12-12.5-27.6-12.5-40.1,0c-9.4,9.4-18.7,18.7-28.1,28.1c-2.6,2.6-4.7,3.1-7.8,1.6    c-5.7-3.6-12.5-6.2-18.2-9.9c-27.1-17.2-50-39.1-70.3-64c-9.9-12.5-18.7-25.5-25-40.6c-1-3.1-1-4.7,1.6-7.3    c9.9-8.9,18.7-18.2,28.1-27.6c13-13,13-28.1,0-41.1c-7.8-7.8-15.1-15.1-22.4-22.4c-7.8-7.8-15.1-15.6-22.9-22.9    c-12-12-27.6-12-40.1,0c-9.4,9.4-18.7,18.7-28.1,28.1c-8.9,8.9-13.5,19.3-14.6,31.2c-1.6,19.3,3.1,38,9.9,56.2    c14.1,38,35.4,70.8,60.9,101.5c34.9,41.7,76.5,74.5,125,97.9c21.9,10.4,44.3,18.7,68.2,20.3c17.2,1,31.8-3.6,43.7-16.7    c7.8-9.4,17.2-17.2,25.5-26c12.5-13,12.5-28.6,0-41.1C318.76,389.5,303.66,374.4,288.56,359.3z" fill="').concat(o,'"/>\n                    <path d="M338.56,118.2c10.9,0,19.8-8.9,19.8-19.8s-8.9-20.3-19.8-20.3s-19.8,8.9-20.3,19.8    C318.76,109.4,327.66,118.2,338.56,118.2z" fill="').concat(o,'"/>\n                    </svg>');break;default:return"url(".concat(h.settings.widget.widget_icon,")")}break;case"etc":i='<svg width="26" height="7" viewBox="0 0 26 7" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <circle cx="3.5" cy="3.5" r="3.5" fill="'.concat(o,'"/>\n                    <circle cx="12.8333" cy="3.5" r="3.5" fill="').concat(o,'"/>\n                    <circle cx="22.1667" cy="3.5" r="3.5" fill="').concat(o,'"/>\n                    </svg>');break;case"form":i='<svg width="20" height="26" viewBox="0 0 20 26" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <line x1="4" y1="13" x2="15.7619" y2="13" stroke="'.concat(o,'" stroke-width="2"/>\n                    <line x1="4" y1="18" x2="15.7619" y2="18" stroke="').concat(o,'" stroke-width="2"/>\n                    <line x1="4" y1="8" x2="15.7619" y2="8" stroke="').concat(o,'" stroke-width="2"/>\n                    <rect x="1" y="1" width="18" height="24" rx="2" stroke="').concat(o,'" stroke-width="2"/>\n                    </svg>');break;case"callback":i='<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">\n                    <path fill="'.concat(o,'" d="M462.787,49.543l-2.635-2.614c-17.993-17.855-47.209-17.79-65.124,0.141l-64.752,64.809\n                    c-32.45,32.45-19.781,67.599-0.511,78.159l26.256,14.398c4.748,6.03,4.343,14.82-1.215,20.378L224.333,355.288\n                    c-5.558,5.559-14.348,5.964-20.378,1.216l-14.398-26.257c-0.34-0.62-0.723-1.216-1.145-1.784\n                    c-16.722-22.485-49.483-24.967-69.408-5.311c-2.133,1.99-13.766,13.111-72.143,71.383c-18.038,18.006-18.242,47.355-0.178,65.417\n                    l3.289,3.293c8.007,8.007,16.636,15.022,25.731,21.052c0.213,0.149,0.427,0.29,0.647,0.427\n                    c64.536,42.358,152.226,35.165,208.869-21.479l178.025-178.026C528.43,220.036,528.227,114.478,462.787,49.543z M345.634,163.669\n                    c-9.447-7.862-2.714-20.943,6.393-30.049l64.756-64.815c5.971-5.977,15.711-5.999,21.708-0.047l2.634,2.614\n                    c3.704,3.675,7.159,7.53,10.379,11.537l-89.653,89.653L345.634,163.669z M71.716,441.5l-3.289-3.291z\n                    c-6.048-6.048-5.822-15.936,0.16-21.906c65.693-65.576,71.939-71.181,71.939-71.181c6.481-6.482,16.966-5.84,22.662,0.999\n                    l8.892,16.214L82.904,451.51C79.038,448.413,75.299,445.083,71.716,441.5z M441.5,263.474L263.473,441.5\n                    c-41.522,41.522-103.492,50.425-153.793,26.724l82.755-82.755c17.337,8.863,39.15,6.057,53.643-8.435L376.552,246.56\n                    c14.492-14.493,17.297-36.305,8.435-53.642l83.28-83.28C491.616,158.947,483.853,221.121,441.5,263.474z"/>\n                    </svg>');break;case"chat":i='<svg id="Capa_1" enable-background="new 0 0 512 512" height="512" viewBox="0 0 512 512" width="512" xmlns="http://www.w3.org/2000/svg">\n                    <path fill="'.concat(o,'" d="m280.276 197.177c49.287 0 96.529-37.901 96.529-100.648.001-53.226-43.302-96.529-96.529-96.529h-183.691c-49.287 0-96.529 37.901-96.529 100.648 0 48.126 35.4 88.139 81.529 95.366v64.146c0 13.766 17.081 20.215 26.2 9.977l64.993-72.96zm-125.425-24.977-43.267 48.571v-38.594c0-8.284-6.716-15-15-15-36.685 0-66.53-29.845-66.53-66.53 0-44.253 31.964-70.649 66.53-70.649h183.691c36.685 0 66.53 29.845 66.53 66.53 0 44.253-31.965 70.649-66.53 70.649h-114.223c-4.279.001-8.355 1.829-11.201 5.023z"/>\n                    <circle fill="').concat(o,'" cx="96.977" cy="98.589" r="18.582"/>\n                    <ellipse fill="').concat(o,'" cx="188.431" cy="98.589" rx="18.582" ry="18.582" transform="matrix(.383 -.924 .924 .383 25.238 234.948)"/>\n                    <circle fill="').concat(o,'" cx="279.884" cy="98.589" r="18.582"/>\n                    <path fill="').concat(o,'" d="m415.415 236.828h-183.691c-49.043 0-96.529 37.674-96.529 100.648 0 53.226 43.303 96.529 96.529 96.529h107.498l64.993 72.96c9.156 10.277 26.2 3.76 26.2-9.977v-64.146c46.129-7.227 81.529-47.24 81.529-95.366 0-62.285-46.867-100.648-96.529-100.648zm66.53 100.648c0 36.685-29.845 66.53-66.53 66.53-8.284 0-15 6.716-15 15v38.594l-43.267-48.571c-2.846-3.195-6.922-5.022-11.2-5.022h-114.224c-36.685 0-66.53-29.845-66.53-66.53 0-44.253 31.965-70.649 66.53-70.649h183.691c33.537-.001 66.53 25.307 66.53 70.648z"/>\n                    <ellipse fill="').concat(o,'" cx="415.023" cy="335.416" rx="18.582" ry="18.582" transform="matrix(.383 -.924 .924 .383 -53.684 590.489)"/>\n                    <circle fill="').concat(o,'" cx="323.569" cy="335.416" r="18.582"/>\n                    <ellipse fill="').concat(o,'" cx="232.116" cy="335.416" rx="18.582" ry="18.582" transform="matrix(.987 -.16 .16 .987 -50.731 41.512)"/></svg>');break;case"whatsApp":i='<svg id="Bold" enable-background="new 0 0 24 24" height="512" viewBox="0 0 24 24" width="512" xmlns="http://www.w3.org/2000/svg">\n                    <path fill="'.concat(o,'" d="m17.507 14.307-.009.075c-2.199-1.096-2.429-1.242-2.713-.816-.197.295-.771.964-.944 1.162-.175.195-.349.21-.646.075-.3-.15-1.263-.465-2.403-1.485-.888-.795-1.484-1.77-1.66-2.07-.293-.506.32-.578.878-1.634.1-.21.049-.375-.025-.524-.075-.15-.672-1.62-.922-2.206-.24-.584-.487-.51-.672-.51-.576-.05-.997-.042-1.368.344-1.614 1.774-1.207 3.604.174 5.55 2.714 3.552 4.16 4.206 6.804 5.114.714.227 1.365.195 1.88.121.574-.091 1.767-.721 2.016-1.426.255-.705.255-1.29.18-1.425-.074-.135-.27-.21-.57-.345z"/>\n                    <path fill="').concat(o,'" d="m20.52 3.449c-7.689-7.433-20.414-2.042-20.419 8.444 0 2.096.549 4.14 1.595 5.945l-1.696 6.162 6.335-1.652c7.905 4.27 17.661-1.4 17.665-10.449 0-3.176-1.24-6.165-3.495-8.411zm1.482 8.417c-.006 7.633-8.385 12.4-15.012 8.504l-.36-.214-3.75.975 1.005-3.645-.239-.375c-4.124-6.565.614-15.145 8.426-15.145 2.654 0 5.145 1.035 7.021 2.91 1.875 1.859 2.909 4.35 2.909 6.99z"/>\n                    </svg>');break;case"telegram":i='<svg id="Bold" enable-background="new 0 0 24 24" height="512" viewBox="0 0 24 24" width="512" xmlns="http://www.w3.org/2000/svg">\n                    <path fill="'.concat(o,'" d="m9.417 15.181-.397 5.584c.568 0 .814-.244 1.109-.537l2.663-2.545 5.518 4.041c1.012.564 1.725.267 1.998-.931l3.622-16.972.001-.001c.321-1.496-.541-2.081-1.527-1.714l-21.29 8.151c-1.453.564-1.431 1.374-.247 1.741l5.443 1.693 12.643-7.911c.595-.394 1.136-.176.691.218z"/>\n                    </svg>');break;case"vk":i='<svg id="Bold" enable-background="new 0 0 24 24" height="512" viewBox="0 0 24 24" width="512" xmlns="http://www.w3.org/2000/svg">\n                    <path fill="'.concat(o,'" d="m19.915 13.028c-.388-.49-.277-.708 0-1.146.005-.005 3.208-4.431 3.538-5.932l.002-.001c.164-.547 0-.949-.793-.949h-2.624c-.668 0-.976.345-1.141.731 0 0-1.336 3.198-3.226 5.271-.61.599-.892.791-1.225.791-.164 0-.419-.192-.419-.739v-5.105c0-.656-.187-.949-.74-.949h-4.126c-.419 0-.668.306-.668.591 0 .622.945.765 1.043 2.515v3.797c0 .832-.151.985-.486.985-.892 0-3.057-3.211-4.34-6.886-.259-.713-.512-1.001-1.185-1.001h-2.625c-.749 0-.9.345-.9.731 0 .682.892 4.073 4.148 8.553 2.17 3.058 5.226 4.715 8.006 4.715 1.671 0 1.875-.368 1.875-1.001 0-2.922-.151-3.198.686-3.198.388 0 1.056.192 2.616 1.667 1.783 1.749 2.076 2.532 3.074 2.532h2.624c.748 0 1.127-.368.909-1.094-.499-1.527-3.871-4.668-4.023-4.878z"/>\n                    </svg>');break;case"facebook":i='<svg id="Bold" enable-background="new 0 0 24 24" height="512" viewBox="0 0 24 24" width="512" xmlns="http://www.w3.org/2000/svg">\n                    <path fill="'.concat(o,'" d="m15.997 3.985h2.191v-3.816c-.378-.052-1.678-.169-3.192-.169-3.159 0-5.323 1.987-5.323 5.639v3.361h-3.486v4.266h3.486v10.734h4.274v-10.733h3.345l.531-4.266h-3.877v-2.939c.001-1.233.333-2.077 2.051-2.077z"/>\n                    </svg>');break;case"cross":i='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 -4 18 25">\n                      <path fill="'.concat(o,'" d="M7.2,9L0,1.8L1.8,0L9,7.2L16.201,0L18,1.8L10.8,9l7.2,7.201L16.201,18L9,10.8L1.8,18L0,16.201L7.2,9z"></path>\n                    </svg>');break;case"smallCross":i='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 -6 18 30">\n                      <path fill="'.concat(o,'" d="M7.2,9L0,1.8L1.8,0L9,7.2L16.201,0L18,1.8L10.8,9l7.2,7.201L16.201,18L9,10.8L1.8,18L0,16.201L7.2,9z"></path>\n                    </svg>');break;case"back":i='<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                     viewBox="0 0 512 630" style="enable-background:new 0 0 512 512;" xml:space="preserve">\n                        <g>\n                            <path fill="'.concat(o,'" d="M142.716,293.147l-94-107.602l94-107.602c7.596-8.705,6.71-21.924-1.995-29.527c-8.705-7.596-21.917-6.703-29.527,1.995\n                            L5.169,171.782c-6.892,7.882-6.892,19.65,0,27.532l106.026,121.372c4.143,4.729,9.94,7.157,15.771,7.157\n                            c4.883,0,9.786-1.702,13.755-5.169C149.427,315.071,150.319,301.852,142.716,293.147z"/>\n                        </g>\n                        <g>\n                            <path fill="').concat(o,'" d="M359.93,164.619H20.926C9.368,164.619,0,173.986,0,185.545c0,11.558,9.368,20.926,20.926,20.926H359.93\n                            c60.776,0,110.218,49.441,110.218,110.211S420.706,426.893,359.93,426.893H48.828c-11.558,0-20.926,9.368-20.926,20.926\n                            c0,11.558,9.368,20.926,20.926,20.926H359.93c83.844,0,152.07-68.219,152.07-152.063S443.781,164.619,359.93,164.619z"/>\n                        </g>\n                    </svg>');break;case"chatNewMessage":i='<svg width="31" height="21" viewBox="-3 0 35 21" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M8.864 4.912V16H6.24V11.904C5.86667 12.192 5.48267 12.4053 5.088 12.544C4.704 12.6827 4.26667 12.752 3.776 12.752C2.69867 12.752 1.856 12.4107 1.248 11.728C0.64 11.0453 0.336 10.1173 0.336 8.944V4.912H2.928V8.912C2.928 9.56267 3.056 10.0427 3.312 10.352C3.568 10.6507 3.97333 10.8 4.528 10.8C5.232 10.8 5.80267 10.592 6.24 10.176V4.912H8.864ZM17.6503 13.536C17.6503 13.856 17.6929 14.0907 17.7783 14.24C17.8743 14.3893 18.0236 14.5013 18.2263 14.576L17.6983 16.224C17.1756 16.1813 16.7489 16.0693 16.4183 15.888C16.0876 15.696 15.8316 15.3973 15.6503 14.992C15.0956 15.8453 14.2423 16.272 13.0903 16.272C12.2476 16.272 11.5756 16.0267 11.0743 15.536C10.5729 15.0453 10.3223 14.4053 10.3223 13.616C10.3223 12.688 10.6636 11.9787 11.3463 11.488C12.0289 10.9973 13.0156 10.752 14.3063 10.752H15.1703V10.384C15.1703 9.88267 15.0636 9.54133 14.8503 9.36C14.6369 9.168 14.2636 9.072 13.7303 9.072C13.4529 9.072 13.1169 9.11467 12.7223 9.2C12.3276 9.27467 11.9223 9.38133 11.5063 9.52L10.9303 7.856C11.4636 7.65333 12.0076 7.49867 12.5623 7.392C13.1276 7.28533 13.6503 7.232 14.1302 7.232C15.3463 7.232 16.2369 7.48267 16.8023 7.984C17.3676 8.48533 17.6503 9.23733 17.6503 10.24V13.536ZM13.8263 14.464C14.4023 14.464 14.8503 14.192 15.1703 13.648V12.144H14.5463C13.9703 12.144 13.5383 12.2453 13.2503 12.448C12.9729 12.6507 12.8343 12.9653 12.8343 13.392C12.8343 13.7333 12.9196 14 13.0903 14.192C13.2716 14.3733 13.5169 14.464 13.8263 14.464ZM26.0074 7.504L25.7034 9.376H23.3994V16H20.8714V9.376H18.3914V7.504H26.0074Z" fill="'.concat(o,'"/>\n                        <circle cx="28.5" cy="2.5" r="2" fill="#EE3131" stroke="#EE3131"/>\n                    </svg>')}return"url(data:image/svg+xml;base64,".concat(e.btoa(i),")")},v=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n="";switch(t){case"messageTriangleLeft":n='\n            <svg width="13" height="17" viewBox="0 0 13 17" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="13" height="17">\n                    <rect width="13" height="17" fill="#C4C4C4"/>\n                </mask>\n                <g mask="url(#mask0)">\n                    <rect x="11" width="2" height="16" fill="white"/>\n                    <path d="M14.2374 -92.5H254C255.381 -92.5 256.5 -91.3807 256.5 -90V14C256.5 15.3807 255.381 16.5 254 16.5H2.85397C0.674327 16.5 -0.461422 13.9052 1.01734 12.3039L10.8087 1.70121C11.4058 1.05462 11.7374 0.206802 11.7374 -0.673325V-90C11.7374 -91.3807 12.8567 -92.5 14.2374 -92.5Z" stroke="#C4C4C4"/>\n                </g>\n            </svg>';break;case"messageTriangleRight":n='\n            <svg width="13" height="17" viewBox="0 0 13 17" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="13" height="17">\n                    <rect width="13" height="17" fill="'.concat(h.settings.widget.element_back_color,'"/>\n                </mask>\n                <g mask="url(#mask0)">\n                    <rect x="11" width="2" height="16" fill="').concat(h.settings.widget.element_back_color,'"/>\n                    <path fill="').concat(h.settings.widget.element_back_color,'" d="M14.2374 -92.5H254C255.381 -92.5 256.5 -91.3807 256.5 -90V14C256.5 15.3807 255.381 16.5 254 16.5H2.85397C0.674327 16.5 -0.461422 13.9052 1.01734 12.3039L10.8087 1.70121C11.4058 1.05462 11.7374 0.206802 11.7374 -0.673325V-90C11.7374 -91.3807 12.8567 -92.5 14.2374 -92.5Z" stroke="').concat(h.settings.widget.element_back_color,'"/>\n                </g>\n            </svg>');break;case"btnSend":n='\n            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="21" viewBox="0 0 19 16" fill="none">\n                <path d="M17.4931 7.53576C17.9122 7.70339 17.9122 8.29661 17.4931 8.46424L2.0799 14.6295C1.66462 14.7956 1.25685 14.3746 1.43612 13.9649L3.78272 8.60123C3.95041 8.21795 3.95041 7.78205 3.78272 7.39877L1.43612 2.03512C1.25685 1.62536 1.66462 1.20436 2.0799 1.37048L17.4931 7.53576Z" fill="'.concat(h.settings.widget.element_back_color,'" stroke="').concat(h.settings.widget.element_back_color,'"/>\n            </svg>\n            ');break;case"resizeBox":n='\n            <svg width="11" height="11" viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <line x1="2.35355" y1="0.353553" x2="0.353553" y2="2.35355" stroke="'.concat(h.settings.widget.element_back_color,'"/>\n                <line x1="6.35355" y1="0.353553" x2="0.353553" y2="6.35355" stroke="').concat(h.settings.widget.element_back_color,'"/>\n                <line x1="10.3536" y1="0.353553" x2="0.353554" y2="10.3536" stroke="').concat(h.settings.widget.element_back_color,'"/>\n            </svg>\n            ')}return"data:image/svg+xml;base64,".concat(e.btoa(n))},w={request:function(t){"string"==typeof t&&(t={url:t}),t.url=t.url||"",t.method=t.method||"get",t.data=t.data||{};var n=function(e,t){var n,o=[];for(var i in e)o.push(i+"="+encodeURIComponent(e[i]));return""!==(n=o.join("&"))?t?t.indexOf("?")<0?"?"+n:"&"+n:n:""};return{host:{},process:function(t){var o=this;return this.xhr=null,e.ActiveXObject?this.xhr=new ActiveXObject("Microsoft.XMLHTTP"):e.XMLHttpRequest&&(this.xhr=new XMLHttpRequest),this.xhr&&(this.xhr.onreadystatechange=function(){if(4===o.xhr.readyState&&200===o.xhr.status){var e=o.xhr.responseText;!0===t.json&&"undefined"!=typeof JSON&&(e=JSON.parse(e)),o.doneCallback&&o.doneCallback.apply(o.host,[e,o.xhr])}else 4===o.xhr.readyState&&o.failCallback&&o.failCallback.apply(o.host,[o.xhr]);o.alwaysCallback&&o.alwaysCallback.apply(o.host,[o.xhr])}),"get"===t.method?null!=this.xhr&&this.xhr.open("GET",t.url+n(t.data,t.url),!0):(null!=this.xhr&&this.xhr.open(t.method,t.url,!0),this.setHeaders({"X-Requested-With":"XMLHttpRequest","Content-type":"application/x-www-form-urlencoded"})),t.headers&&"object"==_typeof(t.headers)&&this.setHeaders(t.headers),setTimeout(function(){"get"===t.method?o.xhr.send():o.xhr.send(n(t.data))},20),this},done:function(e){return this.doneCallback=e,this},fail:function(e){return this.failCallback=e,this},always:function(e){return this.alwaysCallback=e,this},setHeaders:function(e){for(var t in e)e.hasOwnProperty(t)&&this.xhr&&this.xhr.setRequestHeader(t,e[t])}}.process(t)}},y=function(e,t){var o=n+"api.primegate.io/v2/"+e,i=[];for(var r in t)t.hasOwnProperty(r)&&i.push(r+"="+t[r]);return i.length>0&&(o+="?"+i.join("&")),o},k=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.append("channel",h.settings.visitor.id+"."+h.apiKey),t.append("session_id",h.settings.session.id),t.append("visitor_id",h.settings.visitor.id),t.append("pageUrl",e.location.href);var o=new XMLHttpRequest;if(0!==n.length)for(var i=0;i<n.length;i++)void 0===n[i].imageBase&&t.append("files[".concat(i,"]"),n[i]);return o.open("POST","//api.primegate.io/v2/chat/widget?key="+h.apiKey+"&token="+h.settings.session.token),o.send(t),o},B=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{expires:"31104000000"};n=encodeURIComponent(n);var i=(o=o||{}).expires;if("number"==typeof i&&i){var r=new Date;r.setTime(r.getTime()+i),i=o.expires=r}i&&i.toUTCString&&(o.expires=i.toUTCString());var a=e+"="+n;for(var s in o){a+="; "+s;var l=o[s];!0!==l&&(a+="="+l)}var c,d=!1,g=_createForOfIteratorHelper(location.hostname.replace("www","").split("."));try{for(g.s();!(c=g.n()).done;){"primegate"===c.value&&(d=!0)}}catch(e){g.e(e)}finally{g.f()}d&&(a+=";Domain=.primegate.io"),t.cookie=a},C=function(e){var n=t.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return n?decodeURIComponent(n[1]):void 0},S=function(e){var n=t.querySelector(".primeGateWidgets");if(null===n){var o=t.createElement("div");o.classList.add("primeGateWidgets"),t.body.appendChild(o),n=o}var i=t.createElement("div");i.innerHTML=e,n.appendChild(i)},L=function(e){var n=t.createElement("style");n.type="text/css",n.innerHTML=e,t.head.appendChild(n)},E=function(e,n,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=t.createElement(e);switch(""!==i&&(a.id=i),""!==r&&(a.className=r),e){case"style":a.type="text/css";break;case"script":a.type="text/javascript"}a.innerHTML+=o,n.appendChild(a)},T=function(e,t){return r.safari||r.safari_mobile?e.webkitMatchesSelector(t):void 0===Element.prototype.matches?e.msMatchesSelector(t):e.matches(t)},R=function(e,t){return Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(T(t,e))return t;t=t.parentElement}return null}),e.closest(t)},I=function(e,t){return e.getAttribute("class").indexOf(t)>-1},A=function(e,t){e.classList?e.classList.add(t):I(e,t)||e.setAttribute("class",e.getAttribute("class")+" "+t)},M=function(e,t){e.classList?e.classList.remove(t):I(e,t)&&e.setAttribute("class",e.getAttribute("class").replace(t," "))},O=function e(n){"loading"===t.readyState?(t.addEventListener("DOMContentLoaded",n),setTimeout(function(){e(n)},100)):n()},D=function(e,n){clearInterval(m),n?(t.title=e,m=setInterval(function(){t.title===_?t.title=e:t.title=_},700)):t.title=_};function P(e){null!=e&&(e.scrollTop=e.scrollHeight)}var N=function(e){M(e,e.classList[0]+"_error")},q=function(e){A(e,e.classList[0]+"_error")},H=function(e,t){e.style.resize="none";var n=e.value;n=n.replace(/\n/g,"<br>"),t.innerHTML=n+'<br style="line-height: 3px;">',t.style.visibility="hidden",t.style.display="block",e.style.height=t.offsetHeight+"px",t.style.visibility="visible",t.style.display="none"};r.msie&&(Element.prototype.remove=function(){this.parentElement.removeChild(this)}),NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var e=this.length-1;e>=0;e--)this[e]&&this[e].parentElement&&this[e].parentElement.removeChild(this[e])},"function"!=typeof NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw TypeError("predicate must be a function");for(var o=arguments[1],i=0;i<n;){var r=t[i];if(e.call(o,r,i,t))return r;i++}},configurable:!0,writable:!0});var j=Object.prototype.hasOwnProperty,z=function(){return(new Date).getTime()};function Q(t){e.location.host===f&&""!==f&&alert(t)}var U=function(e){var t=function(e,t,n){return e.replace(new RegExp(t,"g"),n)},n=e.match(/http(s)?:\/\/[^\s]+/gi);for(var o in n=function(e){if(null!==e){for(var t,n=0,o=e.length,i=[];n<o;n++)t=e[n],~i.indexOf(t)||i.push(t);return i}return e}(n))n.hasOwnProperty(o)&&(e=t(e,n[o],'<a href="'+n[o]+'" target="_blank">'+n[o]+"</a>"));return e},F=function(e,t){if(e){var n=parseInt(e.slice(1),16),o=Math.round(2.55*t),i=(n>>16)+o,r=(n>>8&255)+o,a=(255&n)+o;return"#"+(16777216+65536*(i<255?i<1?0:i:255)+256*(r<255?r<1?0:r:255)+(a<255?a<1?0:a:255)).toString(16).slice(1)}return null},J=function(e){for(var t=null,n=[],o=location.search.substr(1).split("&"),i=0;i<o.length;i++)(n=o[i].split("="))[0]===e&&(t=decodeURIComponent(n[1]));return t};function W(e){var t=!1,n=(new Date).getDay();if(n=0===n?7:n,"1"===e.office_hours[n].status){var o=new Date,i=new Date(o).getHours(),r=(i=i<10?"0"+i:i)+":"+new Date(o).getMinutes();t=r>=e.office_hours[n].open&&r<e.office_hours[n].close}return t}var V=function(e){for(var t={},n=e.querySelectorAll("input, select, textarea"),o=0;o<n.length;++o){var i=n[o],r=i.name,a=i.value;r&&(t[r]=a)}return t},X=function(e){var n=t.querySelector(".pg-widget--fullScreenImageMonitor");n||(E("div",t.body,'\n        <div class="pg-widget--fullScreenImageMonitor__closeBox">\n            <span class="pg-widget--fullScreenImageMonitor__btn"></span>\n        </div>\n        <div class="pg-widget--fullScreenImageMonitor__boxImage">\n            <img class="pg-widget--fullScreenImageMonitor__img" src="'.concat(e.src,'">\n        </div>\n        <a href="').concat(e.src,'" class="pg-widget--fullScreenImageMonitor__downloadBtn">\n            <svg data-v-eb07a340="" aria-hidden="true" focusable="false" data-prefix="fa" data-icon="download" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-download fa-w-16"><path data-v-eb07a340="" fill="currentColor" d="M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z" class=""></path></svg>\n        </a>'),"","pg-widget--fullScreenImageMonitor"),n=t.querySelector(".pg-widget--fullScreenImageMonitor")),setTimeout(function(){n.classList.add("pg-widget--fullScreenImageMonitor_open"),n.querySelector(".pg-widget--fullScreenImageMonitor__closeBox").addEventListener("click",function(){n.remove()}),n.querySelector(".pg-widget--fullScreenImageMonitor__boxImage").addEventListener("click",function(){n.remove()})},1)},K=function(e){z()-localStorage.getItem("lastUserActivity")>6e4&&e(),localStorage.setItem("lastUserActivity",z())},G=function(){return z()-localStorage.getItem("lastUserActivity")};e.onblur=function(){a=!1},e.onfocus=function(){a=!0};var Y=!1,Z=function(){t.addEventListener("mouseup",function(n){(n=n||e.event).currentTarget||(n.currentTarget=n.srcElement);var o=n.srcElement,i=null;if(1===n.which&&void 0!==o&&(null===(i="submit"===o.getAttribute("type")?o:R(o,'*[type="submit"]'))&&null!=h.formSelectors&&h.formSelectors.forEach(function(e){null===i&&(i=T(o,e.form_button_selector)?o:R(o,e.form_button_selector))}),null!==i&&null!=h.formSelectors)){var r=null;h.formSelectors.forEach(function(n){if(T(i,n.form_button_selector)&&null!==(r=R(i,n.form_selector))){var o=r.getAttribute("data-success-url");r.removeAttribute("data-success-url"),function(n){if(null!=n&&"https://cloud.primegate.io/lioncredit.php"==n.getAttribute("action")){var o=t.createElement("input");o.type="hidden",o.name="apiKey",o.value=h.apiKey,n.appendChild(o);var i=t.createElement("input");i.type="hidden",i.name="token",i.value=h.settings.session.token,n.appendChild(i);var r=t.createElement("input");r.type="hidden",r.name="sessionId",r.value=h.settings.session.id,n.appendChild(r);var a=t.createElement("input");a.type="hidden",a.name="pageUrl",a.value=e.location.href,n.appendChild(a);var s=t.createElement("input");s.type="hidden",s.name="pageTitle",s.value=t.title?t.title:"",n.appendChild(s)}}(r),i.addEventListener("click",function(e){Y||(null!==n.delays&&!0!==n.delays&&"true"!==n.delays||e.preventDefault(),Y=!0)}),function(n,o,i,r,a){var s={sessionId:h.settings.session.id,page_url:e.location.href,page_title:t.title?t.title:""},l=!0;if(i.elemets.forEach(function(e){if("form"!==e.element_name){var o=n.querySelector(e.element_selector);null==o?(s[e.element_name]="",e.element_require&&(l=!1)):(1===e.element_require&&(""===o.value||null==o.value||"true"===o.getAttribute("data-placeholder")&&o.defaultValue===o.value)&&(l=!1),void 0===s[e.element_name]?s[e.element_name]=o.value:s[e.element_name]+=o.value)}else{var i,r=function(e){if(null!=e)switch(e.tagName){case"INPUT":e=e.value;break;case"SELECT":e=e.querySelector("option:selected").innerHTML;break;default:e=e.innerHTML}else e="none";return e},a='<table style="width: 100%;"><tr><th style="padding-right: 10px">Название</th><th style="padding-right: 10px">Количество</th><th style="padding-right: 10px">Цена</th></tr>',c=_createForOfIteratorHelper(t.querySelectorAll(e.element_selector.block));try{for(c.s();!(i=c.n()).done;){var d=i.value;if(a+="<tr>",""!==e.element_selector.name){var g=d.querySelector(e.element_selector.name);null!=g&&(g=r(g),a+='<td style="padding-right: 10px">'.concat(g,"</td>"))}if(""!==e.element_selector.count){var u=d.querySelector(e.element_selector.count);null!=u&&(u=r(u),a+='<td style="padding-right: 10px">'.concat(u,"</td>"))}if(""!==e.element_selector.price){var p=d.querySelector(e.element_selector.price);null!=p&&(p=r(p),a+='<td style="padding-right: 10px">'.concat(p,"</td>"))}a+="</tr>"}}catch(e){c.e(e)}finally{c.f()}if(""!==e.element_selector.total_amount){var h=t.querySelector(e.element_selector.total_amount);null!=h&&(h=r(h),a+='<tr><td colspan="3">Общая сумма: '.concat(h,"</td></tr>"))}a+="</table>",void 0===s.note?s.note=a:s.note+=a}}),l){$();var c=!1;w.request({url:y("js-client/track-form-handler",{apiKey:h.apiKey,token:h.settings.session.token}),method:"POST",data:s}).done(function(t){""!==(t=JSON.parse(t))&&(t.success?(Q("Sending form success finished"),r.call({status:!0,message:""}),null!=a&&(e.location.href=a)):void 0!==t.data.message&&(Q("PrimeGate:"+t.data.message),r.call({status:!1,message:t.data.message}))),c||(o.click(),c=!0)}).fail(function(){r.call({status:!1,message:this}),c||(o.click(),c=!0)})}else Q("Validate of required fields error"),r.call({status:!1,message:"Verify is failed"})}(r,i,n,function(){i.click()},o)}})}})};function $(){j.call(h.settings,"base")&&j.call(h.settings.base,"ym_counter_id")&&void 0!==e["yaCounter"+h.settings.base.ym_counter_id]&&e["yaCounter"+h.settings.base.ym_counter_id]}var ee={init:function(){if(null!=h.settings.base&&""!=h.settings.base.ga_user_dimension&&"undefined"!=typeof ga&&ga("set",h.settings.base.ga_user_dimension,h.settings.visitor.id),null!=h.settings.base&&""!=h.settings.base.ym_user_visitor_parameter){var n="yaCounter"+h.settings.base.ym_counter_id,o=h.settings.base.ym_user_visitor_parameter,i=h.settings.base.ym_user_session_parameter,r={};r[o]=h.settings.visitor.id,r[i]=h.settings.session.id;try{e[n].params(r)}catch(o){t.addEventListener("yacounter"+h.settings.base.ym_counter_id+"inited",function(){e[n].params(r)})}}}},te=function(){var n={},o=0,i=1,r=2,a=1e4,c=6e4,d=3e3,g=!1,u=null,p=null,f="Ok",m="Request sended",_="geo_filters";function b(){null!=h.pullSettings&&B(l,JSON.stringify(h.pullSettings),{expires:2592e6,path:"/"})}function x(e){u!==m&&(u=m,e.ttl=a+d,w.request({url:y("js-client/reserve-phone-number",{apiKey:h.apiKey,token:h.settings.session.token}),method:"POST",data:e}).done(function(e){try{e=JSON.parse(e)}catch(e){return!1}!0===e.success&&j.call(e.data,"pull_settings_id")?(null===h.pullSettings&&(h.pullSettings={priority:o,iteration:1}),h.pullSettings.phone_numbers=e.data.phone_numbers?e.data.phone_numbers:[],h.pullSettings.pull_settings_id=e.data.pull_settings_id,b(),E(h.pullSettings),B(s,JSON.stringify(e.data),{expires:a+d,path:"/"}),u=f):(u=p,e.reason===_&&(u=_))}))}function v(){if(null===(C(s)?JSON.parse(C(s)):null))k();else{var e={sessionId:h.settings.session.id,pullSettingsId:h.pullSettings.pull_settings_id,visitorId:h.settings.visitor.id};h.pullSettings.priority===o?e.ttl=a+d:h.pullSettings.priority===i?e.ttl=c:h.pullSettings.priority===r&&(e.ttl=h.settings.call_tracking.max_phone_ttl),w.request({url:y("js-client/update-phone-session",{apiKey:h.apiKey,token:h.settings.session.token}),method:"POST",data:e}).done(function(t){(t=JSON.parse(t)).success&&(h.pullSettings.phone_numbers=t.data.phone_numbers,void 0!==t.data.pull_settings_id&&(h.pullSettings.pull_settings_id=t.data.pull_settings_id),E(h.pullSettings),B(s,JSON.stringify(h.pullSettings),{expires:e.ttl,path:"/"}),b())})}}function k(){if(G()<15e3)if(null===(C(s)?JSON.parse(C(s)):null)){u!==m&&(u=p);var e={sessionId:h.settings.session.id,visitorId:h.settings.visitor.id};null!==h.pullSettings&&(e.pullSettingsId=h.pullSettings.pull_settings_id),x(e);var t=setInterval(function(){u!==f?null===u&&x(e):(clearInterval(t),S()),u===_&&clearInterval(t)},1e4)}else S()}n.init=function(){if(h.settings&&(null!==e.location.href.match(h.settings.call_tracking.regex_enabled)||null==h.settings.call_tracking.regex_enabled)){var t=J("ct_saving_numbers");if("enable"===t?B("is_owner",1,{expires:"31104000000",path:"/"}):"disable"===t&&B("is_owner",0,{expires:"31104000000",path:"/"}),"1"===C("is_owner"))return!1;k()}};var S=function e(){var t=C(s)?JSON.parse(C(s)):null;if(null!==t){var n=h.settings.call_tracking.infinity_session?h.settings.call_tracking.infinity_session:"0";"1"===n&&(d=h.settings.call_tracking.max_phone_ttl,h.pullSettings.priority=r),h.pullSettings.priority===o&&"0"===n&&(v(),setTimeout(function(){null!==(C(s)?JSON.parse(C(s)):null)?(h.pullSettings.priority=i,h.pullSettings.iteration=1,e()):k()},1e4)),h.pullSettings.priority===i&&"0"===n&&(v(),!1===g&&(h.normalInterval=setInterval(function(){null===(t=C(s)?JSON.parse(C(s)):null)?(clearInterval(h.normalInterval),g=!1,k()):(g=!0,h.pullSettings.iteration<5?G()<15e3&&v():(clearInterval(h.normalInterval),g=!1,h.pullSettings.priority=r,h.pullSettings.iteration=1,e()))},15e3))),h.pullSettings.priority!==r&&"1"!==n||!1===g&&(v(),h.highInterval=setInterval(function(){null===(t=C(s)?JSON.parse(C(s)):null)?(clearInterval(h.highInterval),g=!1,k()):(g=!0,G()<15e3&&v())},15e3))}else k()},L=function(e){if(e.phone_numbers){var n,o=_createForOfIteratorHelper(e.phone_numbers);try{for(o.s();!(n=o.n()).done;){var i=n.value;try{for(var r=t.querySelectorAll(i.css_selector),a=0;a<r.length;a++)if(i.tel_uri)if("A"===r[a].tagName)r[a].innerHTML=i.label,r[a].href="tel:+"+i.phone_number;else{var s=t.createElement("a");s.href="tel:+"+i.phone_number,s.innerHTML=i.label,r[a].innerHTML="",r[a].appendChild(s)}else r[a].innerHTML=i.label}catch(e){}}}catch(e){o.e(e)}finally{o.f()}}},E=function(e){O(function(){if(null==e||void 0===e)return!1;L(e)})};return e.onload=function(){var e=C(l)?JSON.parse(C(l)):null;null!==e&&L(e)},e.onbeforeunload=function(){b(),clearInterval(h.lowInterval),clearInterval(h.normalInterval),clearInterval(h.highInterval)},n}(),ne=function(){var e={},n=null,o=null,i="Ok",r="Request sended";function a(e){n!==r&&(n=r,w.request({url:y("js-client/reserve-emails",{apiKey:h.apiKey,token:h.settings.session.token}),method:"POST",data:e}).done(function(e){!0===(e=JSON.parse(e)).status&&j.call(e.data,"emails")?(null===h.emailPullSettings&&(h.emailPullSettings={emails:[]}),h.emailPullSettings.emails=e.data.emails,B(u,JSON.stringify(h.emailPullSettings),{expires:2147483647,path:"/"}),s(h.emailPullSettings.emails),n=i):n=o}))}var s=function(e){O(function(){if(null==e||void 0===e)return!1;var n,o=_createForOfIteratorHelper(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;try{for(var r=t.querySelectorAll(i.css_selector),a=0;a<r.length;a++)if(i.email_url)if("a"===r[a].tagName)r[a].innerHTML=i.email,r[a].href="mailto:"+i.email;else{var s=t.createElement("a");s.href="mailto:"+i.email,s.innerHTML=i.email,r[a].innerHTML="",r[a].appendChild(s)}else r[a].innerHTML=i.email}catch(e){}}}catch(e){o.e(e)}finally{o.f()}})};return e.init=function(){if(null==h.emailPullSettings){J("ct_saving_emails");if(1==C("is_owner"))return!1;a({session_id:h.settings.session.id,visitor_id:h.settings.visitor.id})}else s(h.emailPullSettings.emails)},e}(),oe=function(n,o,i,r,a){(o?n.querySelector(r.submitSelector):n.querySelector("[type=submit]")).addEventListener("click",function(o){var s=a?function(e,t){var n={},o={};for(var i in t)t.hasOwnProperty(i)&&(o[i]=t[i][0]);for(var r in o){var a=e.querySelector(o[r]),s=a.tagName;n[r]="INPUT"===s?a.value:a.innerHTML.trim()}return n}(n,r.attributes):V(n),l=ie(i,s,a);l.validate&&((s=l.data).sessionId=h.settings.session.id,s.page_url=e.location.href,s.page_title=t.title?t.title:"",$(),w.request({url:y("js-client/track-form-handler",{apiKey:h.apiKey,token:h.settings.session.token}),method:"POST",data:s}))})},ie=function(e,t,n){var o={data:{},validate:!1},i={},r=0,a=[],s=0;for(var l in t)t[l].length>0&&(r+=1);if(0==r)return o.validate=!1,o;for(l in t){if(e[l])"required"===e[l][1]?(a.push(e[l][0]),t[l].length>0&&(n?i[l]=t[l]:i[e[l][0]]=t[l],++s)):t[l].length>0&&(n?i[l]=t[l]:i[e[l][0]]=t[l])}for(var c in i)0;return a.length==s&&(o.validate=!0,o.data=i),o},re=function(){var n={},o=!1,i=-20;function r(e){for(var t=e.getElementsByTagName("div"),n=0;n<t.length;n++)I(t[n],"lead-catcher__loading-page")?t[n].style.display="block":t[n].style.display="none"}function a(e){for(var t=e.getElementsByTagName("div"),n=0;n<t.length;n++)I(t[n],"lead-catcher__thanks-page")?t[n].style.display="block":t[n].style.display="none"}function s(e,t){t?(A(e,"active"),M(e,"not-active"),o=!0):(A(e,"not-active"),M(e,"active"),o=!1)}return n.init=function(){if(null!=t.getElementsByClassName("lead-catcher")[0])return!0;var n=t.createElement("div");n.innerHTML+='<div class="lead-catcher cursor">\n  <svg\n    class="lead-catcher__close-btn"\n    width="10"\n    height="11"\n    viewBox="0 0 10 11"\n    fill="none"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <path\n      fill-rule="evenodd"\n      clip-rule="evenodd"\n      d="M3.90827 5.52079L0.0800781 1.6926L1.03696 0.735718L4.86515 4.56391L8.69334 0.735718L9.65022 1.6926L5.82203 5.52079L9.65022 9.34898L8.69334 10.3059L4.86515 6.47767L1.03696 10.3059L0.0800781 9.34898L3.90827 5.52079Z"\n      fill="#737373"\n    />\n  </svg>\n  <div class="lead-catcher__work">\n    <h3 class="lead-catcher__title">\n      Указанный клиентом текст в 2 строки максимально типо того как тут все это\n      указано, сделано, сверстано, запилено, учтено.\n    </h3>\n    <p class="lead-catcher__description">\n      Описание предложения клиентом. Максимально в одну строку\n    </p>\n    <form class="lead-catcher__form">\n      <input type="text" name="name" placeholder="Ваше имя" />\n      <input\n        type="tel"\n        name="phone"\n        maxlength="18"\n        placeholder="+7 (499) XXX XX XX"\n      />\n      <input type="submit" name="submit" value="Да, интересно!" />\n    </form>\n  </div>\n  <div class="lead-catcher__loading-page">\n    <svg\n      class="lead-catcher__loader"\n      xmlns="http://www.w3.org/2000/svg"\n      xmlns:xlink="http://www.w3.org/1999/xlink"\n      viewBox="0 0 44 44"\n    >\n      <circle cx="22" cy="22" r="20"></circle>\n    </svg>\n  </div>\n  <div class="lead-catcher__thanks-page">\n    <h3 class="lead-catcher__title">\n      Отлично, мы приняли заявку. Подождите немного и мы вам позвоним!\n    </h3>\n  </div>\n  <span class="lead-catcher__label">\n    Виджет от\n    <a href="https://www.primegate.io/" target="_blank">PrimeGate.io</a>\n  </span>\n</div>\n<div class="lead-catcher timer">\n  <span class="lead-catcher__header">\n    <span class="lead-catcher__header__title">Мускул Шоп</span>\n    <svg\n      class="lead-catcher__close-btn"\n      width="10"\n      height="11"\n      viewBox="0 0 10 11"\n      fill="none"\n      xmlns="http://www.w3.org/2000/svg"\n    >\n      <path\n        fill-rule="evenodd"\n        clip-rule="evenodd"\n        d="M3.90827 5.52079L0.0800781 1.6926L1.03696 0.735718L4.86515 4.56391L8.69334 0.735718L9.65022 1.6926L5.82203 5.52079L9.65022 9.34898L8.69334 10.3059L4.86515 6.47767L1.03696 10.3059L0.0800781 9.34898L3.90827 5.52079Z"\n        fill="#737373"\n      />\n    </svg>\n  </span>\n  <div class="lead-catcher__work-time">\n    <h3 class="lead-catcher__title">О, мы так рады!</h3>\n    <p class="lead-catcher__description">\n      Оставляйте скорее телефон, мы сами перезвоним.\n    </p>\n    <form class="lead-catcher__form">\n      <input\n        type="tel"\n        name="phone"\n        maxlength="18"\n        placeholder="+7 (499) XXX XX XX"\n      />\n      <input type="submit" name="submit" value="Жду звонка!" />\n    </form>\n  </div>\n  <div class="lead-catcher__not-work-time">\n    <h3 class="lead-catcher__title">\n      К великому сожалению, но рабочий день имеет место оканчиваться. Это не\n      мешает связаться с вами завтра. Скажите, когда нам перезвонить?\n    </h3>\n    <form class="lead-catcher__form">\n      <div class="lead-catcher__date-select">\n        <select name="date">\n          <option value="Завтра">Завтра</option>\n          <option value="Через 1 день">Через 1 день</option>\n          <option value="Через 2 дня">Через 2 дня</option>\n          <option value="Через 3 дня">Через 3 дня</option>\n          <option value="Через 4 дня">Через 4 дня</option>\n          <option value="Через 5 дней">Через 5 дней</option>\n          <option value="Через неделю">Через неделю</option>\n        </select>\n        <input\n          type="text"\n          name="time"\n          maxlength="5"\n          pattern="([0-1][0-9]|2[0-3]):[0-5][0-9]"\n          placeholder="10:15"\n        />\n      </div>\n      <input\n        type="tel"\n        name="phone"\n        maxlength="18"\n        placeholder="+7 (499) XXX XX XX"\n      />\n      <input type="submit" name="submit" value="Жду звонка!" />\n    </form>\n  </div>\n  <div class="lead-catcher__loading-page">\n    <svg\n      class="lead-catcher__loader"\n      xmlns="http://www.w3.org/2000/svg"\n      xmlns:xlink="http://www.w3.org/1999/xlink"\n      viewBox="0 0 44 44"\n    >\n      <circle cx="22" cy="22" r="20"></circle>\n    </svg>\n  </div>\n  <div class="lead-catcher__thanks-page">\n    <h3 class="lead-catcher__title">\n      Отлично, мы приняли заявку. Подождите немного и мы вам позвоним!\n    </h3>\n  </div>\n  <span class="lead-catcher__label">\n    Виджет от\n    <a href="https://www.primegate.io/" target="_blank">PrimeGate.io</a>\n  </span>\n</div>\n',t.body.appendChild(n);var l=t.createElement("style");l.type="text/css",l.innerHTML+='@charset "UTF-8";@import url(https://fonts.googleapis.com/css?family=Fira+Sans&display=swap&subset=cyrillic);@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}@-webkit-keyframes move-cursor-show{0%{right:-100px;top:100px;opacity:0}to{right:0;top:0;opacity:1}}@keyframes move-cursor-show{0%{right:-100px;top:100px;opacity:0}to{right:0;top:0;opacity:1}}@-webkit-keyframes move-cursor-hide{0%{-webkit-transform:scale(1);transform:scale(1);right:0;top:0;opacity:1}to{-webkit-transform:scale(1);transform:scale(1);right:-100px;top:100px;opacity:0}}@keyframes move-cursor-hide{0%{-webkit-transform:scale(1);transform:scale(1);right:0;top:0;opacity:1}to{-webkit-transform:scale(1);transform:scale(1);right:-100px;top:100px;opacity:0}}@-webkit-keyframes bounce{0%,20%,50%,80%,to{-webkit-transform:translateY(0);transform:translateY(0)}40%{-webkit-transform:translateY(-30px);transform:translateY(-30px)}60%{-webkit-transform:translateY(-15px);transform:translateY(-15px)}}@keyframes bounce{0%,20%,50%,80%,to{-webkit-transform:translateY(0);transform:translateY(0)}40%{-webkit-transform:translateY(-30px);transform:translateY(-30px)}60%{-webkit-transform:translateY(-15px);transform:translateY(-15px)}}@-webkit-keyframes move-time-hide{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}to{-webkit-transform:scale(0);transform:scale(0);opacity:0}}@keyframes move-time-hide{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}to{-webkit-transform:scale(0);transform:scale(0);opacity:0}}.lead-catcher{z-index:999999999;position:fixed;display:none;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;background-color:#eee;border:1px solid #c4c4c4}.lead-catcher *{font-family:"Fira Sans",sans-serif;font-style:normal;font-weight:400;-webkit-box-sizing:content-box;box-sizing:content-box}.lead-catcher * a{text-decoration:underline}.lead-catcher__thanks-page{display:none;text-align:center;font-size:22px;width:80%;margin:auto!important;line-height:20px}.lead-catcher__loading-page{display:none;margin-top:auto;margin-bottom:auto}.lead-catcher__loader{-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite;display:block;margin:0 auto;background-size:32px;width:32px;height:32px}.lead-catcher__loader circle{fill:none;stroke:#737373;stroke-width:4;stroke-dasharray:90,150;stroke-dashoffset:0;stroke-linecap:round;-webkit-animation:dash 1.5s ease-in-out infinite;animation:dash 1.5s ease-in-out infinite}.lead-catcher__header{background-color:#fff;border-bottom:1px solid #c4c4c4;padding:3px;text-align:left;font-size:16px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.lead-catcher__header .lead-catcher__close-btn{margin:0 3px 0 auto}.lead-catcher__header__title{margin-left:10px}.lead-catcher__close-btn{float:right;border:1px solid #737373;border-radius:3px;padding:7px;text-align:center;cursor:pointer;margin:5px 5px 5px auto}.lead-catcher__close-btn svg{margin-top:5px}.lead-catcher__work{margin-bottom:auto}.lead-catcher__not-work-time,.lead-catcher__work-time{margin-top:auto;margin-bottom:auto;display:none}.lead-catcher__not-work-time.active,.lead-catcher__work-time.active{display:block}.lead-catcher__title{font-size:22px;line-height:20px;width:700px;margin:0}.lead-catcher.timer .lead-catcher__title{text-align:center}.lead-catcher.cursor .lead-catcher__title{text-align:left}.lead-catcher__description{font-size:16px;line-height:19px;color:#000;margin-top:10px;margin-bottom:2px}.lead-catcher__form input{height:auto;text-transform:none!important;display:inline}.lead-catcher__form input[type=tel]{width:-webkit-fill-available;margin-bottom:10px}.lead-catcher__form input[name=submit]{background:#1e945b;border:1px solid #c4c4c4;border-radius:3px;cursor:pointer;padding:8px 20px;font-size:19px;font-weight:400;line-height:100%;color:#fff;text-align:center;letter-spacing:initial;outline:0}.lead-catcher__form input:not([type=submit]),.lead-catcher__form select[name=date]{font-size:19px;padding:6px 10px;border-radius:3px;border:1px solid #c4c4c4;margin-top:8px;margin-right:7px;color:#737373;width:180px;line-height:initial;outline:0}.lead-catcher__form input:not([type=submit])::-webkit-input-placeholder,.lead-catcher__form select[name=date]::-webkit-input-placeholder{color:#c4c4c4}.lead-catcher__form input:not([type=submit])::-moz-placeholder,.lead-catcher__form select[name=date]::-moz-placeholder{color:#c4c4c4}.lead-catcher__form input:not([type=submit]):-ms-input-placeholder,.lead-catcher__form input:not([type=submit])::-ms-input-placeholder,.lead-catcher__form select[name=date]:-ms-input-placeholder,.lead-catcher__form select[name=date]::-ms-input-placeholder{color:#c4c4c4}.lead-catcher__form input:not([type=submit])::placeholder,.lead-catcher__form select[name=date]::placeholder{color:#c4c4c4}.lead-catcher__form input:not([type=submit]).isNotValid,.lead-catcher__form select[name=date].isNotValid{border-color:red}.lead-catcher.cursor{width:800px;height:200px;margin-right:10%;right:-100px;top:100px;opacity:0;-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0)}.lead-catcher.cursor.active{right:0;top:0;opacity:1;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);-webkit-animation:move-cursor-show .5s;animation:move-cursor-show .5s}.lead-catcher.cursor.not-active{-webkit-animation:move-cursor-hide .5s;animation:move-cursor-hide .5s}.lead-catcher.cursor>div{margin-left:35px}.lead-catcher.cursor.not-active,.lead-catcher.timer,.lead-catcher.timer.not-active{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0)}.lead-catcher.timer{width:600px;height:350px;left:0;right:0;top:0;bottom:0;margin:auto;opacity:0}.lead-catcher.timer.active{-webkit-animation:bounce 1s 1;animation:bounce 1s 1;opacity:1;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}.lead-catcher.timer.not-active{-webkit-animation:move-time-hide .3s 1;animation:move-time-hide .3s 1}.lead-catcher.temer>div{text-align:center}.lead-catcher.timer .lead-catcher__title{margin:0 auto;width:auto}.lead-catcher.timer .lead-catcher__description{margin:0 auto;color:#a2a2a2}.lead-catcher.timer .lead-catcher__work-time{line-height:26px;text-align:center}.lead-catcher.timer .lead-catcher__work-time .lead-catcher__title{line-height:26px}.lead-catcher.timer .lead-catcher__not-work-time .lead-catcher__title{font-size:18px;line-height:19px;max-width:400px;padding:0 30px;text-align:center}.lead-catcher.timer .lead-catcher__not-work-time .lead-catcher__form{margin:0 auto;width:185px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.lead-catcher.timer .lead-catcher__not-work-time .lead-catcher__form input[type=tel]{width:-webkit-fill-available;margin-right:0}.lead-catcher.timer .lead-catcher__not-work-time .lead-catcher__form div{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.lead-catcher.timer .lead-catcher__not-work-time .lead-catcher__form div select[name=date]{width:57%;padding:0;text-align:center;margin-right:0;font-size:15px}.lead-catcher.timer .lead-catcher__not-work-time .lead-catcher__form div input[name=time]{width:26%;margin-right:0}.lead-catcher__label{text-align:right;font-size:12px;line-height:100%;color:#a2a2a2;margin:5px}.lead-catcher__label a{color:#a2a2a2}@media only screen and (max-width:800px){.lead-catcher.cursor{display:none}.lead-catcher.timer{width:90%;height:400px}}',t.head.appendChild(l),"1"!==h.settings.lead_genny.leave_form_status||null==e.location.href.match(h.settings.lead_genny.leave_form_regex)&&null!=h.settings.lead_genny.leave_form_regex||function(){var n=t.getElementsByClassName("lead-catcher cursor")[0];n.style.display="flex",n.style.backgroundColor=h.settings.lead_genny.leave_form_background_color,n.getElementsByClassName("lead-catcher__form")[0].submit.value=h.settings.lead_genny.leave_form_button_text,n.getElementsByClassName("lead-catcher__form")[0].submit.style.backgroundColor=h.settings.lead_genny.leave_form_button_color,n.getElementsByClassName("lead-catcher__form")[0].submit.style.color=h.settings.lead_genny.leave_form_button_text_color,n.getElementsByClassName("lead-catcher__thanks-page")[0].style.color=h.settings.lead_genny.leave_form_header_color,n.getElementsByClassName("lead-catcher__thanks-page")[0].textContent=h.settings.lead_genny.leave_form_text_after_submit,n.getElementsByClassName("lead-catcher__title")[0].style.color=h.settings.lead_genny.leave_form_header_color,n.getElementsByClassName("lead-catcher__title")[0].textContent=h.settings.lead_genny.leave_form_header_text,n.getElementsByClassName("lead-catcher__description")[0].style.color=h.settings.lead_genny.leave_form_subheader_color,n.getElementsByClassName("lead-catcher__description")[0].textContent=h.settings.lead_genny.leave_form_subheader_text;var l=F(h.settings.lead_genny.leave_form_background_color,i);n.style.borderColor=l,n.querySelector(".lead-catcher__loader circle").style.stroke=l;var g=n.getElementsByClassName("lead-catcher__label")[0];g.style.color=l,g.getElementsByTagName("a")[0].style.color=l;for(var u=n.getElementsByClassName("lead-catcher__form"),p=0;p<u.length;p++)u[p].submit.style.borderColor=l;for(var f=n.getElementsByClassName("lead-catcher__close-btn"),m=0;m<f.length;m++)f[m].style.borderColor=l,f[m].getElementsByTagName("path")[0].style.fill=l;var _=null,b=null,x=null,v=0;t.getElementsByTagName("html")[0].addEventListener("mousemove",function(e){if(null===_)return _=Date.now(),b=e.screenX,void(x=e.screenY);var t=Date.now(),n=t-_,o=e.screenX-b,i=e.screenY-x,r=Math.abs(Math.round(o/n*100)),a=Math.abs(Math.round(i/n*100));v=Math.round((r+a)/2),_=t,b=e.screenX,x=e.screenY}),t.getElementsByTagName("html")[0].addEventListener("mouseleave",function(){v>50&&!o&&!C(c)&&s(n,!0)}),n.querySelector('input[name="submit"]').addEventListener("click",function(o){o.preventDefault();var i=o.target.parentNode,l=i.name,g=i.phone,u="",p=!1;if(l.value.trim().length<2?(l.classList.add("isNotValid"),p=!0):l.classList.remove("isNotValid"),g.value.trim().length<7?(g.classList.add("isNotValid"),p=!0):(g.classList.remove("isNotValid"),u=i.phone.value.replace(/[()+-\s]/g,"").replace(/^8/g,"7"),!0!==/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,11}$/.test(u)&&(g.classList.add("isNotValid"),p=!0)),!p){$(),r(n);var f={sessionId:h.settings.session.id,name:l.value,phone:g.value,pageUrl:e.location.href,pageTitle:t.title?t.title:""};w.request({url:y("js-client/form-request",{apiKey:h.apiKey,token:h.settings.session.token,lead_genny:1}),method:"POST",data:f}).done(function(e){(e=JSON.parse(e)).success,a(n),setTimeout(function(){s(n,!1)},1e3),B(c,!0,{expires:1e3*parseInt(null!=h.settings.base.visitor_session_ttl?h.settings.base.visitor_session_ttl:"120")*60,path:"/"}),B(d,!0,{expires:1e3*parseInt(null!=h.settings.base.visitor_session_ttl?h.settings.base.visitor_session_ttl:"120")*60,path:"/"})})}}),n.getElementsByClassName("lead-catcher__close-btn")[0].addEventListener("click",function(){s(n,!1),B(c,!0,{expires:1e3*parseInt(null!=h.settings.base.visitor_session_ttl?h.settings.base.visitor_session_ttl:"120")*60,path:"/"})})}(),"1"!==h.settings.lead_genny.work_form_status||null==e.location.href.match(h.settings.lead_genny.work_form_regex)&&null!=h.settings.lead_genny.work_form_regex||function(){var n=t.getElementsByClassName("lead-catcher timer")[0];n.style.display="flex",n.getElementsByClassName("lead-catcher__header__title")[0].textContent=h.settings.lead_genny.work_form_header_title,n.style.backgroundColor=h.settings.lead_genny.work_form_background_color;for(var l=0;l<2;l++)n.getElementsByClassName("lead-catcher__form")[l].submit.style.backgroundColor=h.settings.lead_genny.work_form_button_color,n.getElementsByClassName("lead-catcher__form")[l].submit.style.color=h.settings.lead_genny.work_form_button_text_color,n.getElementsByClassName("lead-catcher__form")[l].submit.value=h.settings.lead_genny.work_form_button_text,n.getElementsByClassName("lead-catcher__thanks-page")[0].style.color=h.settings.lead_genny.work_form_header_color,n.getElementsByClassName("lead-catcher__thanks-page")[0].textContent=h.settings.lead_genny.work_form_text_after_submit,n.getElementsByClassName("lead-catcher__title")[l].style.color=h.settings.lead_genny.work_form_header_color,n.getElementsByClassName("lead-catcher__title")[0].textContent=h.settings.lead_genny.work_form_header_text,n.getElementsByClassName("lead-catcher__title")[1].textContent=h.settings.lead_genny.work_form_header_text_not_work,n.getElementsByClassName("lead-catcher__description")[l]&&(n.getElementsByClassName("lead-catcher__description")[l].style.color=h.settings.lead_genny.work_form_subheader_color),n.getElementsByClassName("lead-catcher__description")[0].textContent=h.settings.lead_genny.work_form_subheader_text;var g=F(h.settings.lead_genny.work_form_background_color,i);n.style.borderColor=g;var u,p=n.getElementsByClassName("lead-catcher__label")[0];p.style.color=g,p.getElementsByTagName("a")[0].style.color=g;for(var f=n.getElementsByClassName("lead-catcher__form"),m=0;m<f.length;m++)f[m].submit.style.borderColor=g;function _(){u=setTimeout(function(){o||C(d)||s(n,!0)},1e3*h.settings.lead_genny.work_form_timeout)}_(),"1"===h.settings.lead_genny.work_form_type&&t.getElementsByTagName("html")[0].addEventListener("mousemove",function(){clearTimeout(u),_()}),n.querySelector('.lead-catcher__work-time input[name="submit"]').addEventListener("click",function(o){if(null==C(d)){o.preventDefault();var i=o.target.parentNode,l=i.phone,g="",u=!1;l.value.trim().length<7?(l.classList.add("isNotValid"),u=!0):(l.classList.remove("isNotValid"),g=i.phone.value.replace(/[()+-\s]/g,"").replace(/^8/g,"7"),!0!==/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,11}$/.test(g)&&(l.classList.add("isNotValid"),u=!0)),u||($(),r(n),w.request({url:y("js-client/callback-request",{apiKey:h.apiKey,token:h.settings.session.token,lead_genny:1}),method:"POST",data:{sessionId:h.settings.session.id,callbackNumber:g,pageUrl:e.location.href,pageTitle:t.title?t.title:""}}).done(function(e){e=JSON.parse(e),a(n),setTimeout(function(){s(n,!1)},1e3),B(d,!0,{expires:1e3*parseInt(null!=h.settings.base.visitor_session_ttl?h.settings.base.visitor_session_ttl:"120")*60,path:"/"}),B(c,!0,{expires:1e3*parseInt(null!=h.settings.base.visitor_session_ttl?h.settings.base.visitor_session_ttl:"120")*60,path:"/"})}))}}),n.querySelector('.lead-catcher__not-work-time input[name="submit"]').addEventListener("click",function(o){o.preventDefault();var i=o.target.parentNode,l=i.date,g=i.time,u=i.phone,p="",f=!1;if(5!=g.value.trim().length?(g.classList.add("isNotValid"),f=!0):g.classList.remove("isNotValid"),u.value.trim().length<7?(u.classList.add("isNotValid"),f=!0):(u.classList.remove("isNotValid"),p=i.phone.value.replace(/[()+-\s]/g,"").replace(/^8/g,"7"),!0!==/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,11}$/.test(p)&&(u.classList.add("isNotValid"),f=!0)),!f){r(n);var m={sessionId:h.settings.session.id,phone:u.value,note:l.value+" "+g.value,pageUrl:e.location.href,pageTitle:t.title?t.title:""};$(),w.request({url:y("js-client/form-request",{apiKey:h.apiKey,token:h.settings.session.token,lead_genny:1}),method:"POST",data:m}).done(function(e){(e=JSON.parse(e)).success,a(n),setTimeout(function(){s(n,!1)},1e3),B(d,!0,{expires:1e3*parseInt(null!=h.settings.base.visitor_session_ttl?h.settings.base.visitor_session_ttl:"120")*60,path:"/"}),B(c,!0,{expires:1e3*parseInt(null!=h.settings.base.visitor_session_ttl?h.settings.base.visitor_session_ttl:"120")*60,path:"/"})})}}),n.getElementsByClassName("lead-catcher__close-btn")[0].addEventListener("click",function(){s(n,!1),B(d,!0,{expires:1e3*parseInt(null!=h.settings.base.visitor_session_ttl?h.settings.base.visitor_session_ttl:"120")*60,path:"/"})})}(),function(){t.getElementsByClassName("lead-catcher"),Array.prototype.forEach.call(t.getElementsByClassName("lead-catcher__form"),function(e){Array.prototype.forEach.call(e.getElementsByTagName("input"),function(e){!function(e){"time"===e.name&&(e.addEventListener("keydown",function(e){}),e.addEventListener("mousedown",function(e){}))}(e),function(e){"phone"===e.name&&e.addEventListener("keydown",function(e){"Backspace"!==e.key&&e.preventDefault(),function(e,t){if(t.key>=0&&t.key<=9&&e.value.length<20&&(e.value+=t.key),e.value.length<20)switch(t.key){case"+":0===e.value.length&&(e.value+=t.key);break;case"(":e.value.split("(").length-1==0&&"+"!==e.value[e.value.length-1]&&(e.value+=t.key);break;case")":e.value.split(")").length-1==0&&e.value.split("(").length-1==1&&"("!==e.value[e.value.length-1]&&e.value.length>0&&(e.value+=t.key);break;case" ":e.value.split(" ").length-1<5&&" "!==e.value[e.value.length-1]&&"+"!==e.value[e.value.length-1]&&"-"!==e.value[e.value.length-1]&&e.value.length>0&&(e.value+=t.key);break;case"-":e.value.split("-").length-1<5&&"-"!==e.value[e.value.length-1]&&" "!==e.value[e.value.length-1]&&"+"!==e.value[e.value.length-1]&&e.value.length>0&&(e.value+=t.key)}}(this,e)})}(e)})});var e=t.getElementsByClassName("lead-catcher__work-time"),n=t.getElementsByClassName("lead-catcher__not-work-time");if(W(h.settings.lead_genny)){for(var o=0;o<e.length;o++)A(e[o],"active");for(var i=0;i<n.length;i++)M(n[i],"active")}else{for(var r=0;r<e.length;r++)M(e[r],"active");for(var a=0;a<n.length;a++)A(n[a],"active")}}()},n}(),ae=function(){var n={},o=[],i=[],a={},s=!1,l=function(){return{contentBoxContent:t.querySelector(".pg-widget--controlBox-boxForContent"),contentBox:t.querySelector(".pg-widget--controlBox-content"),controlBox:t.querySelector(".pg-widget--controlBox"),controlBoxIsActive:t.querySelector(".pg-widget--controlBox").classList.contains("pg-widget--controlBox_active"),mainIcon:t.querySelector(".pg-widget--controlBox-mainBtn"),etcBox:t.querySelector(".pg-widget--controlBox-container"),etcBoxIsActive:t.querySelector(".pg-widget--controlBox-container").classList.contains("pg-widget--controlBox-container_active"),etcIcon:t.querySelector(".pg-widget--controlBox-btn_etc")}},c=function(){},d=function(){};function g(){var r=function(){return{mainIconImage:t.querySelector(".pg-widget--controlBox-mainBtn .pg-widget--controlBox-icon__image"),etcIconImage:t.querySelector(".pg-widget--controlBox-btn_etc .pg-widget--controlBox-icon__image")}};function a(){e.getSelection?e.getSelection().removeAllRanges():t.selection.empty()}function s(e){var t=e.getBoundingClientRect();return{top:t.top+pageYOffset,bottom:t.bottom,left:t.left+pageXOffset,right:t.right}}S('<div class="pg-widget--controlBox">\n    <div class="pg-widget--controlBox-boxForContent">\n        <div class="pg-widget--controlBox-content">\n        </div>\n        \x3c!--<span class="pg-widget&#45;&#45;controlBox-label">SuperCharged by <a href="https://www.primegate.io/">PrimeGate.io</a></span>--\x3e\n    </div>\n    <div class="pg-widget--controlBox-btn pg-widget--controlBox-container">\n        <div class="pg-widget--controlBox-btn pg-widget--controlBox-btn_whatsApp pg-widget--controlBox-icon"></div>\n        <div class="pg-widget--controlBox-btn pg-widget--controlBox-btn_telegram pg-widget--controlBox-icon"></div>\n        <div class="pg-widget--controlBox-btn pg-widget--controlBox-btn_vk pg-widget--controlBox-icon"></div>\n        <div class="pg-widget--controlBox-btn pg-widget--controlBox-btn_facebook pg-widget--controlBox-icon"></div>\n        <div class="pg-widget--controlBox-btn pg-widget--controlBox-btn_etc pg-widget--controlBox-icon">\n            <div class="pg-widget--controlBox-icon pg-widget--controlBox-icon__image"></div>\n        </div>\n    </div>\n    <div class="pg-widget--controlBox-btn pg-widget--controlBox-btn_form">\n        <div class="pg-widget--controlBox-icon"></div>\n        <div class="pg-widget--controlBox-btn__descriptions"><div class="pg-widget--controlBox-btn__text">Форма</div></div>\n    </div>\n    <div class="pg-widget--controlBox-btn pg-widget--controlBox-btn_callback">\n        <div class="pg-widget--controlBox-icon"></div>\n        <div class="pg-widget--controlBox-btn__descriptions"><div class="pg-widget--controlBox-btn__text">Обратный звонок</div></div>\n    </div>\n    <div class="pg-widget--controlBox-btn pg-widget--controlBox-btn_chat">\n        <div class="pg-widget--controlBox-icon"></div>\n        <div class="pg-widget--controlBox-btn__descriptions"><div class="pg-widget--controlBox-btn__text">Чат</div></div>\n    </div>\n    <div class="pg-widget--controlBox-mainBtn pg-widget--controlBox-icon">\n        <div class="pg-widget--controlBox-icon pg-widget--controlBox-icon__image"></div>\n    </div>\n</div>'),L('.pg-widget--controlBox{width:55px;height:55px;position:fixed;right:0;bottom:0;-webkit-transition:right .4s;-o-transition:right .4s;transition:right .4s;margin:20px;z-index:999999999}.pg-widget--controlBox,.pg-widget--controlBox *{font-family:"Fira Sans",sans-serif;-webkit-box-sizing:border-box;box-sizing:border-box}.pg-widget--controlBox a{text-decoration:none}.pg-widget--controlBox a:hover{text-decoration:underline}.pg-widget--controlBox-mainBtn .pg-widget--controlBox-icon__image{background-size:30px 30px}.pg-widget--controlBox-icon{width:55px;height:55px;border-radius:100%;background-repeat:no-repeat;background-position:center;background-size:24px 24px;cursor:pointer;position:absolute;border:1px solid gray}.pg-widget--controlBox-icon__image{opacity:1;-webkit-transition:opacity .3s;-o-transition:opacity .3s;transition:opacity .3s;border:0!important;background-color:transparent!important;position:relative;top:-1px;left:-1px}.pg-widget--controlBox-btn{position:absolute;width:55px;height:55px;bottom:0;opacity:0}.pg-widget--controlBox-btn__descriptions{overflow:hidden;width:0;height:100%;margin-right:25px;border-bottom-left-radius:50px;border-top-left-radius:50px;background-color:#fff;border:1px solid #000;float:right;color:#000;-webkit-transition:width .4s;-o-transition:width .4s;transition:width .4s;white-space:nowrap;display:-webkit-box;display:-ms-flexbox;display:flex}.pg-widget--controlBox-btn_etc{opacity:1}.pg-widget--controlBox-btn_form:hover .pg-widget--controlBox-btn__descriptions{width:135px}.pg-widget--controlBox-btn_callback:hover .pg-widget--controlBox-btn__descriptions{width:218px}.pg-widget--controlBox-btn_chat:hover .pg-widget--controlBox-btn__descriptions{width:115px}.pg-widget--controlBox-btn_whatsApp{bottom:65px!important;opacity:1!important}.pg-widget--controlBox-btn__text{margin:auto 60px auto 20px}.pg-widget--controlBox-btn_alwaysActive{right:0!important;bottom:0!important;left:0!important;opacity:1!important}.pg-widget--controlBox_descHide .pg-widget--controlBox-btn__descriptions{width:0!important}.pg-widget--controlBox-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:100%}.pg-widget--controlBox-boxForContent{overflow:hidden;display:none;z-index:999999999;position:fixed;right:100px;bottom:20px;-webkit-transition:height .4s,width .4s,right .4s,bottom .4s,opacity .3s;-o-transition:height .4s,width .4s,right .4s,bottom .4s,opacity .3s;transition:height .4s,width .4s,right .4s,bottom .4s,opacity .3s;min-width:287px;width:333px;height:100px;-webkit-box-sizing:content-box;box-sizing:content-box;background-color:#fff;-webkit-box-shadow:1px 1px 21px rgba(0,0,0,.25);box-shadow:1px 1px 21px rgba(0,0,0,.25);border-radius:10px}.pg-widget--controlBox-boxForContent_StopAnimation{-webkit-transition:none;-o-transition:none;transition:none}'),0!==o.filter(function(e){return e.isCreate}).length&&o.filter(function(e){return e.isCreate}).length<=2&&i.filter(function(e){return e.isCreate&&"etc"!==e.name}).length>=1&&(t.querySelectorAll(".pg-widget--controlBox-container .pg-widget--controlBox-btn").forEach(function(e){e.classList.add("pg-widget--controlBox-btn_alwaysActive")}),t.querySelector(".pg-widget--controlBox-container .pg-widget--controlBox-btn_whatsApp").classList.remove("pg-widget--controlBox-btn_alwaysActive"),l().etcIcon.style.display="none"),t.querySelectorAll(".pg-widget--controlBox-icon").forEach(function(e){e.style.border="1px solid "+h.settings.widget.border_color,e.style.backgroundColor=h.settings.widget.background_color,e.classList.contains("pg-widget--controlBox-btn_etc")&&(e.querySelector(".pg-widget--controlBox-btn_etc .pg-widget--controlBox-icon__image").style.backgroundImage=x("etc")),e.parentElement.classList.contains("pg-widget--controlBox-btn_form")&&(e.style.backgroundImage=x("form")),e.parentElement.classList.contains("pg-widget--controlBox-btn_callback")&&(e.style.backgroundImage=x("callback")),e.parentElement.classList.contains("pg-widget--controlBox-btn_chat")&&(e.style.backgroundImage=x("chat")),e.parentElement.classList.contains("pg-widget--controlBox-mainBtn")&&(e.style.backgroundImage=x("main")),e.classList.contains("pg-widget--controlBox-btn_whatsApp")&&(e.style.backgroundImage=x("whatsApp")),e.classList.contains("pg-widget--controlBox-btn_telegram")&&(e.style.backgroundImage=x("telegram")),e.classList.contains("pg-widget--controlBox-btn_vk")&&(e.style.backgroundImage=x("vk")),e.classList.contains("pg-widget--controlBox-btn_facebook")&&(e.style.backgroundImage=x("facebook"))}),t.querySelectorAll(".pg-widget--controlBox-btn__descriptions").forEach(function(e){e.style.border="1px solid "+h.settings.widget.border_color,e.style.backgroundColor=F(h.settings.widget.background_color,-3),e.style.color=h.settings.widget.widget_text_color}),l().etcIcon.style.backgroundColor=h.settings.widget.background_color,h.settings.widget.offset_y&&(l().controlBox.style.bottom=h.settings.widget.offset_y+"px",l().contentBoxContent.style.bottom=h.settings.widget.offset_y+"px",h.widget.offsetY=h.settings.widget.offset_y);if(i.filter(function(e){return e.isCreate&&"etc"!==e.name}).length)l().mainIcon.addEventListener("click",function(){l().controlBoxIsActive?f():p()}),l().etcIcon.addEventListener("click",function(){l().etcBoxIsActive?_():m()});else{var g=i.filter(function(e){return e.isCreate&&"etc"!==e.name}),u=o.filter(function(e){return e.isCreate});1===g.length&&0===u.length||0===g.length&&1===u.length?l().mainIcon.addEventListener("click",function(){l().controlBoxIsActive?f():p()}):l().mainIcon.addEventListener("click",function(){l().etcBox.style.opacity="1",l().etcIcon.style.opacity="0",r().mainIconImage.style.opacity="0";var e=function(){return l().etcBoxIsActive};e()?(_(),setTimeout(function(){e()||(r().mainIconImage.style.backgroundImage=x("main"),r().mainIconImage.style.opacity="1")},200)):(m(),setTimeout(function(){e()&&(r().mainIconImage.style.backgroundImage=x("smallCross"),r().mainIconImage.style.opacity="1")},200))})}t.documentElement.addEventListener("mousemove",function(e){t.documentElement.clientWidth-s(l().contentBoxContent).right<=0&&t.documentElement.clientHeight-s(l().contentBoxContent).bottom<=0&&!h.widget.isResize&&(t.documentElement.clientWidth-e.clientX<l().contentBoxContent.clientWidth+100&&e.clientY>l().contentBoxContent.getBoundingClientRect().top-50?l().controlBox.style.right=l().contentBoxContent.clientWidth+"px":l().controlBox.style.right=l().contentBoxContent.clientWidth-80+"px")});var b=l().contentBoxContent;n.headerChatMouseDownAction=function(e){b.style.transition="none",A(t.querySelector(".pg-widget--chat-header"),"pg-widget--chat-header_grabbing");var n=e.pageX-s(b).left,o=e.pageY-s(b).top;function i(e){b.style.right=t.documentElement.clientWidth-(e.clientX+(b.clientWidth-n))+"px",b.style.bottom=t.documentElement.clientHeight-(e.clientY+(b.clientHeight-o))+"px",function(e){a(),b.style.borderRadius="10px",e.clientX-n<=0&&(b.style.right=t.documentElement.clientWidth-b.clientWidth+"px",b.style.borderBottomLeftRadius="0px",b.style.borderTopLeftRadius="0px");e.clientY-o<=0&&(b.style.bottom=t.documentElement.clientHeight-b.clientHeight+"px",b.style.borderTopLeftRadius="0px",b.style.borderTopRightRadius="0px");t.documentElement.clientWidth-s(b).right<=0&&(b.style.right="0px",b.style.borderTopRightRadius="0px",b.style.borderBottomRightRadius="0px");t.documentElement.clientHeight-s(b).bottom<=0&&(b.style.bottom="0px",b.style.borderBottomLeftRadius="0px",b.style.borderBottomRightRadius="0px");t.documentElement.clientWidth-s(b).right<=0&&t.documentElement.clientHeight-s(b).bottom<=0?l().controlBox.style.right=b.clientWidth+"px":l().controlBox.style.right="0px"}(e)}i(e),t.onmousemove=function(e){i(e)},t.onmouseup=function(){t.onmousemove=null,b.onmouseup=null,t.onmouseup=null,M(t.querySelector(".pg-widget--chat-header"),"pg-widget--chat-header_grabbing"),b.style.transition="height .4s, width .4s, right .4s, bottom .4s"}},n.headerResizeChatMouseDownAction=function(e){h.widget.isResize=!0;var n=e.pageX-s(b).left,o=e.pageY-s(b).top;b.style.transition="none",b.style.minHeight="370px",t.onmousemove=function(e){var i=t.createEvent("Event");i.initEvent("resizeContent",!1,!0),b.dispatchEvent(i),function(e){b.style.width=s(b).right-(e.clientX-n)+"px",b.style.height=s(b).bottom-(e.clientY-o)+"px",function(e){a(),P(t.querySelector(".pg-widget--chat-messagesBox")),b.style.borderRadius="10px",e.clientX-n<=0&&(b.style.width=s(b).right+"px",b.style.borderBottomLeftRadius="0px",b.style.borderTopLeftRadius="0px");e.clientY-o<=0&&(b.style.height=s(b).bottom+"px",b.style.borderTopLeftRadius="0px",b.style.borderTopRightRadius="0px");t.documentElement.clientWidth-s(b).right<=0&&(b.style.right="0px",b.style.borderTopRightRadius="0px",b.style.borderBottomRightRadius="0px");t.documentElement.clientHeight-s(b).bottom<=0&&(b.style.bottom="0px",b.style.borderBottomLeftRadius="0px",b.style.borderBottomRightRadius="0px");t.documentElement.clientWidth-s(b).right<=0&&t.documentElement.clientHeight-s(b).bottom<=0&&(l().controlBox.style.transition="none",setTimeout(function(){l().controlBox.style.right=b.clientWidth+"px",l().controlBox.style.transition="right .4s"},1))}(e)}(e)},t.onmouseup=function(){h.widget.isResize=!1,t.onmousemove=null,b.onmouseup=null,b.style.transition="height .4s, width .4s, right .4s, bottom .4s"}},d=function(e){switch(l().contentBoxContent.style.borderRadius="10px",e.name){case"main":if(l().controlBoxIsActive){var n=i.filter(function(e){return e.isCreate&&"etc"!==e.name}),r=o.filter(function(e){return e.isCreate});if(1===n.length&&0===r.length||0===n.length&&1===r.length)return l().contentBoxContent.style.display="block",e=n.length?n[0]:r[0],d(e),!0}else{l().contentBoxContent.style.display="none",l().contentBoxContent.style.height="100px",l().contentBoxContent.style.minHeight="auto",M(l().controlBox,"pg-widget--controlBox_descHide");var a=t.createEvent("Event");a.initEvent("closeControl",!1,!0),l().controlBox.dispatchEvent(a)}break;case"etc":break;case"chat":var s=t.createEvent("Event");s.initEvent("closeControl",!1,!0),l().controlBox.dispatchEvent(s),l().contentBoxContent.style.display="block",setTimeout(function(){l().contentBoxContent.style.height=e.heightBox},1),A(l().controlBox,"pg-widget--controlBox_descHide");break;default:var c=t.createEvent("Event");c.initEvent("closeControl",!1,!0),l().controlBox.dispatchEvent(c),l().contentBoxContent.style.display="block",setTimeout(function(){l().contentBoxContent.style.height=e.heightBox,l().contentBoxContent.style.minHeight="auto"},1),A(l().controlBox,"pg-widget--controlBox_descHide")}l().controlBox.style.right="0px",h.widget.isResize=!0,setTimeout(function(){h.widget.isResize=!1},200),l().contentBoxContent.style.width="320px",l().contentBoxContent.style.right="100px",l().contentBoxContent.style.bottom=parseInt(h.widget.offsetY)+20+"px";var g=t.createEvent("Event");g.initEvent(e.actionName,!1,!0),l().controlBox.dispatchEvent(g)},c=function(e,n){var a=[],s=1,c=1,d="",g="",u="",p=function(){},h=function(){},f=function(){},m=function(){};switch(e){case"etc":a=_toConsumableArray(o),h=function(){return l().etcBoxIsActive},f=function(e){r().etcIconImage.style.opacity=e},m=function(e){r().etcIconImage.style.backgroundImage=e},g="top";break;case"main":a=_toConsumableArray(i),h=function(){return l().controlBoxIsActive},f=function(e){r().mainIconImage.style.opacity=e},m=function(e){r().mainIconImage.style.backgroundImage=e},g="top"}switch(g){case"top":d="bottom",p=function(e,t){e.style.bottom=t+"px"};break;case"left":d="right",p=function(e,t){e.style.right=t+"px"};break;case"right":d="left",p=function(e,t){e.style.left=t+"px"};break;case"bottom":d="top",p=function(e,t){e.style.top=t+"px"}}switch(n){case"open":switch(e){case"etc":u=x("cross");break;case"main":u=x("smallCross")}break;case"close":switch(e){case"etc":u=x("etc");break;case"main":u=x("main")}a=_toConsumableArray(a).reverse()}var _=a.filter(function(e){return e.isCreate}).length;1!==a.filter(function(e){return e.isCreate}).length&&a.forEach(function(e){if(e.isCreate){var o="pg-widget--controlBox-btn_etc"===e.className?t.querySelector("."+e.className).parentElement:t.querySelector("."+e.className),i=s;switch(n){case"open":p(o,65*s-20),setTimeout(function(){h()&&(o.style.transition="opacity 0.4s, ".concat(d," 0.6s"),p(o,65*i),o.style.opacity="1")},c);break;case"close":setTimeout(function(){h()||(p(o,65*_-65*(i-1)-20),o.style.opacity="0",setTimeout(function(){h()||(o.style.transition="none",p(o,0))},600))},c)}c=50*s,s++}}),f(0),setTimeout(function(){(h()||"close"===n&&!h())&&(r().mainIconImage.style.backgroundSize="30px 30px",m(u),f(1))},200)}}function u(){var e=function(){return{exitBtn:t.querySelector(".pg-widget--controlBox-btn_exit"),backBtn:t.querySelector(".pg-widget--controlBox-btn_back"),fullControl:t.querySelector(".pg-widget--controlBox-fullControl"),fullControlBlock:t.querySelector(".pg-widget--controlBox-fullControl__block"),etcBtn:t.querySelector(".pg-widget--controlBox-btn_etc"),switchBox:t.querySelector(".pg-widget--controlBox-fullControl__switcher")}};S('<div class="pg-widget--controlBox">\n    <div class="pg-widget--controlBox-fullControl">\n        <a class="pg-widget--controlBox-fullControl__label" href="https://www.primegate.io/">SuperCharged by PrimeGate</a>\n        <div class="pg-widget--controlBox-fullControl__block">\n            <div class="pg-widget--controlBox-boxForContent">\n                <div class="pg-widget--controlBox-content"></div>\n                <div class="pg-widget--controlBox-container">\n                    <div class="pg-widget--controlBox-btn pg-widget--controlBox-btn_whatsApp">\n                        <div class="pg-widget--controlBox-btn__icon"></div>\n                        <div class="pg-widget--controlBox-btn__descriptions">Whatsapp</div>\n                    </div>\n                    <div class="pg-widget--controlBox-btn pg-widget--controlBox-btn_telegram">\n                        <div class="pg-widget--controlBox-btn__icon"></div>\n                        <div class="pg-widget--controlBox-btn__descriptions">Telegram</div>\n                    </div>\n                    <div class="pg-widget--controlBox-btn pg-widget--controlBox-btn_vk">\n                        <div class="pg-widget--controlBox-btn__icon"></div>\n                        <div class="pg-widget--controlBox-btn__descriptions">Vkontakte</div>\n                    </div>\n                    <div class="pg-widget--controlBox-btn pg-widget--controlBox-btn_facebook">\n                        <div class="pg-widget--controlBox-btn__icon"></div>\n                        <div class="pg-widget--controlBox-btn__descriptions">Facebook messenger</div>\n                    </div>\n                </div>\n                <div class="pg-widget--controlBox-btn pg-widget--controlBox-btn_etc">\n                    <div class="pg-widget--controlBox-btn__icon"></div>\n                    <div class="pg-widget--controlBox-btn__descriptions">Другие мессенджеры</div>\n                </div>\n                <div class="pg-widget--controlBox-btn pg-widget--controlBox-btn_form">\n                    <div class="pg-widget--controlBox-btn__icon"></div>\n                    <div class="pg-widget--controlBox-btn__descriptions">Форма</div>\n                </div>\n                <div class="pg-widget--controlBox-btn pg-widget--controlBox-btn_callback">\n                    <div class="pg-widget--controlBox-btn__icon"></div>\n                    <div class="pg-widget--controlBox-btn__descriptions">Обратный звонок</div>\n                </div>\n                <div class="pg-widget--controlBox-btn pg-widget--controlBox-btn_chat">\n                    <div class="pg-widget--controlBox-btn__icon"></div>\n                    <div class="pg-widget--controlBox-btn__descriptions">Чат</div>\n                </div>\n            </div>\n            <div class="pg-widget--controlBox-fullControl__switcher">\n                <div class="pg-widget--controlBox-btn pg-widget--controlBox-btn_back">\n                    <div class="pg-widget--controlBox-btn__icon"></div>\n                    <div class="pg-widget--controlBox-btn__descriptions">Назад</div>\n                </div>\n                <div class="pg-widget--controlBox-btn pg-widget--controlBox-btn_exit">\n                    <div class="pg-widget--controlBox-btn__icon"></div>\n                    <div class="pg-widget--controlBox-btn__descriptions">Выйти</div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="pg-widget--controlBox-mainBtn">\n        <div class="pg-widget--controlBox-mainBtn__image"></div>\n    </div>\n</div>'),L('.pg-widget--controlBox{width:55px;height:55px;position:fixed;right:0;bottom:0;margin:20px;z-index:999999999;color:#3a3a3a}.pg-widget--controlBox,.pg-widget--controlBox *{font-family:"Fira Sans",sans-serif;-webkit-box-sizing:border-box;box-sizing:border-box}.pg-widget--controlBox-mainBtn,.pg-widget--controlBox-mainBtn__image{width:55px;height:55px;border-radius:100%;background-repeat:no-repeat;background-position:center;background-size:24px 24px;cursor:pointer;position:absolute}.pg-widget--controlBox-mainBtn__image{background-size:30px 30px;position:relative;top:-1px;left:-1px;opacity:1;-webkit-transition:opacity .3s;-o-transition:opacity .3s;transition:opacity .3s;border:0!important;background-color:transparent!important}.pg-widget--controlBox-container,.pg-widget--controlBox-content{display:none}.pg-widget--controlBox-content>div{max-width:100%;width:100%}.pg-widget--controlBox-boxForContent{-webkit-transition:height .3s,opacity .3s;-o-transition:height .3s,opacity .3s;transition:height .3s,opacity .3s;-webkit-box-sizing:unset;box-sizing:unset;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.pg-widget--controlBox-btn{padding:14px 25px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;line-height:1}.pg-widget--controlBox-btn__descriptions{margin-left:15px;font-size:18px}.pg-widget--controlBox-btn__icon{width:25px;height:25px;border:0!important;background-color:transparent!important;background-repeat:no-repeat;background-size:contain;background-position:center}.pg-widget--controlBox-btn:active{background-color:#d4d4d4}.pg-widget--controlBox-btn_callback,.pg-widget--controlBox-btn_chat,.pg-widget--controlBox-btn_etc,.pg-widget--controlBox-btn_form{display:none}.pg-widget--controlBox-fullControl__block_main .pg-widget--controlBox-boxForContent>.pg-widget--controlBox-btn{display:-webkit-box;display:-ms-flexbox;display:flex}.pg-widget--controlBox-fullControl__block_etc .pg-widget--controlBox-boxForContent>.pg-widget--controlBox-container,.pg-widget--controlBox-fullControl__block_etcOnly .pg-widget--controlBox-boxForContent>.pg-widget--controlBox-container{display:block}.pg-widget--controlBox-fullControl__block_mainMessenger .pg-widget--controlBox-boxForContent>.pg-widget--controlBox-btn{display:-webkit-box;display:-ms-flexbox;display:flex}.pg-widget--controlBox-fullControl__block_content .pg-widget--controlBox-content,.pg-widget--controlBox-fullControl__block_contentOnly .pg-widget--controlBox-content,.pg-widget--controlBox-fullControl__block_mainMessenger .pg-widget--controlBox-boxForContent>.pg-widget--controlBox-container{display:block}.pg-widget--controlBox-fullControl__block_mainMessenger .pg-widget--controlBox-boxForContent>.pg-widget--controlBox-btn_etc{display:none}.pg-widget--controlBox-fullControl__switcher .pg-widget--controlBox-btn:first-child{display:none}.pg-widget--controlBox-fullControl__block_content .pg-widget--controlBox-fullControl__switcher .pg-widget--controlBox-btn:first-child,.pg-widget--controlBox-fullControl__block_etc .pg-widget--controlBox-fullControl__switcher .pg-widget--controlBox-btn:first-child{display:-webkit-box;display:-ms-flexbox;display:flex}.pg-widget--controlBox-fullControl__block_content .pg-widget--controlBox-fullControl__switcher .pg-widget--controlBox-btn:first-child+div,.pg-widget--controlBox-fullControl__block_etc .pg-widget--controlBox-fullControl__switcher .pg-widget--controlBox-btn:first-child+div{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.pg-widget--controlBox-fullControl{width:100%;height:100%;position:fixed;top:0;left:0;z-index:1;background-color:transparent;-webkit-transition:background-color .3s;-o-transition:background-color .3s;transition:background-color .3s;display:none;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.pg-widget--controlBox-fullControl__label,.pg-widget--controlBox-fullControl__label:hover,.pg-widget--controlBox-fullControl__label:visited{color:#fff;font-size:13px;font-weight:300;height:0;position:relative;top:-34px;text-decoration:none}.pg-widget--controlBox-fullControl__block{background-color:#fff;width:100%;height:-webkit-min-content;height:-moz-min-content;height:min-content;margin-bottom:-100%;-webkit-transition:margin-bottom .3s;-o-transition:margin-bottom .3s;transition:margin-bottom .3s;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;overflow:hidden}.pg-widget--controlBox-fullControl__switcher{background-color:#fff;border-top:1px solid rgba(0,0,0,.54);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:100%}'),0!==o.filter(function(e){return e.isCreate}).length&&o.filter(function(e){return e.isCreate}).length<=2&&i.filter(function(e){return e.isCreate&&"etc"!==e.name}).length>=1&&l().etcBox.classList.add("pg-widget--controlBox-container_active");t.querySelector(".pg-widget--controlBox-mainBtn__image").style.backgroundImage=x("main"),l().mainIcon.style.backgroundColor=h.settings.widget.background_color,l().mainIcon.style.border="1px solid "+h.settings.widget.border_color,t.querySelectorAll(".pg-widget--controlBox-btn__icon").forEach(function(e){e.parentElement.classList.contains("pg-widget--controlBox-btn_form")&&(e.style.backgroundImage=x("form","#3A3A3A")),e.parentElement.classList.contains("pg-widget--controlBox-btn_callback")&&(e.style.backgroundImage=x("callback","#3A3A3A")),e.parentElement.classList.contains("pg-widget--controlBox-btn_chat")&&(e.style.backgroundImage=x("chat","#3A3A3A")),e.parentElement.classList.contains("pg-widget--controlBox-btn_etc")&&(e.style.backgroundImage=x("etc","#3A3A3A")),e.parentElement.classList.contains("pg-widget--controlBox-btn_back")&&(e.style.backgroundImage=x("back","#3A3A3A")),e.parentElement.classList.contains("pg-widget--controlBox-btn_exit")&&(e.style.backgroundImage=x("smallCross","#3A3A3A")),e.parentElement.classList.contains("pg-widget--controlBox-btn_whatsApp")&&(e.style.backgroundImage=x("whatsApp","#3A3A3A")),e.parentElement.classList.contains("pg-widget--controlBox-btn_telegram")&&(e.style.backgroundImage=x("telegram","#3A3A3A")),e.parentElement.classList.contains("pg-widget--controlBox-btn_vk")&&(e.style.backgroundImage=x("vk","#3A3A3A")),e.parentElement.classList.contains("pg-widget--controlBox-btn_facebook")&&(e.style.backgroundImage=x("facebook","#3A3A3A"))}),e().exitBtn.addEventListener("click",function(){f(),setTimeout(function(){var e=t.createEvent("Event");e.initEvent("closeControl",!1,!0),l().controlBox.dispatchEvent(e)},300)}),l().mainIcon.addEventListener("click",function(){p();var e=t.querySelector(".pg-widget--controlBox-mainBtn__image");e.style.opacity="0",setTimeout(function(){l().controlBoxIsActive&&(e.style.backgroundSize="30px 30px",e.style.backgroundImage=x("main"),e.style.opacity="1")},200)}),e().fullControl.addEventListener("click",function(e){e.target.classList.contains("pg-widget--controlBox-fullControl")&&f()}),e().etcBtn.addEventListener("click",function(){m()}),e().backBtn.addEventListener("click",function(){d(a);var e=t.createEvent("Event");e.initEvent("closeControl",!1,!0),l().controlBox.dispatchEvent(e)}),d=function(n){var r=_objectSpread({},n);e().fullControlBlock.classList.remove("pg-widget--controlBox-fullControl__block_etc"),e().fullControlBlock.classList.remove("pg-widget--controlBox-fullControl__block_etcOnly"),e().fullControlBlock.classList.remove("pg-widget--controlBox-fullControl__block_mainMessenger"),e().fullControlBlock.classList.remove("pg-widget--controlBox-fullControl__block_main"),e().fullControlBlock.classList.remove("pg-widget--controlBox-fullControl__block_content"),e().fullControlBlock.classList.remove("pg-widget--controlBox-fullControl__block_contentOnly");var s=i.filter(function(e){return e.isCreate&&"etc"!==e.name}).length,c=o.filter(function(e){return e.isCreate}).length;switch(l().contentBox.style.height="auto",e().switchBox.style.borderTopWidth="0px",r.name){case"etc":e().fullControlBlock.classList.add("pg-widget--controlBox-fullControl__block_etc"),e().switchBox.style.borderTopWidth="1px";break;case"main":if(1===s&&0===c||0===s&&1===c)return s?(r=i.find(function(e){return e.isCreate}),e().fullControlBlock.classList.add("pg-widget--controlBox-fullControl__block_contentOnly")):(r=o.find(function(e){return e.isCreate}),e().fullControlBlock.classList.add("pg-widget--controlBox-fullControl__block_contentOnly")),d(r),!0;s?0!==c&&c<=2?e().fullControlBlock.classList.add("pg-widget--controlBox-fullControl__block_mainMessenger"):e().fullControlBlock.classList.add("pg-widget--controlBox-fullControl__block_main"):c&&(e().fullControlBlock.classList.add("pg-widget--controlBox-fullControl__block_etcOnly"),r=i.find(function(e){return"etc"===e.name})),e().switchBox.style.borderTopWidth="1px";break;case"telegram":var g=t.createEvent("Event");return g.initEvent("openTelegramMobile",!1,!0),l().controlBox.dispatchEvent(g),d(a),!0;case"whatsApp":var u=t.createEvent("Event");return u.initEvent("openWhatsAppMobile",!1,!0),l().controlBox.dispatchEvent(u),d(a),!0;case"chat":l().contentBox.style.height="100%",r.heightBox=t.documentElement.clientHeight-52+"px";default:1===s&&0===c||0===s&&1===c?e().fullControlBlock.classList.add("pg-widget--controlBox-fullControl__block_contentOnly"):e().fullControlBlock.classList.add("pg-widget--controlBox-fullControl__block_content")}var p=t.createEvent("Event");p.initEvent(r.actionName,!1,!0),l().controlBox.dispatchEvent(p),l().contentBoxContent.style.height=r.heightBox},c=function(n,o){var i=function(){},r="";switch(o){case"close":r="rgba(0, 0, 0, .0)",setTimeout(function(){l().controlBoxIsActive||(e().fullControl.style.display="none")},310),t.body.style.overflow="auto",i=function(){e().fullControlBlock.classList.remove("pg-widget--controlBox-fullControl__block_active"),e().fullControlBlock.style.marginBottom=-1*e().fullControlBlock.clientHeight+"px"};break;case"open":r="rgba(0, 0, 0, .8)",e().fullControl.style.display="flex",t.body.style.overflow="hidden",i=function(){e().fullControlBlock.classList.add("pg-widget--controlBox-fullControl__block_active"),e().fullControlBlock.style.marginBottom="0px"}}setTimeout(function(){e().fullControl.style.backgroundColor=r,i()},1)}}var p=function(){l().controlBox.classList.add("pg-widget--controlBox_active"),c("main","open"),s&&(s=!1,setTimeout(function(){d(i.find(function(e){return"chat"===e.name}))},1))},f=function(){_(),l().controlBox.classList.remove("pg-widget--controlBox_active"),c("main","close")},m=function(){l().etcBox.classList.add("pg-widget--controlBox-container_active"),c("etc","open")},_=function(){l().etcBox.classList.remove("pg-widget--controlBox-container_active"),c("etc","close")};return n.init=function(){if(null!==t.querySelector(".pg-widget--controlBox"))return!0;L("@import url(https://fonts.googleapis.com/css2?family=Fira+Sans:wght@100;200;300;400;500;600;700;800;900&display=swap);@import url(https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap);"),h.settings.widget.background_color||(h.settings.widget.background_color="#7774FF"),h.settings.widget.widget_text_color||(h.settings.widget.widget_text_color="#ffffff"),h.settings.widget.border_color||(h.settings.widget.border_color="#7774FF"),h.settings.widget.element_back_color||(h.settings.widget.element_back_color="#7774FF"),h.settings.widget.element_text_color||(h.settings.widget.element_text_color="#ffffff");var e=!!h.settings.chat&&"1"===h.settings.chat.chat_status,n="1"===h.settings.widget.callback_status,c="1"===h.settings.widget.form_status,f=!!h.settings.chat&&("1"===h.settings.chat.telegram_status&&h.settings.widget.telegram_status),m=!!h.settings.chat&&("1"===h.settings.chat.twillio_whatsapp_status&&h.settings.widget.twillio_whatsapp_status);if(i=[{name:"chat",isCreate:e,className:"pg-widget--controlBox-btn_chat",actionName:"openChat",heightBox:"600px"},{name:"callback",isCreate:n,className:"pg-widget--controlBox-btn_callback",actionName:"openCallback",heightBox:"232px"},{name:"form",isCreate:c,className:"pg-widget--controlBox-btn_form",actionName:"openForm",heightBox:"387px"},{name:"etc",isCreate:(o=[{name:"facebook",isCreate:!1,className:"pg-widget--controlBox-btn_facebook",actionName:"openFacebook",heightBox:"250px"},{name:"vk",isCreate:!1,className:"pg-widget--controlBox-btn_vk",actionName:"openVk",heightBox:"250px"},{name:"telegram",isCreate:f,className:"pg-widget--controlBox-btn_telegram",actionName:"openTelegram",heightBox:"387px"},{name:"whatsApp",isCreate:m,className:"pg-widget--controlBox-btn_whatsApp",actionName:"openWhatsApp",heightBox:"387px"}]).filter(function(e){return e.isCreate}).length,className:"pg-widget--controlBox-btn_etc",actionName:"openEtc",heightBox:50*o.filter(function(e){return e.isCreate}).length+"px"}],!(a={name:"main",isCreate:i.filter(function(e){return e.isCreate}).length,className:"pg-widget--controlBox-mainBtn",actionName:"clickMain",heightBox:54*i.filter(function(e){return e.isCreate}).length+(2===o.filter(function(e){return e.isCreate}).length?54:0)+"px"}).isCreate)return!1;if(r.mobile?u():g(),o.find(function(e){return"telegram"===e.name}).isCreate&&de().widgetTelegramInit(),o.find(function(e){return"whatsApp"===e.name}).isCreate&&ge().widgetWhatsAppInit(),i.find(function(e){return"callback"===e.name}).isCreate&&se().widgetCallbackInit(),i.find(function(e){return"form"===e.name}).isCreate&&ce().widgetFormInit(),i.find(function(e){return"chat"===e.name}).isCreate&&(l().mainIcon.onclick=function(){le().initWidgetChat(),l().mainIcon.onclick=null;var e=t.querySelector(".pg-widget--chat");i.find(function(e){return"chat"===e.name}).isCreate&&e&&e.addEventListener("newMessage",function(){var e;l().controlBoxIsActive||((e=r.mobile?t.querySelector(".pg-widget--controlBox-mainBtn__image"):t.querySelector(".pg-widget--controlBox-mainBtn .pg-widget--controlBox-icon__image")).style.opacity="0",setTimeout(function(){l().controlBoxIsActive||(e.style.backgroundSize="40px 40px",e.style.backgroundImage=x("chatNewMessage"),e.style.opacity="1")},200),s=!0)})}),[].concat(_toConsumableArray(o),_toConsumableArray(i),[a]).forEach(function(e){e.isCreate?t.querySelector("."+e.className).addEventListener("click",function(){d(e)}):t.querySelector("."+e.className).style.display="none"}),l().mainIcon.addEventListener("click",function(){if(l().controlBoxIsActive){var e=t.createEvent("Event");e.initEvent("openControl",!1,!0),l().controlBox.dispatchEvent(e)}else{var n=t.createEvent("Event");n.initEvent("resizeContent",!1,!0),l().controlBox.dispatchEvent(n)}}),null!=J("pg-widget-telegram-click")){var _=o.find(function(e){return"telegram"===e.name});_.isCreate&&(p(),d(a),d(_))}if(null!=J("pg-widget-whatsapp-click")){var b=o.find(function(e){return"whatsApp"===e.name});b.isCreate&&(p(),d(a),d(b))}if(null!=J("pg-widget-open")){var v=i.find(function(e){return"chat"===e.name});v.isCreate&&(p(),d(a),d(v),le().initWidgetChat(),t.querySelector(".pg-widget--controlBox-btn_chat").click())}L(h.settings.widget.widget_styles)},n}(),se=function(){var n=function(){return{box:t.querySelector(".pg-widget--callback-box"),title:t.querySelector(".pg-widget--callback-title"),off:t.querySelector(".pg-widget--callback-off"),success:t.querySelector(".pg-widget--callback-success"),form:t.querySelector(".pg-widget--callback-form"),loader:t.querySelector(".pg-widget--callback-loader"),btn:t.querySelector(".pg-widget--callback-form__button")}};return{widgetCallbackInit:function(){L(".pg-widget--callback-box{padding:13px;display:none;width:320px;height:232px;margin-top:auto;margin-left:auto}.pg-widget--callback-title{text-align:center;font-size:17px;line-height:1.2;display:none;margin-bottom:auto;margin-top:auto;position:relative;top:-10px}.pg-widget--callback-loader,.pg-widget--callback-off,.pg-widget--callback-success{display:none;text-align:center;margin:auto;font-size:14px}.pg-widget--callback-form{display:none;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:206px}.pg-widget--callback-form__input{resize:none;width:100%;padding:7px;border:1px solid gray;border-radius:4px;margin-bottom:10px;font-size:18px;line-height:1}.pg-widget--callback-form__input_error::-webkit-input-placeholder{color:#ec2828}.pg-widget--callback-form__input_error{border-color:#ec2828}.pg-widget--callback-form__button{width:100%;font-size:15px;padding:5px;border:0;border-radius:4px;margin-top:5px;cursor:pointer;background-color:#7774ff;color:#fff;height:45px}.pg-widget--callback-form__agreement{font-size:10px;line-height:1.2;color:gray;font-style:italic;margin-top:5px}.pg-widget--callback-form__agreement a{color:gray}"),E("div",t.querySelector(".pg-widget--controlBox-content"),'<div class="pg-widget--callback-off">\n    Сейчас мы не работаем, но обязательно свяжемся с вами в рабочее время\n</div>\n<div class="pg-widget--callback-success">\n    Ваша заявка отправлена. Наш менеджер свяжется с Вами через несколько секунд.\n</div>\n<div class="pg-widget--callback-loader">\n    Загрузка...\n</div>\n<form class="pg-widget--callback-form">\n    <div class="pg-widget--callback-title">\n        Укажите номер телефона, и мы сразу вам позвоним\n    </div>\n    <input autocomplete="off" class="pg-widget--callback-form__input" type="tel" name="phone" placeholder="Телефон">\n    <button class="pg-widget--callback-form__button" type="submit">Отправить</button>\n    <div class="pg-widget--callback-form__agreement">Нажимая кнопку отправить, вы соглашаетесь с <a class="pg-widget__policy-link">политикой конфиденциальности</a>.</div>\n</form>',"","pg-widget--callback-box"),n().btn.style.backgroundColor=h.settings.widget.element_back_color,n().btn.style.color=h.settings.widget.element_text_color,h.settings.widget.widget_offline&&h.settings.widget.widget_offline.trim().length>0&&(n().off.textContent=h.settings.widget.widget_offline),h.settings.widget.widget_callback_name&&h.settings.widget.widget_callback_name.trim().length>0&&(n().title.textContent=h.settings.widget.widget_callback_name),h.settings.widget.widget_success_callback&&h.settings.widget.widget_success_callback.trim().length>0&&(n().success.textContent=h.settings.widget.widget_success_callback),t.querySelector(".pg-widget--controlBox").addEventListener("openCallback",function(){n().box.style.display="flex"}),t.querySelector(".pg-widget--controlBox").addEventListener("closeControl",function(){n().box.style.display="none"}),W(h.settings.callback)||"0"===h.settings.callback.office_hours_status?(n().form.style.display="flex",n().title.style.display="block",n().form.phone.addEventListener("input",function(e){N(e.target)}),n().form.addEventListener("submit",function(o){o.preventDefault();var i=n().form.phone,r="";return i.value.trim().length<7?(q(i),!1):(N(i),r=n().form.phone.value.replace(/[()+-\s]/g,"").replace(/^8/g,"7"),/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,11}$/.test(r)?(n().form.style.display="none",n().loader.style.display="block",$(),void w.request({url:y("js-client/callback-request",{apiKey:h.apiKey,token:h.settings.session.token}),method:"POST",data:{sessionId:h.settings.session.id,callbackNumber:r,pageUrl:e.location.href,pageTitle:t.title?t.title:""}}).done(function(e){e=JSON.parse(e),n().loader.style.display="none",e.success?n().success.style.display="block":(n().off.innerHTML="Упс, что-то пошло не так",n().off.style.display="block")})):(q(i),!1))})):n().off.style.display="block"}}},le=function(){var n=function(){return{box:t.querySelector(".pg-widget--chat"),messagesBox:t.querySelector(".pg-widget--chat-messagesBox"),messagesBoxContainer:t.querySelector(".pg-widget--chat-messagesBox__container"),boxIsActive:"flex"===t.querySelector(".pg-widget--chat").style.display,header:t.querySelector(".pg-widget--chat-header"),resizeBox:t.querySelector(".pg-widget--chat-header__resizeBox"),enterBox:t.querySelector(".pg-widget--chat-enterBox"),input:t.querySelector(".pg-widget--chat-enterBox__textarea"),inputBox:t.querySelector(".pg-widget--chat-enterBox__textareaBox"),helpInput:t.querySelector(".pg-widget--chat-enterBox__textareaHelpDiv"),btnSend:t.querySelector(".pg-widget--chat-enterBox__btnSend"),fileAttachment:t.querySelector(".pg-widget--chat-enterBox__fileAttachment")}},o=!1;function i(){if(o){o=!1;var e=new FormData;e.append("action","open"),k(e)}}function s(){var e=t.querySelector(".pg-widget--chat-filesAttach");e.innerHTML="",h.chatData.filesAttach.forEach(function(n){E("div",e,'<span class="pg-widget--chat-filesAttach__itemName">'.concat(n.name,'</span><span data-name="').concat(n.name,'" class="pg-widget--chat-filesAttach__itemDeleteBox"><svg class="pg-widget--chat-filesAttach__itemCross" viewBox="0 0 352 512"><path data-v-5037c227="" fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg></span>'),"","pg-widget--chat-filesAttach__item"),t.querySelector('span[data-name="'.concat(n.name,'"]')).addEventListener("click",function(e){h.chatData.filesAttach.splice(h.chatData.filesAttach.findIndex(function(t){return t.name===e.currentTarget.dataset.name}),1),s()})}),P(n().messagesBox)}function l(){t.querySelectorAll(".pg-widget--chat-messagesBox__container .pg-widget__message-text img").forEach(function(e){e.addEventListener("load",function(){P(n().messagesBox)}),e.addEventListener("click",function(e){X(e.currentTarget)})})}function c(i){if(!n().boxIsActive||!a&&!r.mobile){var s=t.createEvent("Event");if(s.initEvent("newMessage",!1,!0),n().box.dispatchEvent(s),i){var l=new Audio;l.src="https://zvukipro.com/uploads/files/2018-12/1543852602_plyus_org-z_uk-u_edomleniya-4.mp3",l.autoplay=!0}if(D("Новое сообщение!",!0),e.onfocus=function(){n().boxIsActive&&D("Новое сообщение!",!1)},h.chatData.isLabelNewMessagesViewed){h.chatData.isLabelNewMessagesViewed=!1;var c=t.querySelector(".pg-widget--chat-messagesBox__separatorNewMessages");c&&c.remove();var d=t.createElement("li");d.classList.add("pg-widget--chat-messagesBox__message"),d.classList.add("pg-widget--chat-messagesBox__separatorNewMessages"),d.innerHTML+="<div>Новые сообщения</div>",n().messagesBoxContainer.appendChild(d)}n().box.addEventListener("viewed",function(){h.chatData.isLabelNewMessagesViewed=!0}),o=!0}}function d(){E("li",n().messagesBoxContainer,'<img class="pg-widget--chat-messagesBox__triangleLeft" src="'.concat(v("messageTriangleLeft"),"\"/><span class='pg-widget--chat-messagesBox__messageBox'>Печатает...</span>"),"pg-chat-isWriting","pg-widget--chat-messagesBox__message pg-widget--chat-messagesBox__manager"),P(n().messagesBox),p(0)}function u(){var e=t.querySelector("#pg-chat-isWriting");e&&(e.remove(),clearTimeout(h.chatData.timeOutIsWriting),_toConsumableArray(h.chatData.messages).pop()&&0===_toConsumableArray(h.chatData.messages).pop().type&&p(1))}function p(e){t.querySelector(".pg-widget--chat-messagesBox__indicatorRead").innerHTML="Прочитано",t.querySelector(".pg-widget--chat-messagesBox__indicatorRead").classList.remove("pg-widget--chat-messagesBox__indicatorRead_error"),t.querySelector(".pg-widget--chat-messagesBox__indicatorRead").style.display=e?"block":"none"}function f(e){var o=t.createElement("li");o.classList.add("pg-widget--chat-messagesBox__message"),o.classList.add("pg-widget--chat-messagesBox__separatorMessages");var i=e.getDate(),r=e.getMonth()+1,a=e.getFullYear(),s=(new Date).getDate(),l=(new Date).getMonth()+1,c=(new Date).getFullYear();r===l&&a===c?i===s?o.innerHTML+="<div>Сегодня</div>":i+1===s&&(o.innerHTML+="<div>Вчера</div>"):o.innerHTML+="<div>".concat(i<10?"0"+i:i,".").concat(r<10?"0"+r:r,".").concat(a,"</div>"),n().messagesBoxContainer.appendChild(o)}function m(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];u(),p(0);var o=t.createElement("li"),i=new Date(1e3*+e.date);h.chatData.lastDate?(h.chatData.lastDate.getDate()<i.getDate()||h.chatData.lastDate.getFullYear()<i.getFullYear()||h.chatData.lastDate.getMonth()<i.getMonth())&&f(i):f(i),h.chatData.lastDate=i;var r=i.getHours(),a=i.getMinutes(),s=(r<10?"0"+r:r)+":"+(a<10?"0"+a:a);o.classList.add("pg-widget--chat-messagesBox__message");var l="";switch(void 0!==e.meta&&0!==e.meta.length&&void 0!==e.meta.files&&e.meta.files.forEach(function(e){l+='<div class="pg-widget--chat-messagesBox__messageBox-file"><a class="pg-widget--chat-messagesBox__messageBox-file-tegA" href="'.concat(null!==e.hash?"https://cloud.primegate.io/file/"+e.hash:"",'"><svg class="pg-widget--chat-messagesBox__messageBox-file-tegA-svg" focusable="false" data-prefix="fa" data-icon="file" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"></path></svg><div class="pg-widget--chat-messagesBox__messageBox-file-tegA-text">').concat(e.name,"</div></a></div>")}),e.type){case 1:e.manager_id&&h.chatData.managers.find(function(t){return t.id===e.manager_id}),o.classList.add("pg-widget--chat-messagesBox__manager"),o.innerHTML='\n<img class="pg-widget--chat-messagesBox__triangleLeft" src="'.concat(v("messageTriangleLeft"),'"/>\n<span class="pg-widget--chat-messagesBox__messageBox">\n<span class="pg-widget__message-text">').concat(e.text,"</span>").concat(l,'</span><div class="pg-widget--chat-messagesBox__messageBox-time"> ').concat(s," </div>");break;case 0:o.classList.add("pg-widget--chat-messagesBox__client");switch(e.status){case 0:"load";break;case 1:"delivered";break;case 2:"read"}o.innerHTML='\n                <img class="pg-widget--chat-messagesBox__triangleRight" src="'.concat(v("messageTriangleRight"),'"/>\n                <span class="pg-widget--chat-messagesBox__messageBox"><span class="pg-widget__message-text">').concat(e.text,"</span>").concat(l,'</span><div class="pg-widget--chat-messagesBox__messageBox-time">').concat(s,"</div>");break;case 3:if(e.meta&&e.meta.assigned&&"assignChat"===e.meta.type){var c=e.meta.assigned;o.classList.add("pg-widget--chat-messagesBox__separatorMessages"),o.innerHTML+="<div>Вам назначен менеджер ".concat(c.firstname," ").concat(c.lastname,"</div>"),t.querySelector(".pg-widget--chat-header__managerName").textContent=c.firstname+" "+c.lastname}}n().messagesBoxContainer.appendChild(o),null!=t.querySelector("#pg-chat-isWriting")&&(u(),d()),P(n().messagesBox)}function _(){if(""===n().input.value&&0===h.chatData.filesAttach.length)return!0;n().input.value=U(n().input.value);var e=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5),o=[];0!==h.chatData.filesAttach.length&&h.chatData.filesAttach.forEach(function(e){var t=e.name,i=e.imageBase;void 0!==i?n().input.value+='<img src="'.concat(i,'" alt="Image">'):o.push({hash:null,name:t})});var i={date:+new Date/1e3,text:n().input.value,mid:e,status:-1},r={date:+new Date/1e3,text:n().input.value,meta:{files:o},mid:e,status:0,type:0};h.chatData.messages.push(r),m(r),l();var a=new FormData;a.append("date",i.date+""),a.append("text",i.text),a.append("action","message"),a.append("mid",i.mid),n().input.value="",k(a,_toConsumableArray(h.chatData.filesAttach)).onreadystatechange=function(){if(4===this.readyState)if(200===this.status){var e=JSON.parse(this.responseText);h.chatData.chatId=e.data.chat}else n=1,t.querySelector(".pg-widget--chat-messagesBox__indicatorRead").innerHTML="Не отправлено",t.querySelector(".pg-widget--chat-messagesBox__indicatorRead").classList.add("pg-widget--chat-messagesBox__indicatorRead_error"),t.querySelector(".pg-widget--chat-messagesBox__indicatorRead").style.display=n?"block":"none";var n},h.chatData.filesAttach.length=0,s()}return{initWidgetChat:function(){L(".pg-widget--fullScreenImageMonitor{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);z-index:10000000000;opacity:0;-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);-webkit-transition:opacity .5s;-o-transition:opacity .5s;transition:opacity .5s}.pg-widget--fullScreenImageMonitor__boxImage{width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.pg-widget--fullScreenImageMonitor__img{max-width:90%;max-height:90vh}.pg-widget--fullScreenImageMonitor.pg-widget--fullScreenImageMonitor_open{opacity:1;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}.pg-widget--fullScreenImageMonitor__closeBox{position:absolute;right:0;z-index:1000;width:40px;height:40px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer}.pg-widget--fullScreenImageMonitor__closeBox:hover{background-color:#676a6c}.pg-widget--fullScreenImageMonitor__btn{position:absolute;width:30px;height:24px;opacity:1}.pg-widget--fullScreenImageMonitor__btn:after,.pg-widget--fullScreenImageMonitor__btn:before{position:absolute;left:15px;content:' ';height:23px;width:2px;background-color:#333}.pg-widget--fullScreenImageMonitor__btn:before{-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.pg-widget--fullScreenImageMonitor__btn:after{-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg)}.pg-widget--fullScreenImageMonitor__closeBox:hover .pg-widget--fullScreenImageMonitor__btn:after,.pg-widget--fullScreenImageMonitor__closeBox:hover .pg-widget--fullScreenImageMonitor__btn:before{background-color:#e7eaec}.pg-widget--fullScreenImageMonitor__downloadBtn{position:absolute;left:15px;bottom:15px;font-size:25px;color:#e7eaec!important;cursor:pointer;-webkit-transition:.1s;-o-transition:.1s;transition:.1s;opacity:.6;width:25px}.pg-widget--fullScreenImageMonitor__downloadBtn:hover{opacity:1}.pg-widget--chat{min-height:0;height:100%;display:none;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.pg-widget--chat a{text-decoration:none;cursor:pointer;color:#919191}.pg-widget--chat a:visited{color:#919191}.pg-widget--chat *{font-family:'Roboto',sans-serif;font-style:normal;font-weight:400;line-height:1.4}.pg-widget--chat-header{width:100%;padding:10px 17px;height:36px;background-color:#fff;z-index:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;font-size:12px;color:#555}.pg-widget--chat-header:hover{cursor:move;cursor:-webkit-grab;cursor:grab}.pg-widget--chat-header_grabbing:hover{cursor:grabbing;cursor:-webkit-grabbing}.pg-widget--chat-header__resizeBox{position:absolute;cursor:nw-resize;padding:6px 5px 5px;top:0;left:0;width:20px;height:20px;background-repeat:no-repeat;background-size:inherit;background-position:center}.pg-widget--chat-header__managerName{border-bottom:1px solid #cacaca;height:18px;padding:0 2px}.pg-widget--chat-header__statusBox{display:-webkit-box;display:-ms-flexbox;display:flex}.pg-widget--chat-header__statusIcon{background:#00a861;border-radius:20px;width:7px;height:7px;margin-right:5px;margin-top:4px}.pg-widget--chat-messagesBox{margin:0 6px 5px;min-height:0;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow-y:auto}.pg-widget--chat-messagesBox::-webkit-scrollbar{width:0}.pg-widget--chat-messagesBox__container{padding:0;margin:auto 0 0;display:none}.pg-widget--chat-messagesBox__loading{margin:auto}.pg-widget--chat-messagesBox__separatorMessages div{margin:auto;font-size:11px;color:#9c9c9c}.pg-widget--chat-messagesBox__separatorNewMessages div{border:1px solid #d3d3d3;border-radius:50px;padding:3px 10px;margin:auto;font-size:11px;color:#9c9c9c}.pg-widget--chat-messagesBox__message{list-style-type:none;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;word-wrap:break-word;margin-bottom:18px}.pg-widget--chat-messagesBox__message:after,.pg-widget--chat-messagesBox__message:before{display:none!important}.pg-widget--chat-messagesBox__message .pg-widget__message-text figure{width:100%!important}.pg-widget--chat-messagesBox__message .pg-widget__message-text img{max-width:100%!important;cursor:pointer;margin-bottom:5px;max-height:300px}.pg-widget--chat-messagesBox__message .pg-widget__message-text p{margin:0;font-size:14px}.pg-widget--chat-messagesBox__message .pg-widget--chat-messagesBox__messageBox-time{margin-right:5px;margin-left:5px;height:-webkit-min-content;height:-moz-min-content;height:min-content;color:#9c9c9c;font-size:11px}.pg-widget--chat-messagesBox__messageBox{max-width:74%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:7px 14px 7px 10px;border:1px solid #c4c4c4;border-radius:3px;font-size:14px;color:gray}.pg-widget--chat-messagesBox__messageBox-file{margin-left:0;margin-bottom:5px}.pg-widget--chat-messagesBox__messageBox-file-tegA{display:-webkit-box;display:-ms-flexbox;display:flex}.pg-widget--chat-messagesBox__messageBox-file-tegA-text{font-size:12px;color:#919191;margin-left:5px}.pg-widget--chat-messagesBox__messageBox-file-tegA-svg{width:12px}.pg-widget--chat-messagesBox__triangleLeft{position:relative;left:2px;z-index:1}.pg-widget--chat-messagesBox__triangleRight{position:relative;right:2px;z-index:1;-webkit-transform:scale(-1,1);-ms-transform:scale(-1,1);transform:scale(-1,1)}.pg-widget--chat-messagesBox__manager__messageBox{float:left;background:#fff;color:#686868}.pg-widget--chat-messagesBox__client .pg-widget--chat-messagesBox__messageBox{float:right;background:#7774ff;color:#fff;border:0}.pg-widget--chat-messagesBox__client .pg-widget--chat-messagesBox__messageBox a,.pg-widget--chat-messagesBox__client .pg-widget--chat-messagesBox__messageBox a:visited{color:#006400}.pg-widget--chat-messagesBox__client{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.pg-widget--chat-messagesBox__indicatorRead{width:100%;color:#a9a9a9;font-size:11px;text-align:right;padding:0 11px;height:0;position:relative;top:-17px;display:none}.pg-widget--chat-messagesBox__indicatorRead_error{color:red}.pg-widget--chat-messagesBox__footer{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;font-size:9px;margin:2px 12px 0}.pg-widget--chat-messagesBox__pgLinkText,.pg-widget--chat-messagesBox__policyLink{font-size:9px;color:#bfbfbf!important}.pg-widget--chat-messagesBox__pgLink{color:#787878!important}.pg-widget--chat-filesAttach{margin:0 3px 0 13px;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;max-height:200px}.pg-widget--chat-filesAttach::-webkit-scrollbar{width:4px}.pg-widget--chat-filesAttach::-webkit-scrollbar-thumb{border-radius:10px;background:0 0;opacity:0}.pg-widget--chat-filesAttach:hover::-webkit-scrollbar-thumb{background:#c4c4c4}.pg-widget--chat-filesAttach__item{display:-webkit-box;display:-ms-flexbox;display:flex;padding:3px 5px;margin-top:0;margin-right:6px;margin-bottom:5px;border:1px solid #e7eaec;border-radius:3px;width:-webkit-min-content;width:-moz-min-content;width:min-content}.pg-widget--chat-filesAttach__itemName{color:#676a6c;white-space:nowrap;font-size:13px;max-width:80px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.pg-widget--chat-filesAttach__itemCross{width:8px;font-size:12px;margin-left:7px;margin-right:4px;cursor:pointer;position:relative;top:1px;color:#789}.pg-widget--chat-filesAttach__itemDeleteBox{line-height:1.1}.pg-widget--chat-enterBox{margin:0 13px 13px;background:#fff;border:1px solid #707070;border-radius:3px;padding:12px 11px 8px;display:-webkit-box;display:-ms-flexbox;display:flex}.pg-widget--chat-enterBox__textareaBox{width:100%}.pg-widget--chat-enterBox__textarea{resize:none;border:0;width:100%;min-height:19px;height:0;padding:0;outline:0!important;font-size:14px;line-height:1.4;color:#959595;max-height:200px;overflow:auto}.pg-widget--chat-enterBox__textarea::-webkit-scrollbar{width:0}.pg-widget--chat-enterBox__textareaHelpDiv{height:auto;display:none;white-space:pre-wrap;word-wrap:break-word;overflow:hidden}.pg-widget--chat-enterBox__buttonsBox{display:-webkit-box;display:-ms-flexbox;display:flex;width:-webkit-min-content;width:-moz-min-content;width:min-content;position:relative;bottom:4px}.pg-widget--chat-enterBox__buttonsBox span{height:100%;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.pg-widget--chat-enterBox__buttonsBox img{max-width:none}.pg-widget--chat-enterBox__fileAttachment{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.pg-widget--chat-enterBox__btnAttach{margin:0 0 -1px}.pg-widget--chat-enterBox__btnAttach span{margin-right:10px}"),E("div",t.querySelector(".pg-widget--controlBox-content"),'<div class="pg-widget--chat-header">\n    <div class="pg-widget--chat-header__resizeBox"></div>\n    <div class="pg-widget--chat-header__managerName">By PrimeGate</div>\n    <div class="pg-widget--chat-header__statusBox"><div class="pg-widget--chat-header__statusIcon"></div><span class="pg-widget--chat-header__statusText">Online</span></div>\n</div>\n<div class="pg-widget--chat-messagesBox">\n    <div class="pg-widget--chat-messagesBox__loading">Загрузка...</div>\n    <ul class="pg-widget--chat-messagesBox__container"></ul>\n    <div class="pg-widget--chat-messagesBox__indicatorRead">Прочитано</div>\n    <div class="pg-widget--chat-messagesBox__footer">\n        <a class="pg-widget__policy-link pg-widget--chat-messagesBox__policyLink">Политика конфиденциальности</a>\n        <span class="pg-widget--chat-messagesBox__pgLinkText">Работает на <a class="pg-widget--chat-messagesBox__pgLink" href="https://primegate.io">PrimeGate.io</a></span>\n    </div>\n</div>\n<div class="pg-widget--chat-filesAttach">\n    \x3c!--<div class="pg-widget--chat-enterBox__filesAttach-item">\n      <span class="pg-widget--chat-enterBox__filesAttach-item-name">file.jpg</span>\n      <svg class="pg-widget--chat-enterBox__filesAttach-item-cross" data-v-5037c227="" aria-hidden="true" focusable="false" data-prefix="fa" data-icon="times" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path data-v-5037c227="" fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z" class=""></path></svg>\n    </div>--\x3e\n</div>\n<div class="pg-widget--chat-enterBox">\n\x3c!--   <div class="pg-widget&#45;&#45;chat-enterBox__textareaBox">--\x3e\n\x3c!--   </div>--\x3e\n    <div class="pg-widget--chat-enterBox__textareaBox">\n        <textarea class="pg-widget--chat-enterBox__textarea" placeholder="Введите свое сообщение"></textarea>\n        <div class="pg-widget--chat-enterBox__textarea pg-widget--chat-enterBox__textareaHelpDiv"></div>\n    </div>\n\n   <div class="pg-widget--chat-enterBox__buttonsBox">\n       <input type="file" name="fileAttachment" id="pg-widget--chat-enterBox__fileAttachment" class="pg-widget--chat-enterBox__fileAttachment" />\n       <label for="pg-widget--chat-enterBox__fileAttachment" class="pg-widget--chat-enterBox__btnAttach" id="pg-widget--chat-enterBox__btnAttach">\n        <span>\n            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="25" viewBox="0 0 17 22" fill="none">\n            <rect x="10.7589" y="2.27023" width="5.03082" height="10.4444" rx="1.5" transform="rotate(44 10.7589 2.27023)" stroke="#707070"/>\n            <rect x="9.47084" y="8.39523" width="5.03082" height="10.4444" rx="1.5" transform="rotate(44 9.47084 8.39523)" stroke="#707070"/>\n            </svg>\n        </span>\n       </label>\n       <span class="pg-widget--chat-enterBox__btnSend">\n\n    </span>\n   </div>\n</div>\n',"","pg-widget--chat"),E("script",t.body,'!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Centrifuge",[],t):"object"==typeof exports?exports.Centrifuge=t():e.Centrifuge=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var s=n[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=31)}({10:function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Centrifuge=void 0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(6),h=r(c),l=n(11),_=r(l),f=n(12),d=n(7);t.Centrifuge=function(t){function n(e,t){s(this,n);var r=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return r._url=e,r._websocket=null,r._sockjs=null,r._isSockjs=!1,r._binary=!1,r._methodType=null,r._pushType=null,r._encoder=null,r._decoder=null,r._status="disconnected",r._reconnect=!0,r._reconnecting=!1,r._transport=null,r._transportName=null,r._transportClosed=!0,r._messageId=0,r._clientID=null,r._refreshRequired=!1,r._subs={},r._lastSeq={},r._lastGen={},r._lastEpoch={},r._messages=[],r._isBatching=!1,r._isSubscribeBatching=!1,r._privateChannels={},r._numRefreshFailed=0,r._refreshTimeout=null,r._pingTimeout=null,r._pongTimeout=null,r._subRefreshTimeouts={},r._retries=0,r._callbacks={},r._latency=null,r._latencyStart=null,r._connectData=null,r._token=null,r._xhrID=0,r._xhrs={},r._config={debug:!1,websocket:null,sockjs:null,promise:null,minRetry:1e3,maxRetry:2e4,timeout:5e3,ping:!0,pingInterval:25e3,pongWaitTimeout:5e3,privateChannelPrefix:"$",onTransportClose:null,sockjsServer:null,sockjsTransports:["websocket","xdr-streaming","xhr-streaming","eventsource","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"],refreshEndpoint:"/centrifuge/refresh",refreshHeaders:{},refreshParams:{},refreshData:{},refreshAttempts:null,refreshInterval:1e3,onRefreshFailed:null,onRefresh:null,subscribeEndpoint:"/centrifuge/subscribe",subscribeHeaders:{},subscribeParams:{},subRefreshInterval:1e3,onPrivateSubscribe:null},r._configure(t),r}return o(n,t),a(n,[{key:"setToken",value:function(e){this._token=e}},{key:"setConnectData",value:function(e){this._connectData=e}},{key:"setRefreshHeaders",value:function(e){this._config.refreshHeaders=e}},{key:"setRefreshParams",value:function(e){this._config.refreshParams=e}},{key:"setRefreshData",value:function(e){this._config.refreshData=e}},{key:"setSubscribeHeaders",value:function(e){this._config.subscribeHeaders=e}},{key:"setSubscribeParams",value:function(e){this._config.subscribeParams=e}},{key:"_ajax",value:function(t,n,r,s,i){var o=this,u="";this._debug("sending AJAX request to",t,"with data",JSON.stringify(s));var a=e.XMLHttpRequest?new e.XMLHttpRequest:new e.ActiveXObject("Microsoft.XMLHTTP");for(var c in n)n.hasOwnProperty(c)&&(u.length>0&&(u+="&"),u+=encodeURIComponent(c)+"="+encodeURIComponent(n[c]));u.length>0&&(u="?"+u),a.open("POST",t+u,!0),"withCredentials"in a&&(a.withCredentials=!0),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-Type","application/json");for(var h in r)r.hasOwnProperty(h)&&a.setRequestHeader(h,r[h]);return a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status){var e=void 0,t=!1;try{e=JSON.parse(a.responseText),t=!0}catch(e){i({error:"Invalid JSON. Data was: "+a.responseText,status:200,data:null})}t&&i({data:e,status:200})}else o._log("wrong status code in AJAX response",a.status),i({status:a.status,data:null})},setTimeout(function(){return a.send(JSON.stringify(s))},20),a}},{key:"_log",value:function(){(0,d.log)("info",arguments)}},{key:"_debug",value:function(){!0===this._config.debug&&(0,d.log)("debug",arguments)}},{key:"_websocketSupported",value:function(){return null!==this._config.websocket||!("function"!=typeof WebSocket&&"object"!==("undefined"==typeof WebSocket?"undefined":u(WebSocket)))}},{key:"_setFormat",value:function(e){if(!this._formatOverride(e)){if("protobuf"===e)throw new Error("not implemented by JSON only Centrifuge client – use client with Protobuf");this._binary=!1,this._methodType=f.JsonMethodType,this._pushType=f.JsonPushType,this._encoder=new f.JsonEncoder,this._decoder=new f.JsonDecoder}}},{key:"_formatOverride",value:function(e){return!1}},{key:"_configure",value:function(t){if(!("Promise"in e))throw new Error("Promise polyfill required");if((0,d.extend)(this._config,t||{}),this._debug("centrifuge config",this._config),!this._url)throw new Error("url required");if((0,d.startsWith)(this._url,"ws")&&this._url.indexOf("format=protobuf")>-1?this._setFormat("protobuf"):this._setFormat("json"),(0,d.startsWith)(this._url,"http"))if(this._debug("client will try to connect to SockJS endpoint"),null!==this._config.sockjs)this._debug("SockJS explicitly provided in options"),this._sockjs=this._config.sockjs;else{if(void 0===e.SockJS)throw new Error("SockJS not found, use ws:// in url or include SockJS");this._debug("use globally defined SockJS"),this._sockjs=e.SockJS}else this._debug("client will connect to websocket endpoint")}},{key:"_setStatus",value:function(e){this._status!==e&&(this._debug("Status",this._status,"->",e),this._status=e)}},{key:"_isDisconnected",value:function(){return"disconnected"===this._status}},{key:"_isConnecting",value:function(){return"connecting"===this._status}},{key:"_isConnected",value:function(){return"connected"===this._status}},{key:"_nextMessageId",value:function(){return++this._messageId}},{key:"_resetRetry",value:function(){this._debug("reset retries count to 0"),this._retries=0}},{key:"_getRetryInterval",value:function(){var e=(0,d.backoff)(this._retries,this._config.minRetry,this._config.maxRetry);return this._retries+=1,e}},{key:"_abortInflightXHRs",value:function(){for(var e in this._xhrs){try{this._xhrs[e].abort()}catch(e){this._debug("error aborting xhr",e)}delete this._xhrs[e]}}},{key:"_clearConnectedState",value:function(e){this._clientID=null,this._stopPing();for(var t in this._callbacks)if(this._callbacks.hasOwnProperty(t)){var n=this._callbacks[t];clearTimeout(n.timeout);var r=n.errback;if(!r)continue;r({error:this._createErrorObject("disconnected")})}this._callbacks={};for(var s in this._subs)if(this._subs.hasOwnProperty(s)){var i=this._subs[s];e?(i._isSuccess()&&(i._triggerUnsubscribe(),i._recover=!0),i._shouldResubscribe()&&i._setSubscribing()):i._setUnsubscribed()}this._abortInflightXHRs(),null!==this._refreshTimeout&&(clearTimeout(this._refreshTimeout),this._refreshTimeout=null);for(var o in this._subRefreshTimeouts)this._subRefreshTimeouts.hasOwnProperty(o)&&this._subRefreshTimeouts[o]&&this._clearSubRefreshTimeout(o);this._subRefreshTimeouts={},this._reconnect||(this._subs={})}},{key:"_isTransportOpen",value:function(){return this._isSockjs?this._transport&&this._transport.transport&&this._transport.transport.readyState===this._transport.transport.OPEN:this._transport&&this._transport.readyState===this._transport.OPEN}},{key:"_transportSend",value:function(e){if(!e.length)return!0;if(!this._isTransportOpen()){for(var t in e){var n=t.id;if(n in this._callbacks){var r=this._callbacks[n];clearTimeout(this._callbacks[n].timeout),delete this._callbacks[n];(0,r.errback)({error:this._createErrorObject("connection closed",0)})}}return!1}return this._transport.send(this._encoder.encodeCommands(e)),!0}},{key:"_setupTransport",value:function(){var e=this;if(this._isSockjs=!1,null!==this._sockjs){var t={transports:this._config.sockjsTransports};null!==this._config.sockjsServer&&(t.server=this._config.sockjsServer),this._isSockjs=!0,this._transport=new this._sockjs(this._url,null,t)}else{if(!this._websocketSupported())return void this._debug("No Websocket support and no SockJS configured, can not connect");null!==this._config.websocket?this._websocket=this._config.websocket:this._websocket=WebSocket,this._transport=new this._websocket(this._url),!0===this._binary&&(this._transport.binaryType="arraybuffer")}this._transport.onopen=function(){e._transportClosed=!1,e._isSockjs?(e._transportName="sockjs-"+e._transport.transport,e._transport.onheartbeat=function(){return e._restartPing()}):e._transportName="websocket";var t={};(e._token||e._connectData)&&(t.params={}),e._token&&(t.params.token=e._token),e._connectData&&(t.params.data=e._connectData),e._latencyStart=new Date,e._call(t).then(function(t){e._connectResponse(e._decoder.decodeCommandResult(e._methodType.CONNECT,t.result)),t.next&&t.next()},function(t){109===t.error.code&&(e._refreshRequired=!0),e._disconnect("connect error",!0),t.next&&t.next()})},this._transport.onerror=function(t){e._debug("transport level error",t)},this._transport.onclose=function(t){e._transportClosed=!0;var n="connection closed",r=!0;if(t&&"reason"in t&&t.reason)try{var s=JSON.parse(t.reason);e._debug("reason is an advice object",s),n=s.reason,r=s.reconnect}catch(r){n=t.reason,e._debug("reason is a plain string",n)}if(null!==e._config.onTransportClose&&e._config.onTransportClose({event:t,reason:n,reconnect:r}),e._disconnect(n,r),!0===e._reconnect){e._reconnecting=!0;var i=e._getRetryInterval();e._debug("reconnect after "+i+" milliseconds"),setTimeout(function(){!0===e._reconnect&&(e._refreshRequired?e._refresh():e._connect())},i)}},this._transport.onmessage=function(t){e._dataReceived(t.data)}}},{key:"rpc",value:function(e){var t=this,n={method:this._methodType.RPC,params:{data:e}};return this.isConnected()?this._call(n).then(function(e){return e.next&&e.next(),t._decoder.decodeCommandResult(t._methodType.RPC,e.result)},function(e){return e.next&&e.next(),Promise.reject(e.error)}):Promise.reject(this._createErrorObject("connection closed",0))}},{key:"send",value:function(e){var t={method:this._methodType.SEND,params:{data:e}};return this.isConnected()&&this._transportSend([t])?Promise.resolve({}):Promise.reject(this._createErrorObject("connection closed",0))}},{key:"publish",value:function(e,t){var n={method:this._methodType.PUBLISH,params:{channel:e,data:t}};return this.isConnected()?this._call(n).then(function(e){return e.next&&e.next(),{}}):Promise.reject(this._createErrorObject("connection closed",0))}},{key:"_dataReceived",value:function(e){var t=this,n=this._decoder.decodeReplies(e),r=Promise.resolve();for(var s in n)!function(e){n.hasOwnProperty(e)&&(r=r.then(function(){return t._dispatchReply(n[e])}))}(s);this._restartPing()}},{key:"_call",value:function(e){var t=this;return new Promise(function(n,r){var s=t._addMessage(e);t._registerCall(s,n,r)})}},{key:"_connect",value:function(){if(this.isConnected())return void this._debug("connect called when already connected");"connecting"!==this._status&&(this._debug("start connecting"),this._setStatus("connecting"),this._clientID=null,this._reconnect=!0,this._setupTransport())}},{key:"_disconnect",value:function(e,t){var n=t||!1;if(!1===n&&(this._reconnect=!1),this._isDisconnected())return void(n||this._clearConnectedState(n));this._clearConnectedState(n),this._debug("disconnected:",e,t),this._setStatus("disconnected"),this._refreshTimeout&&(clearTimeout(this._refreshTimeout),this._refreshTimeout=null),!1===this._reconnecting&&this.emit("disconnect",{reason:e,reconnect:n}),this._transportClosed||this._transport.close()}},{key:"_refreshFailed",value:function(){this._numRefreshFailed=0,this._isDisconnected()||this._disconnect("refresh failed",!1),null!==this._config.onRefreshFailed&&this._config.onRefreshFailed()}},{key:"_refresh",value:function(){var e=this;if(this._debug("refresh token"),0===this._config.refreshAttempts)return this._debug("refresh attempts set to 0, do not send refresh request at all"),void this._refreshFailed();null!==this._refreshTimeout&&(clearTimeout(this._refreshTimeout),this._refreshTimeout=null);var t=this._clientID,n=this._newXHRID(),r=function(r){if(n in e._xhrs&&delete e._xhrs[n],e._clientID===t){if(r.error||200!==r.status){if(r.error?e._debug("error refreshing connection token",r.error):e._debug("error refreshing connection token: wrong status code",r.status),e._numRefreshFailed++,null!==e._refreshTimeout&&(clearTimeout(e._refreshTimeout),e._refreshTimeout=null),null!==e._config.refreshAttempts&&e._numRefreshFailed>=e._config.refreshAttempts)return void e._refreshFailed();var s=Math.round(1e3*Math.random()*Math.max(e._numRefreshFailed,20)),i=e._config.refreshInterval+s;return void(e._refreshTimeout=setTimeout(function(){return e._refresh()},i))}if(e._numRefreshFailed=0,e._token=r.data.token,!e._token)return void e._refreshFailed();if(e._isDisconnected()&&e._reconnect)e._debug("token refreshed, connect from scratch"),e._connect();else{e._debug("send refreshed token");var o={method:e._methodType.REFRESH,params:{token:e._token}};e._call(o).then(function(t){e._refreshResponse(e._decoder.decodeCommandResult(e._methodType.REFRESH,t.result)),t.next&&t.next()},function(t){e._refreshError(t.error),t.next&&t.next()})}}};if(null!==this._config.onRefresh){var s={};this._config.onRefresh(s,r)}else{var i=this._ajax(this._config.refreshEndpoint,this._config.refreshParams,this._config.refreshHeaders,this._config.refreshData,r);this._xhrs[n]=i}}},{key:"_refreshError",value:function(e){var t=this;this._debug("refresh error",e),this._refreshTimeout&&(clearTimeout(this._refreshTimeout),this._refreshTimeout=null);var n=this._config.refreshInterval+Math.round(1e3*Math.random());this._refreshTimeout=setTimeout(function(){return t._refresh()},n)}},{key:"_refreshResponse",value:function(e){var t=this;this._refreshTimeout&&(clearTimeout(this._refreshTimeout),this._refreshTimeout=null),e.expires&&(this._clientID=e.client,this._refreshTimeout=setTimeout(function(){return t._refresh()},this._getTTLMilliseconds(e.ttl)))}},{key:"_newXHRID",value:function(){return++this._xhrID}},{key:"_subRefresh",value:function(e){var t=this;if(this._debug("refresh subscription token for channel",e),void 0!==this._subRefreshTimeouts[e]){this._clearSubRefreshTimeout(e);var n=this._clientID,r=this._newXHRID(),s=function(s){if(r in t._xhrs&&delete t._xhrs[r],!s.error&&200===s.status&&t._clientID===n){var o={};if(s.data.channels)for(var u in i.channels){var a=s.data.channels[u];a.channel&&(o[a.channel]=a.token)}var c=o[e];if(c){var h={method:t._methodType.SUB_REFRESH,params:{channel:e,token:c}};null!==t._getSub(e)&&t._call(h).then(function(n){t._subRefreshResponse(e,t._decoder.decodeCommandResult(t._methodType.SUB_REFRESH,n.result)),n.next&&n.next()},function(n){t._subRefreshError(e,n.error),n.next&&n.next()})}}},i={client:this._clientID,channels:[e]};if(null!==this._config.onPrivateSubscribe)this._config.onPrivateSubscribe({data:i},s);else{var o=this._ajax(this._config.subscribeEndpoint,this._config.subscribeParams,this._config.subscribeHeaders,i,s);this._xhrs[r]=o}}}},{key:"_clearSubRefreshTimeout",value:function(e){void 0!==this._subRefreshTimeouts[e]&&(clearTimeout(this._subRefreshTimeouts[e]),delete this._subRefreshTimeouts[e])}},{key:"_subRefreshError",value:function(e,t){var n=this;if(this._debug("subscription refresh error",e,t),this._clearSubRefreshTimeout(e),null!==this._getSub(e)){var r=Math.round(1e3*Math.random()),s=setTimeout(function(){return n._subRefresh(e)},this._config.subRefreshInterval+r);this._subRefreshTimeouts[e]=s}}},{key:"_subRefreshResponse",value:function(e,t){var n=this;if(this._debug("subscription refresh success",e),this._clearSubRefreshTimeout(e),null!==this._getSub(e)&&!0===t.expires){var r=setTimeout(function(){return n._subRefresh(e)},this._getTTLMilliseconds(t.ttl));this._subRefreshTimeouts[e]=r}}},{key:"_subscribe",value:function(e,t){var n=this;this._debug("subscribing on",e.channel);var r=e.channel;if(r in this._subs||(this._subs[r]=e),!this.isConnected())return void e._setNew();e._setSubscribing(t);var s={method:this._methodType.SUBSCRIBE,params:{channel:r}};if((0,d.startsWith)(r,this._config.privateChannelPrefix))this._isSubscribeBatching?this._privateChannels[r]=!0:(this.startSubscribeBatching(),this._subscribe(e),this.stopSubscribeBatching());else{var i=e._needRecover();if(!0===i){s.params.recover=!0;var o=this._getLastSeq(r);o&&(s.params.seq=o);var u=this._getLastGen(r);u&&(s.params.gen=u);var a=this._getLastEpoch(r);a&&(s.params.epoch=a)}this._call(s).then(function(e){n._subscribeResponse(r,i,n._decoder.decodeCommandResult(n._methodType.SUBSCRIBE,e.result)),e.next&&e.next()},function(e){n._subscribeError(r,e.error),e.next&&e.next()})}}},{key:"_unsubscribe",value:function(e){this.isConnected()&&this._addMessage({method:this._methodType.UNSUBSCRIBE,params:{channel:e.channel}})}},{key:"_getTTLMilliseconds",value:function(e){return Math.min(1e3*e,2147483647)}},{key:"getSub",value:function(e){return this._getSub(e)}},{key:"_getSub",value:function(e){var t=this._subs[e];return t||null}},{key:"_connectResponse",value:function(e){var t=this,n=this._reconnecting;if(this._reconnecting=!1,this._resetRetry(),this._refreshRequired=!1,!this.isConnected()){null!==this._latencyStart&&(this._latency=(new Date).getTime()-this._latencyStart.getTime(),this._latencyStart=null),this._clientID=e.client,this._setStatus("connected"),this._refreshTimeout&&clearTimeout(this._refreshTimeout),e.expires&&(this._refreshTimeout=setTimeout(function(){return t._refresh()},this._getTTLMilliseconds(e.ttl))),this.startBatching(),this.startSubscribeBatching();for(var r in this._subs)if(this._subs.hasOwnProperty(r)){var s=this._subs[r];s._shouldResubscribe()&&this._subscribe(s,n)}this.stopSubscribeBatching(),this.stopBatching(),this._startPing();var i={client:e.client,transport:this._transportName,latency:this._latency};e.data&&(i.data=e.data),this.emit("connect",i)}}},{key:"_stopPing",value:function(){null!==this._pongTimeout&&(clearTimeout(this._pongTimeout),this._pongTimeout=null),null!==this._pingTimeout&&(clearTimeout(this._pingTimeout),this._pingTimeout=null)}},{key:"_startPing",value:function(){var e=this;!0!==this._config.ping||this._config.pingInterval<=0||this.isConnected()&&(this._pingTimeout=setTimeout(function(){if(!e.isConnected())return void e._stopPing();e.ping(),e._pongTimeout=setTimeout(function(){e._disconnect("no ping",!0)},e._config.pongWaitTimeout)},this._config.pingInterval))}},{key:"_restartPing",value:function(){this._stopPing(),this._startPing()}},{key:"_subscribeError",value:function(e,t){var n=this._getSub(e);if(n&&n._isSubscribing())return 0===t.code&&"timeout"===t.message?void this._disconnect("timeout",!0):void n._setSubscribeError(t)}},{key:"_subscribeResponse",value:function(e,t,n){var r=this,s=this._getSub(e);if(s&&s._isSubscribing()){var i=!1;"recovered"in n&&(i=n.recovered),s._setSubscribeSuccess(i);var o=n.publications;if(o&&o.length>0){o=o.reverse();for(var u in o)o.hasOwnProperty(u)&&this._handlePublication(e,o[u])}if(!n.recoverable||t&&i||(this._lastSeq[e]=n.seq||0,this._lastGen[e]=n.gen||0),this._lastEpoch[e]=n.epoch||"",n.recoverable&&(s._recoverable=!0),!0===n.expires){var a=setTimeout(function(){return r._subRefresh(e)},this._getTTLMilliseconds(n.ttl));this._subRefreshTimeouts[e]=a}}}},{key:"_handleReply",value:function(e,t){var n=e.id,r=e.result;if(!(n in this._callbacks))return void t();var s=this._callbacks[n];if(clearTimeout(this._callbacks[n].timeout),delete this._callbacks[n],(0,d.errorExists)(e)){var i=s.errback;if(!i)return void t();i({error:e.error,next:t})}else{var o=s.callback;if(!o)return;o({result:r,next:t})}}},{key:"_handleJoin",value:function(e,t){var n=this._getSub(e);n&&n.emit("join",{info:t.info})}},{key:"_handleLeave",value:function(e,t){var n=this._getSub(e);n&&n.emit("leave",{info:t.info})}},{key:"_handleUnsub",value:function(e,t){var n=this._getSub(e);n&&(n.unsubscribe(),!0===t.resubscribe&&n.subscribe())}},{key:"_handlePublication",value:function(e,t){var n=this._getSub(e);n&&(void 0!==t.seq&&(this._lastSeq[e]=t.seq),void 0!==t.gen&&(this._lastGen[e]=t.gen),n.emit("publish",t))}},{key:"_handleMessage",value:function(e){this.emit("message",e.data)}},{key:"_handlePush",value:function(e,t){var n=this._decoder.decodePush(e),r=0;"type"in n&&(r=n.type);var s=n.channel;if(r===this._pushType.PUBLICATION){var i=this._decoder.decodePushData(this._pushType.PUBLICATION,n.data);this._handlePublication(s,i)}else if(r===this._pushType.MESSAGE){var o=this._decoder.decodePushData(this._pushType.MESSAGE,n.data);this._handleMessage(o)}else if(r===this._pushType.JOIN){var u=this._decoder.decodePushData(this._pushType.JOIN,n.data);this._handleJoin(s,u)}else if(r===this._pushType.LEAVE){var a=this._decoder.decodePushData(this._pushType.LEAVE,n.data);this._handleLeave(s,a)}else if(r===this._pushType.UNSUB){var c=this._decoder.decodePushData(this._pushType.UNSUB,n.data);this._handleUnsub(s,c)}t()}},{key:"_dispatchReply",value:function(e){var t,n=new Promise(function(e){t=e});if(void 0===e||null===e)return this._debug("dispatch: got undefined or null reply"),t(),n;var r=e.id;return r&&r>0?this._handleReply(e,t):this._handlePush(e.result,t),n}},{key:"_flush",value:function(){var e=this._messages.slice(0);this._messages=[],this._transportSend(e)}},{key:"_ping",value:function(){var e=this,t={method:this._methodType.PING};this._call(t).then(function(t){e._pingResponse(e._decoder.decodeCommandResult(e._methodType.PING,t.result)),t.next&&t.next()},function(t){e._debug("ping error",t.error),t.next&&t.next()})}},{key:"_pingResponse",value:function(e){this.isConnected()&&(this._stopPing(),this._startPing())}},{key:"_getLastSeq",value:function(e){var t=this._lastSeq[e];return t||0}},{key:"_getLastGen",value:function(e){var t=this._lastGen[e];return t||0}},{key:"_getLastEpoch",value:function(e){var t=this._lastEpoch[e];return t||""}},{key:"_createErrorObject",value:function(e,t){return{message:e,code:t||0}}},{key:"_registerCall",value:function(e,t,n){var r=this;this._callbacks[e]={callback:t,errback:n,timeout:null},this._callbacks[e].timeout=setTimeout(function(){delete r._callbacks[e],(0,d.isFunction)(n)&&n({error:r._createErrorObject("timeout")})},this._config.timeout)}},{key:"_addMessage",value:function(e){var t=this._nextMessageId();return e.id=t,!0===this._isBatching?this._messages.push(e):this._transportSend([e]),t}},{key:"isConnected",value:function(){return this._isConnected()}},{key:"connect",value:function(){this._connect()}},{key:"disconnect",value:function(){this._disconnect("client",!1)}},{key:"ping",value:function(){return this._ping()}},{key:"startBatching",value:function(){this._isBatching=!0}},{key:"stopBatching",value:function(){this._isBatching=!1,this._flush()}},{key:"startSubscribeBatching",value:function(){this._isSubscribeBatching=!0}},{key:"stopSubscribeBatching",value:function(){var e=this;this._isSubscribeBatching=!1;var t=this._privateChannels;this._privateChannels={};var n=[];for(var r in t)if(t.hasOwnProperty(r)){var s=this._getSub(r);if(!s)continue;n.push(r)}if(0===n.length)return void this._debug("no private channels found, no need to make request");var i={client:this._clientID,channels:n},o=this._clientID,u=this._newXHRID(),a=function(t){if(u in e._xhrs&&delete e._xhrs[u],e._clientID===o)if(t.error||200!==t.status){e._debug("authorization request failed");for(var r in n)if(n.hasOwnProperty(r)){var s=n[r];e._subscribeError(s,e._createErrorObject("authorization request failed"))}}else{var i={};if(t.data.channels)for(var a in t.data.channels){var c=t.data.channels[a];c.channel&&(i[c.channel]=c.token)}var h=!1;e._isBatching||(e.startBatching(),h=!0);for(var l in n)if(n.hasOwnProperty(l)){var _=function(){var t=n[l],r=i[t];if(!r)return e._subscribeError(t,e._createErrorObject("permission denied",103)),"continue";var s={method:e._methodType.SUBSCRIBE,params:{channel:t,token:r}},o=e._getSub(t);if(null===o)return"continue";var u=o._needRecover();if(!0===u){s.params.recover=!0;var a=e._getLastSeq(t);a&&(s.params.seq=a);var c=e._getLastGen(t);c&&(s.params.gen=c);var h=e._getLastEpoch(t);h&&(s.params.epoch=h)}e._call(s).then(function(n){e._subscribeResponse(t,u,e._decoder.decodeCommandResult(e._methodType.SUBSCRIBE,n.result)),n.next&&n.next()},function(n){e._subscribeError(t,n.error),n.next&&n.next()})}();if("continue"===_)continue}h&&e.stopBatching()}};if(null!==this._config.onPrivateSubscribe)this._config.onPrivateSubscribe({data:i},a);else{var c=this._ajax(this._config.subscribeEndpoint,this._config.subscribeParams,this._config.subscribeHeaders,i,a);this._xhrs[u]=c}}},{key:"subscribe",value:function(e,t){var n=this._getSub(e);if(null!==n)return n._setEvents(t),n._isUnsubscribed()&&n.subscribe(),n;var r=new _.default(this,e,t);return this._subs[e]=r,r.subscribe(),r}}]),n}(h.default)}).call(t,n(3))},11:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(6),a=function(e){return e&&e.__esModule?e:{default:e}}(u),c=n(7),h=0,l=function(e){function t(e,n,i){r(this,t);var o=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.channel=n,o._centrifuge=e,o._status=h,o._error=null,o._isResubscribe=!1,o._ready=!1,o._subscriptionPromise=null,o._noResubscribe=!1,o._recoverable=!1,o._recover=!1,o._setEvents(i),o._initializePromise(),o._promises={},o._promiseId=0,o.on("error",function(e){this._centrifuge._debug("subscription error",e)}),o}return i(t,e),o(t,[{key:"_nextPromiseId",value:function(){return++this._promiseId}},{key:"_initializePromise",value:function(){var e=this;this._ready=!1,this._subscriptionPromise=new Promise(function(t,n){e._resolve=function(n){e._ready=!0,t(n)},e._reject=function(t){e._ready=!0,n(t)}}).then(function(){},function(){})}},{key:"_needRecover",value:function(){return!0===this._recoverable&&!0===this._recover}},{key:"_setEvents",value:function(e){if(e)if((0,c.isFunction)(e))this.on("publish",e);else if(Object.prototype.toString.call(e)===Object.prototype.toString.call({}))for(var t=["publish","join","leave","unsubscribe","subscribe","error"],n=0,r=t.length;n<r;n++){var s=t[n];s in e&&this.on(s,e[s])}}},{key:"_isNew",value:function(){return this._status===h}},{key:"_isUnsubscribed",value:function(){return 4===this._status}},{key:"_isSubscribing",value:function(){return 1===this._status}},{key:"_isReady",value:function(){return 2===this._status||3===this._status}},{key:"_isSuccess",value:function(){return 2===this._status}},{key:"_isError",value:function(){return 3===this._status}},{key:"_setNew",value:function(){this._status=h}},{key:"_setSubscribing",value:function(e){this._isResubscribe=e||!1,!0===this._ready&&this._initializePromise(),this._status=1}},{key:"_setSubscribeSuccess",value:function(e){if(2!==this._status){this._status=2;var t=this._getSubscribeSuccessContext(e);this._recover=!1,this.emit("subscribe",t),this._resolve(t);for(var n in this._promises)clearTimeout(this._promises[n].timeout),this._promises[n].resolve(),delete this._promises[n]}}},{key:"_setSubscribeError",value:function(e){if(3!==this._status){this._status=3,this._error=e;var t=this._getSubscribeErrorContext();this.emit("error",t),this._reject(t);for(var n in this._promises)clearTimeout(this._promises[n].timeout),this._promises[n].reject(e),delete this._promises[n]}}},{key:"_triggerUnsubscribe",value:function(){this.emit("unsubscribe",{channel:this.channel})}},{key:"_setUnsubscribed",value:function(e){if(this._centrifuge._clearSubRefreshTimeout(this.channel),4!==this._status){var t=2===this._status;this._status=4,!0===e&&(this._recover=!1,this._noResubscribe=!0,delete this._centrifuge._lastSeq[this.channel],delete this._centrifuge._lastGen[this.channel],delete this._centrifuge._lastEpoch[this.channel]),t&&this._triggerUnsubscribe()}}},{key:"_shouldResubscribe",value:function(){return!this._noResubscribe}},{key:"_getSubscribeSuccessContext",value:function(e){return{channel:this.channel,isResubscribe:this._isResubscribe,recovered:e}}},{key:"_getSubscribeErrorContext",value:function(){var e=this._error;return e.channel=this.channel,e.isResubscribe=this._isResubscribe,e}},{key:"ready",value:function(e,t){this._ready&&(this._isSuccess()?e(this._getSubscribeSuccessContext()):t(this._getSubscribeErrorContext()))}},{key:"subscribe",value:function(){2!==this._status&&(this._noResubscribe=!1,this._centrifuge._subscribe(this))}},{key:"unsubscribe",value:function(){this._setUnsubscribed(!0),this._centrifuge._unsubscribe(this)}},{key:"_methodCall",value:function(e,t){var n=this;return new Promise(function(r,s){var i=void 0;i=n._isSuccess()?Promise.resolve():n._isError()?Promise.reject(n._error):new Promise(function(e,t){var r=setTimeout(function(){t({code:0,message:"timeout"})},n._centrifuge._config.timeout);n._promises[n._nextPromiseId()]={timeout:r,resolve:e,reject:t}}),i.then(function(){return n._centrifuge._call(e).then(function(e){r(n._centrifuge._decoder.decodeCommandResult(t,e.result)),e.next&&e.next()},function(e){s(e.error),e.next&&e.next()})},function(e){s(e)})})}},{key:"publish",value:function(e){return this._methodCall({method:this._centrifuge._methodType.PUBLISH,params:{channel:this.channel,data:e}},this._centrifuge._methodType.PUBLISH)}},{key:"presence",value:function(){return this._methodCall({method:this._centrifuge._methodType.PRESENCE,params:{channel:this.channel}},this._centrifuge._methodType.PRESENCE)}},{key:"presenceStats",value:function(){return this._methodCall({method:this._centrifuge._methodType.PRESENCE_STATS,params:{channel:this.channel}},this._centrifuge._methodType.PRESENCE_STATS)}},{key:"history",value:function(){return this._methodCall({method:this._centrifuge._methodType.HISTORY,params:{channel:this.channel}},this._centrifuge._methodType.HISTORY)}}]),t}(a.default);t.default=l,e.exports=t.default},12:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.JsonMethodType={CONNECT:0,SUBSCRIBE:1,UNSUBSCRIBE:2,PUBLISH:3,PRESENCE:4,PRESENCE_STATS:5,HISTORY:6,PING:7,SEND:8,RPC:9,REFRESH:10,SUB_REFRESH:11},t.JsonPushType={PUBLICATION:0,JOIN:1,LEAVE:2,UNSUB:3,MESSAGE:4},t.JsonEncoder=function(){function e(){r(this,e)}return s(e,[{key:"encodeCommands",value:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(JSON.stringify(e[n]));return t.join("\\n")}}]),e}(),t.JsonDecoder=function(){function e(){r(this,e)}return s(e,[{key:"decodeReplies",value:function(e){var t=[],n=e.split("\\n");for(var r in n)if(n.hasOwnProperty(r)){if(!n[r])continue;var s=JSON.parse(n[r]);t.push(s)}return t}},{key:"decodeCommandResult",value:function(e,t){return t}},{key:"decodePush",value:function(e){return e}},{key:"decodePushData",value:function(e,t){return t}}]),e}()},3:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},31:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=r.Centrifuge,e.exports=t.default},6:function(e,t,n){"use strict";function r(e){console&&console.warn&&console.warn(e)}function s(){s.init.call(this)}function i(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function o(e,t,n,s){var o,u,a;if("function"!=typeof n)throw new TypeError(\'The "listener" argument must be of type Function. Received type \'+typeof n);if(u=e._events,void 0===u?(u=e._events=Object.create(null),e._eventsCount=0):(void 0!==u.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),u=e._events),a=u[t]),void 0===a)a=u[t]=n,++e._eventsCount;else if("function"==typeof a?a=u[t]=s?[n,a]:[a,n]:s?a.unshift(n):a.push(n),(o=i(e))>0&&a.length>o&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,r(c)}return e}function u(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,v(this.listener,this.target,e))}function a(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=u.bind(r);return s.listener=n,r.wrapFn=s,s}function c(e,t,n){var r=e._events;if(void 0===r)return[];var s=r[t];return void 0===s?[]:"function"==typeof s?n?[s.listener||s]:[s]:n?f(s):l(s,s.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function l(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function _(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function f(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}var d,p="object"==typeof Reflect?Reflect:null,v=p&&"function"==typeof p.apply?p.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};d=p&&"function"==typeof p.ownKeys?p.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var b=Number.isNaN||function(e){return e!==e};e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var m=10;Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(e){if("number"!=typeof e||e<0||b(e))throw new RangeError(\'The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received \'+e+".");m=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||b(e))throw new RangeError(\'The value of "n" is out of range. It must be a non-negative number. Received \'+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return i(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,s=this._events;if(void 0!==s)r=r&&void 0===s.error;else if(!r)return!1;if(r){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var o=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw o.context=i,o}var u=s[e];if(void 0===u)return!1;if("function"==typeof u)v(u,this,t);else for(var a=u.length,c=l(u,a),n=0;n<a;++n)v(c[n],this,t);return!0},s.prototype.addListener=function(e,t){return o(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return o(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError(\'The "listener" argument must be of type Function. Received type \'+typeof t);return this.on(e,a(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError(\'The "listener" argument must be of type Function. Received type \'+typeof t);return this.prependListener(e,a(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,s,i,o;if("function"!=typeof t)throw new TypeError(\'The "listener" argument must be of type Function. Received type \'+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(s=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){o=n[i].listener,s=i;break}if(s<0)return this;0===s?n.shift():_(n,s),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var s,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(s=i[r])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return c(this,e,!0)},s.prototype.rawListeners=function(e){return c(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},s.prototype.listenerCount=h,s.prototype.eventNames=function(){return this._eventsCount>0?d(this._events):[]}},7:function(e,t,n){"use strict";(function(e){function n(e,t){return 0===e.lastIndexOf(t,0)}function r(e){return void 0!==e&&null!==e&&"function"==typeof e}function s(t,n){if(e.console){var s=e.console[t];r(s)&&s.apply(e.console,n)}}function i(e,t,n){var r=.5*Math.random(),s=Math.min(n,t*Math.pow(2,e+1));return Math.floor((1-r)*s)}function o(e){return"error"in e&&null!==e.error}function u(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}Object.defineProperty(t,"__esModule",{value:!0}),t.startsWith=n,t.isFunction=r,t.log=s,t.backoff=i,t.errorExists=o,t.extend=u}).call(t,n(3))}})});'),E("span",n().btnSend,"<img src='".concat(v("btnSend"),"'/>")),n().resizeBox.style.backgroundImage="url(".concat(v("resizeBox"),")");var o="\n            .pg-widget--chat-messagesBox__client .pg-widget--chat-messagesBox__messageBox {\n                background-color: ".concat(h.settings.widget.element_back_color,"!important;\n            }\n            .pg-widget--chat-messagesBox__client .pg-widget--chat-messagesBox__messageBox,\n            .pg-widget--chat-messagesBox__client .pg-widget--chat-messagesBox__messageBox-file-tegA-text,\n            .pg-widget--chat-messagesBox__client .pg-widget--chat-messagesBox__messageBox-file-tegA{\n                color: ").concat(h.settings.widget.element_text_color,"!important;\n            }\n            ");L(o),W(h.settings.chat)?(t.querySelector(".pg-widget--chat-header__statusIcon").style.backgroundColor="#00a861",t.querySelector(".pg-widget--chat-header__statusText").innerHTML="Online",h.chatData.helloMessageChat=null!=h.settings.chat.start_message?h.settings.chat.start_message:"Пишите по любому вопросу!"):(t.querySelector(".pg-widget--chat-header__statusIcon").style.backgroundColor="#878787",t.querySelector(".pg-widget--chat-header__statusText").innerHTML="Offline",h.chatData.helloMessageChat=null!=h.settings.chat.non_working_message?h.settings.chat.non_working_message:"Сейчас нерабочее время, напишите сюда свою почту и мы вам обязательно ответим"),h.settings.widget.widgetname&&(t.querySelector(".pg-widget--chat-header__managerName").innerHTML=h.settings.widget.widgetname),t.querySelector(".pg-widget--controlBox").addEventListener("openChat",function(){n().box.style.display="flex",P(n().messagesBox);var e=_toConsumableArray(h.chatData.messages).filter(function(e){return 1===e.type}).pop();e&&B(g,e.date);var o=t.createEvent("Event");o.initEvent("viewed",!1,!0),n().box.dispatchEvent(o),D("Новое сообщение!",!1)}),e.addEventListener("focus",function(){if(n().boxIsActive){var e=t.createEvent("Event");e.initEvent("viewed",!1,!0),n().box.dispatchEvent(e)}}),t.querySelector(".pg-widget--controlBox").addEventListener("closeControl",function(){n().box.style.display="none"}),n().input.onclick=function(){i(),P(n().messagesBox),setTimeout(function(){P(n().messagesBox)},500)},n().input.addEventListener("input",function(){H(n().input,n().helpInput),P(n().enterBox),P(n().messagesBox)}),t.querySelector(".pg-widget--controlBox-boxForContent").addEventListener("resizeContent",function(){H(n().input,n().helpInput)}),n().input.addEventListener("keydown",function(e){"Enter"===e.key&&(e.preventDefault(),_(),n().input.style.height="0px")}),n().btnSend.onclick=function(e){e.preventDefault(),_(),n().input.style.height="0px",n().input.focus()},n().fileAttachment.addEventListener("input",function(e){_toConsumableArray(e.currentTarget.files).forEach(function(e){void 0===h.chatData.filesAttach.find(function(t){return t.name===e.name})&&h.chatData.filesAttach.length<4&&(h.chatData.filesAttach.push(e),s())}),e.currentTarget.value=""}),n().input.addEventListener("paste",function(e){if(h.chatData.filesAttach.length<10){var t=new FileReader,n=e.clipboardData.items[0];n&&n.type.startsWith("image/")&&(t.addEventListener("load",function(){var e=0!==h.chatData.filesAttach.length&&void 0!==h.chatData.filesAttach[h.chatData.filesAttach.length-1].id?h.chatData.filesAttach[h.chatData.filesAttach.length-1].id+1:1;h.chatData.filesAttach.length<4&&h.chatData.filesAttach.push({imageBase:t.result,name:"Скриншот ".concat(e),id:e}),s()},!1),t.readAsDataURL(n.getAsFile()))}}),n().input.addEventListener("keyup",function(){h.chatData.wasSendWrite||function e(){if(i(),h.chatData.chatId){var t=new FormData;t.append("action","typing"),t.append("text",n().input.value),t.append("id",h.chatData.chatId),k(t),h.chatData.lastText=n().input.value,h.chatData.wasSendWrite=!0,setTimeout(function(){n().input.value!==h.chatData.lastText?e():h.chatData.wasSendWrite=!1},3e3)}}()}),n().box.addEventListener("viewed",function(){i()}),r.mobile?n().resizeBox.style.display="none":(n().header.onmousedown=function(e){ae.headerChatMouseDownAction(e)},n().resizeBox.onmousedown=function(e){e.stopPropagation(),ae.headerResizeChatMouseDownAction(e)}),w.request({url:y("chat/widget",{key:h.apiKey,token:h.settings.session.token}),method:"POST",data:{action:"history",session_id:h.settings.session.id,visitor_id:h.settings.visitor.id,pageUrl:e.location.href}}).done(function(e){var o=JSON.parse(e);if(o.hasOwnProperty("data")&&(o.success||void 0!==o.data.messages)&&(h.chatData.managers=o.data.managers,h.chatData.chatId=o.data.chat,o.success)){var i=o.data.messages;i.sort(function(e,t){return e.date-t.date}),function(e){var o=_toConsumableArray(e.filter(function(e){return 1===e.type})).pop(),i=o?o.date+""!==C(g)&&void 0!==C(g):0;e.forEach(function(e){m(e,!0),e.date+""===C(g)&&i&&c(0)}),o&&(t.querySelector(".pg-widget--chat-header__managerName").innerHTML=h.chatData.managers.find(function(e){return e.id===o.manager_id}).name),l(),P(n().messagesBox)}(i),h.chatData.messages=_toConsumableArray(i),0===_toConsumableArray(i).pop().type&&2===_toConsumableArray(i).pop().status&&p(1)}if(n().messagesBoxContainer.style.display="block",t.querySelector(".pg-widget--chat-messagesBox__loading").style.display="none",h.isNewSession||0===o.data.messages.length){var r={date:+new Date/1e3,text:h.chatData.helloMessageChat,manager_id:0,type:1};m(r)}}),P(n().messagesBox);try{h.chatData.cf=new Centrifuge("wss://ws.primegate.io/connection/websocket"),h.chatData.cf.setToken("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyODI4MiIsImV4cCI6MTc0ODczNTUxOX0.Qol064yFRfiqJAF82pImYfoGqhbZIvGr6mFheak9yns"),h.chatData.sub&&h.chatData.sub.subscribe(),h.chatData.sub=h.chatData.cf.subscribe(h.settings.visitor.id+"."+h.apiKey,function(e){var t=e.data;switch(t.code){case 1:!function(e){var t=new FormData;t.append("action","getMessage"),t.append("window",a&&n().boxIsActive),t.append("id",e),k(t).onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText);e.hasOwnProperty("data")&&e.success&&(1===e.data.type&&(c(1),n().boxIsActive?B(g,e.data.date):void 0===C(g)&&B(g,null)),h.chatData.messages.push(e.data),m(e.data),l())}},P(n().messagesBox)}(t.id);break;case 5:null!=h.chatData.timeOutIsWriting&&clearTimeout(h.chatData.timeOutIsWriting),u(),d(),h.chatData.timeOutIsWriting=setTimeout(function(){u()},2e3);break;case 11:p(1)}}),h.chatData.cf.connect()}catch(e){}}}},ce=function(){var n=function(){return{box:t.querySelector(".pg-widget--form-box"),title:t.querySelector(".pg-widget--form-title"),off:t.querySelector(".pg-widget--form-off"),success:t.querySelector(".pg-widget--form-success"),form:t.querySelector(".pg-widget--form-form"),loader:t.querySelector(".pg-widget--form-loader"),btn:t.querySelector(".pg-widget--form-form__button")}};return{widgetFormInit:function(){L(".pg-widget--form-box{padding:13px;display:none;width:320px;height:383px;margin-top:auto;margin-left:auto}.pg-widget--form-title{text-align:center;font-size:17px;line-height:1.2;display:block;margin-bottom:auto;margin-top:auto;position:relative;top:-9px}.pg-widget--form-loader,.pg-widget--form-off,.pg-widget--form-success{display:none;text-align:center;margin:auto}.pg-widget--form-form{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:357px}.pg-widget--form-form__input{resize:none;width:100%;padding:7px;border:1px solid gray;border-radius:4px;margin-bottom:10px;font-size:18px;line-height:1}.pg-widget--form-form__input_error::-webkit-input-placeholder{color:#ec2828}.pg-widget--form-form__input_error{border-color:#ec2828}.pg-widget--form-form__button{width:100%;font-size:15px;padding:5px;border:0;border-radius:4px;margin-top:5px;cursor:pointer;background-color:#7774ff;color:#fff;height:45px}.pg-widget--form-form__agreement{font-size:10px;line-height:1.2;color:gray;font-style:italic;margin-top:5px}.pg-widget--form-form__agreement a{color:gray}"),E("div",t.querySelector(".pg-widget--controlBox-content"),'<div class="pg-widget--form-off">\n    Сейчас мы не работаем, но обязательно свяжемся с вами в рабочее время\n</div>\n<div class="pg-widget--form-success">\n    Ваша заявка отправлена. Наш менеджер свяжется с Вами через несколько секунд.\n</div>\n<div class="pg-widget--form-loader">\n    Загрузка...\n</div>\n<form class="pg-widget--form-form">\n    <div class="pg-widget--form-title">\n        Оставьте свои контакты, и мы свяжемся с вами в ближайшее время\n    </div>\n    <input autocomplete="off" class="pg-widget--form-form__input" type="text" name="name" placeholder="Имя"/>\n    <input autocomplete="off" class="pg-widget--form-form__input" type="email" name="email" placeholder="Email"/>\n    <input autocomplete="off" class="pg-widget--form-form__input" type="tel" name="phone" placeholder="Телефон"/>\n    <textarea autocomplete="off" class="pg-widget--form-form__input pg-widget--form-form__input_area" name="note" placeholder="Собщение"></textarea>\n    <button class="pg-widget--form-form__button" type="submit">Отправить</button>\n    <div class="pg-widget--form-form__agreement">Нажимая кнопку отправить, вы соглашаетесь с <a class="pg-widget__policy-link">политикой конфиденциальности</a>.</div>\n</form>',"","pg-widget--form-box"),n().btn.style.backgroundColor=h.settings.widget.element_back_color,n().btn.style.color=h.settings.widget.element_text_color,h.settings.widget.widget_form_name&&h.settings.widget.widget_callback_name.trim().length>0&&(n().title.textContent=h.settings.widget.widget_form_name),h.settings.widget.widget_success_form&&h.settings.widget.widget_success_form.trim().length>0&&(n().success.textContent=h.settings.widget.widget_success_form),t.querySelector(".pg-widget--controlBox").addEventListener("openForm",function(){n().box.style.display="flex"}),t.querySelector(".pg-widget--controlBox").addEventListener("closeControl",function(){n().box.style.display="none"}),n().form.phone.addEventListener("input",function(e){N(e.target)}),n().form.email.addEventListener("input",function(e){N(e.target)}),n().form.name.addEventListener("input",function(e){N(e.target)}),n().form.addEventListener("submit",function(o){o.preventDefault(),function(){var o=n().form.name,i=n().form.email,r=n().form.phone,a="",s=0;if(o.value.trim().length<2?(q(o),s=1):N(o),i.value.trim().length<5?(q(i),s=1):N(i),r.value.trim().length<7)q(r),s=1;else{N(r),a=r.value.trim().replace(/[()+-\s]/g,"").replace(/^8/g,"7");var l=/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,11}$/.test(a);if(!0!==l)return q(r),!1}if(!s){n().form.style.display="none",n().loader.style.display="block";var c={sessionId:h.settings.session.id,name:n().form.name.value,email:n().form.email.value,phone:n().form.phone.value,note:n().form.note.value,pageUrl:e.location.href,pageTitle:t.title?t.title:""};$(),w.request({url:y("js-client/form-request",{apiKey:h.apiKey,token:h.settings.session.token}),method:"POST",data:c}).done(function(e){e=JSON.parse(e),n().loader.style.display="none",e.success?n().success.style.display="block":(n().off.innerHTML="Упс, что-то пошло не так",n().off.style.display="block")})}}()})}}},de=function(){var e=function(){return{contentBox:t.querySelector(".pg-widget--controlBox-content"),box:t.querySelector(".pg-widget--telegram-box"),isBoxActive:I(t.querySelector(".pg-widget--telegram-box"),"pg-widget--telegram-box_active"),button:t.querySelector(".pg-widget--telegram-box__button"),codeContainer:t.querySelector(".pg-widget--telegram-box__codeContainer"),codeLabelBox:t.querySelector(".pg-widget--telegram-box__codeLabelBox")}},n="tg://resolve?domain=".concat(h.settings.widget.telegram_bot_name,"&start=").concat(h.settings.session.id,"_").concat(h.settings.visitor.id),o="https://t.me/".concat(h.settings.widget.telegram_bot_name,"?start=").concat(h.settings.session.id,"_").concat(h.settings.visitor.id);return{widgetTelegramInit:function(){L('.pg-widget--telegram-box{display:none;max-width:320px;width:320px;padding:13px;margin-top:auto;margin-left:auto}.pg-widget--telegram-box__container{display:none;width:100%}.pg-widget--telegram-box__codeContainer,.pg-widget--telegram-box__codeLabelBox,.pg-widget--telegram-box__text{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.pg-widget--telegram-box__text{font-size:15px;line-height:1.3;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;color:gray;text-align:center;margin-bottom:18px}.pg-widget--telegram-box__codeContainer,.pg-widget--telegram-box__codeLabelBox{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.pg-widget--telegram-box__codeContainer{width:100%;margin-bottom:10px;margin-top:10px;height:auto}.pg-widget--telegram-box__codeContainer img{width:200px}.pg-widget--telegram-box__codeLabelBox{position:absolute;bottom:185px;right:121px;height:22px;border-radius:10px;padding:10px}.pg-widget--telegram-box__codeLabel{font-size:10px;font-weight:700;font-family:"Fira Sans",sans-serif;margin-top:2px;color:#fff}.pg-widget--telegram-box__button{width:100%;height:45px;border:0;border-radius:4px;background-color:#7774ff;outline:0;cursor:pointer;color:#fff;font-size:15px}.pg-widget--telegram-box_active{display:block}.pg-widget--telegram-box__loader{text-align:center;margin-bottom:60px}.pg-widget--telegram-box_hideLoader .pg-widget--telegram-box__loader{display:none}.pg-widget--telegram-box_hideLoader .pg-widget--telegram-box__container{display:block}.pg-widget--telegram-box__agreement{font-size:10px;line-height:1.2;color:gray;font-style:italic;margin-top:5px}.pg-widget--telegram-box__agreement a{color:gray}'),E("div",t.querySelector(".pg-widget--controlBox-content"),'<div class="pg-widget--telegram-box__container">\n    <div class="pg-widget--telegram-box__text">Откройте бота на этом устройстве. Либо отсканируйте qrcode с помощью камеры смартфона</div>\n    <div class="pg-widget--telegram-box__codeContainer"></div>\n    <div class="pg-widget--telegram-box__codeLabelBox">\n        <span class="pg-widget--telegram-box__codeLabel">primegate.io</span>\n    </div>\n    <button class="pg-widget--telegram-box__button">Открыть бота telegram</button>\n    <div class="pg-widget--telegram-box__agreement">Нажимая кнопку открыть бота, вы соглашаетесь с <a class="pg-widget__policy-link">политикой конфиденциальности</a>.</div>\n</div>\n<div class="pg-widget--telegram-box__loader">\n    Загрузка...\n</div>',"","pg-widget--telegram-box"),E("script",t.body,p),e().button.style.backgroundColor=h.settings.widget.element_back_color,e().button.style.color=h.settings.widget.element_text_color,e().codeLabelBox.style.backgroundColor=h.settings.widget.element_back_color,e().codeLabelBox.style.color=h.settings.widget.element_text_color,t.querySelector(".pg-widget--controlBox").addEventListener("openTelegram",function(){e().box.classList.add("pg-widget--telegram-box_hideLoader"),A(e().box,"pg-widget--telegram-box_active"),e().box.style.display="block"}),t.querySelector(".pg-widget--controlBox").addEventListener("openTelegramMobile",function(){t.location.href=n}),t.querySelector(".pg-widget--controlBox").addEventListener("closeControl",function(){e().box.style.display="none",M(e().box,"pg-widget--telegram-box_active")}),e().button.addEventListener("click",function(){h.settings.widget.telegram_bot_name&&(t.location.href=n)}),new QRCode(e().codeContainer,{text:o,correctLevel:QRCode.CorrectLevel.M}),e().codeContainer.removeAttribute("title")}}},ge=function(){var n=function(){return{contentBox:t.querySelector(".pg-widget--controlBox-content"),box:t.querySelector(".pg-widget--whatsApp-box"),isBoxActive:I(t.querySelector(".pg-widget--whatsApp-box"),"pg-widget--whatsApp-box_active"),button:t.querySelector(".pg-widget--whatsApp-box__button"),codeContainer:t.querySelector(".pg-widget--whatsApp-box__codeContainer"),codeLabelBox:t.querySelector(".pg-widget--whatsApp-box__codeLabelBox")}},o="https://wa.me/".concat(h.settings.widget.twillio_whatsapp_phone,"/?text=Привет,%20я%20хочу%20начать%20диалог.%20Мой%20код%20идентификации%20TW").concat(h.settings.session.id),i="https://wa.me/".concat(h.settings.widget.twillio_whatsapp_phone,"/?text=Hello!%20My%20code%20is%20TW").concat(h.settings.session.id);return{widgetWhatsAppInit:function(){L('.pg-widget--whatsApp-box{display:none;max-width:320px;width:320px;padding:13px;margin-top:auto;margin-left:auto}.pg-widget--whatsApp-box__container{display:none;width:100%}.pg-widget--whatsApp-box__codeContainer,.pg-widget--whatsApp-box__codeLabelBox,.pg-widget--whatsApp-box__text{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.pg-widget--whatsApp-box__text{font-size:15px;line-height:1.3;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;color:gray;text-align:center;margin-bottom:18px}.pg-widget--whatsApp-box__codeContainer,.pg-widget--whatsApp-box__codeLabelBox{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.pg-widget--whatsApp-box__codeContainer{width:100%;margin-bottom:10px;margin-top:10px;height:auto}.pg-widget--whatsApp-box__codeContainer img{width:200px}.pg-widget--whatsApp-box__codeLabelBox{position:absolute;bottom:185px;right:121px;height:22px;border-radius:10px;padding:10px}.pg-widget--whatsApp-box__codeLabel{font-size:10px;font-weight:700;font-family:"Fira Sans",sans-serif;margin-top:2px;color:#fff}.pg-widget--whatsApp-box__button{width:100%;height:45px;border:0;border-radius:4px;background-color:#7774ff;outline:0;cursor:pointer;color:#fff;font-size:15px}.pg-widget--whatsApp-box_active{display:block}.pg-widget--whatsApp-box__loader{text-align:center;margin-bottom:60px}.pg-widget--whatsApp-box_hideLoader .pg-widget--whatsApp-box__loader{display:none}.pg-widget--whatsApp-box_hideLoader .pg-widget--whatsApp-box__container{display:block}.pg-widget--whatsApp-box__agreement{font-size:10px;line-height:1.2;color:gray;font-style:italic;margin-top:5px}.pg-widget--whatsApp-box__agreement a{color:gray}'),E("div",t.querySelector(".pg-widget--controlBox-content"),'<div class="pg-widget--whatsApp-box__container">\n    <div class="pg-widget--whatsApp-box__text">Откройте бота на этом устройстве. Либо отсканируйте qrcode с помощью камеры смартфона</div>\n    <div class="pg-widget--whatsApp-box__codeContainer"></div>\n    <div class="pg-widget--whatsApp-box__codeLabelBox">\n        <span class="pg-widget--whatsApp-box__codeLabel">primegate.io</span>\n    </div>\n    <button class="pg-widget--whatsApp-box__button">Открыть whatsApp</button>\n    <div class="pg-widget--whatsApp-box__agreement">Нажимая кнопку открыть бота, вы соглашаетесь с <a class="pg-widget__policy-link">политикой конфиденциальности</a>.</div>\n</div>\n<div class="pg-widget--whatsApp-box__loader">\n    Загрузка...\n</div>',"","pg-widget--whatsApp-box"),!!h.settings.chat&&"1"===h.settings.chat.telegram_status&&h.settings.widget.telegram_status||E("script",t.body,p),n().button.style.backgroundColor=h.settings.widget.element_back_color,n().button.style.color=h.settings.widget.element_text_color,n().codeLabelBox.style.backgroundColor=h.settings.widget.element_back_color,n().codeLabelBox.style.color=h.settings.widget.element_text_color,t.querySelector(".pg-widget--controlBox").addEventListener("openWhatsApp",function(){n().box.classList.add("pg-widget--whatsApp-box_hideLoader"),A(n().box,"pg-widget--whatsApp-box_active"),n().box.style.display="block"}),t.querySelector(".pg-widget--controlBox").addEventListener("openWhatsAppMobile",function(){e.open(o)}),t.querySelector(".pg-widget--controlBox").addEventListener("closeControl",function(){n().box.style.display="none",M(n().box,"pg-widget--whatsApp-box_active")}),n().button.addEventListener("click",function(){h.settings.widget.twillio_whatsapp_phone&&e.open(o)}),new QRCode(n().codeContainer,{text:i,correctLevel:QRCode.CorrectLevel.M}),n().codeContainer.removeAttribute("title")}}},ue=null,pe=null,he=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.apiKey;setTimeout(function(){if(h.apiKey=n,null===h.apiKey||parseInt(h.apiKey)!=h.apiKey)return!1;if(!0==(!!navigator.webdriver||!navigator.cookieEnabled||!!r.bot))return!1;if(localStorage.setItem("lastUserActivity",z()),h.pullSettings=C(l)?JSON.parse(C(l)):null,h.pullSettings,h.emailPullSettings=C(u)?JSON.parse(C(u)):null,h.emailPullSettings,pe=C("primegate_session")?JSON.parse(C("primegate_session")):null,ue=C("primegate_visitor")?JSON.parse(C("primegate_visitor")):null,null===pe||null===ue)h.isNewSession=!0,w.request({url:y("js-client/init",{apiKey:h.apiKey}),method:"POST",data:me()}).done(function(e){if(""!==(e=JSON.parse(e))&&!0===e.success){h.settings=e.data,h.formSelectors=e.form,Z();var t=new Date;t.setFullYear(t.getFullYear()+5),B("primegate_visitor",h.settings.visitor.id,{expires:t.toUTCString(),path:"/"}),B("primegate_session",JSON.stringify(h.settings.session),{expires:1e3*parseInt(null!=h.settings.base.visitor_session_ttl?h.settings.base.visitor_session_ttl:"120")*60,path:"/"}),function e(){if(null!=h.settings.base){var t=h.settings.base.ym_integration,n=h.settings.base.ga_integration,o=h.settings.base.carrotquest_integration,i=h.settings.base.fb_integration;!0===t&&null==C("_ga")||!0===n&&null==C("_ym_uid")||!0===o&&null==C("carrotquest_uid")||!0===i&&null==C("fbclid")?setTimeout(e,300):w.request({url:y("js-client/update-analytics-data",{apiKey:h.apiKey,token:h.settings.session.token}),method:"POST",data:{sessionId:h.settings.session.id,googleClientId:C("_ga"),yandexUserId:C("_ym_uid"),carrotquest_uid:C("carrotquest_uid"),fbclid:C("fbclid")}})}}()}});else{h.isNewSession=!1;var o=y("js-client/module-settings",{apiKey:h.apiKey}),i={pageUrl:e.location.href,pageTitle:t.title?t.title:"",session_id:pe.id};w.request({url:o,method:"POST",data:i}).done(function(e){(e=JSON.parse(e)).success&&(h.settings=e.data,h.settings.session=pe,h.settings.visitor=[],h.settings.visitor.id=ue,h.formSelectors=e.form,Z())})}fe()},1e3)},fe=function e(){if(null===h.settings)setTimeout(e,500);else{O(function(){!function(e){var n,o=_createForOfIteratorHelper(b);try{for(o.s();!(n=o.n()).done;){var i=n.value;t.addEventListener(i,function(){return K(e)})}}catch(e){o.e(e)}finally{o.f()}}(he)}),h.settings.modules=Array.isArray(h.settings.modules)?h.settings.modules:JSON.parse(h.settings.modules);for(var n=0;n<h.settings.modules.length;n++)Primegate[h.settings.modules[n]].init();h.settings.widget.polytics&&h.settings.widget.polytics.trim().length>0&&t.querySelectorAll(".pg-widget__policy-link").forEach(function(e){e.href=h.settings.widget.polytics.trim()})}},me=function(){var n={},o=e.navigator.browserLanguage||e.navigator.language||"";return n.ga_client_id=C("_ga"),n.yandexUserId=C("_ym_uid"),n.browserLanguage=o.substr(0,2).toLowerCase(),n.referrer=t.referrer?t.referrer:"",n.startPageUrl=e.location.href,n.startPageTitle=t.title?t.title:"",n.resolution=e.screen.availWidth+"x"+e.screen.availHeight,n.visitorId=null!=ue?ue:"",n};return{apiKey:h.apiKey,init:he,trackForm:function(n,o){var i=t.querySelector(n);i&&i.addEventListener("submit",function(n){n.preventDefault();var r=V(i),a=function(e,t){var n={};for(var o in t)t.hasOwnProperty(o)&&e[o]&&(n[e[o]]=t[o]);return n}(function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(o),r);a.sessionId=h.settings.session.id,a.page_url=e.location.href,a.page_title=t.title?t.title:"",w.request({url:y("js-client/track-form-handler",{apiKey:h.apiKey,token:h.settings.session.token}),method:"POST",data:a}),i.submit()})},ajaxTrackForm:function(e){var n=t.querySelectorAll(e.formSelector),o=e.inputsBySelector,i=e.submitSelector,r=o?e.attributes:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var o=e[n][1];t[e[n][0]]=[n,o||null]}return t}(e.attributes);n&&(n.length>1?n.forEach(function(t){oe(t,i,r,e,o)}):1===n.length&&oe(n[0],i,r,e,o))},callTracking:te,emailTracking:ne,pullSettings:C(l)?JSON.parse(C(l)):null,widget:ae,leadGenny:re,analyticsSync:ee}}(window,document,PrimeGate);window.pg=window.pg||[],Primegate=Primegate||{};for(var i=0;i<window.pg.length;i+=2)Primegate[window.pg[i]].apply(null,window.pg[i+1]);